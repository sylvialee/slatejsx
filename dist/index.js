import React,{useState,useMemo,useCallback,useEffect,useLayoutEffect,createContext,useContext,useRef,memo}from"react";import throttle from"lodash/throttle";import ReactDOM from"react-dom";import{DeleteOutlined,CheckSquareOutlined,BorderOutlined,LinkOutlined,StarFilled,FormatPainterOutlined,BoldOutlined,ItalicOutlined,UnderlineOutlined,StrikethroughOutlined,CodeOutlined,BgColorsOutlined,FontColorsOutlined,UnorderedListOutlined,OrderedListOutlined,InfoCircleOutlined,AlignLeftOutlined,AlignCenterOutlined,AlignRightOutlined,TagOutlined,TagsOutlined,SoundOutlined,QuestionCircleOutlined,ThunderboltOutlined,StarOutlined,SettingOutlined,ScheduleOutlined,PushpinOutlined,MessageOutlined,HeartOutlined,EditOutlined,SnippetsOutlined,AliwangwangOutlined,WechatOutlined,WeiboOutlined,WarningOutlined,CaretUpOutlined,CaretDownOutlined,SmileOutlined,CreditCardOutlined,CheckCircleOutlined,ExclamationCircleOutlined,CloseCircleOutlined,FontSizeOutlined,MinusCircleOutlined,PlusCircleOutlined,PictureOutlined,TableOutlined,InsertRowLeftOutlined,DeleteColumnOutlined,InsertRowRightOutlined,InsertRowAboveOutlined,DeleteRowOutlined,InsertRowBelowOutlined,MergeCellsOutlined,SplitCellsOutlined,MinusSquareOutlined,CopyOutlined,CodepenOutlined,VideoCameraOutlined,UpCircleOutlined,DownCircleOutlined}from"@ant-design/icons";import{Tooltip,Button,Rate,Input,message,Alert,Popover,Image as Image$1,Card as Card$1,Divider as Divider$1,Select as Select$1,Affix}from"antd";import _$1 from"lodash";function _iterableToArrayLimit(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,u=[],s=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(u.push(r.value),u.length!==t);s=!0);}catch(e){l=!0,a=e}finally{try{if(!s&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(l)throw a}}return u}}function ownKeys$b(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function _objectSpread2(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ownKeys$b(Object(n),!0).forEach(function(e){_defineProperty$2(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$b(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function _toPrimitive(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}function _toPropertyKey(e){e=_toPrimitive(e,"string");return"symbol"==typeof e?e:String(e)}function _defineProperty$2(e,t,n){return(t=_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _extends(){return(_extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _unsupportedIterableToArray(e,t){var n;if(e)return"string"==typeof e?_arrayLikeToArray(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _createForOfIteratorHelper(e,t){var n,r,a,o,i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(i)return r=!(n=!0),{s:function(){i=i.call(e)},n:function(){var e=i.next();return n=e.done,e},e:function(e){r=!0,a=e},f:function(){try{n||null==i.return||i.return()}finally{if(r)throw a}}};if(Array.isArray(e)||(i=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length)return i&&(e=i),o=0,{s:t=function(){},n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function isObject(e){return"[object Object]"===Object.prototype.toString.call(e)}function isPlainObject(e){return!1!==isObject(e)&&(void 0===(e=e.constructor)||!1!==isObject(e=e.prototype)&&!1!==e.hasOwnProperty("isPrototypeOf"))}function n$2(e){for(var t,n=arguments.length,r=Array(1<n?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];if("production"!==process.env.NODE_ENV)throw t=(t=Y[e])?"function"==typeof t?t.apply(null,r):t:"unknown error nr: "+e,Error("[Immer] "+t);throw Error("[Immer] minified error nr: "+e+(r.length?" "+r.map(function(e){return"'"+e+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function r$1(e){return!!e&&!!e[Q]}function t$1(e){var t;return!!e&&(!(!e||"object"!=typeof e)&&(null===(t=Object.getPrototypeOf(e))||(t=Object.hasOwnProperty.call(t,"constructor")&&t.constructor)===Object||"function"==typeof t&&Function.toString.call(t)===Z)||Array.isArray(e)||!!e[L]||!(null==(t=e.constructor)||!t[L])||s(e)||v(e))}function i(n,r,t){void 0===t&&(t=!1),0===o(n)?(t?Object.keys:nn)(n).forEach(function(e){t&&"symbol"==typeof e||r(e,n[e],n)}):n.forEach(function(e,t){return r(t,e,n)})}function o(e){var t=e[Q];return t?3<t.i?t.i-4:t.i:Array.isArray(e)?1:s(e)?2:v(e)?3:0}function u(e,t){return 2===o(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function a(e,t){return 2===o(e)?e.get(t):e[t]}function f(e,t,n){var r=o(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function c(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function s(e){return X&&e instanceof Map}function v(e){return q&&e instanceof Set}function p(e){return e.o||e.t}function l(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=rn(e);delete t[Q];for(var n=nn(t),r=0;r<n.length;r++){var a=n[r],o=t[a];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[a]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[a]})}return Object.create(Object.getPrototypeOf(e),t)}function d(e,t){return void 0===t&&(t=!1),y(e)||r$1(e)||!t$1(e)||(1<o(e)&&(e.set=e.add=e.clear=e.delete=h),Object.freeze(e),t&&i(e,function(e,t){return d(t,!0)},!0)),e}function h(){n$2(2)}function y(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function b(e){var t=tn[e];return t||n$2(18,e),t}function _(){return"production"===process.env.NODE_ENV||U||n$2(0),U}function j(e,t){t&&(b("Patches"),e.u=[],e.s=[],e.v=t)}function g(e){O(e),e.p.forEach(S),e.p=null}function O(e){e===U&&(U=e.l)}function w(e){return U={p:[],l:U,h:e,m:!0,_:0}}function S(e){e=e[Q];0===e.i||1===e.i?e.j():e.g=!0}function P(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.O||b("ES5").S(t,e,r),r?(n[Q].P&&(g(t),n$2(4)),t$1(e)&&(e=M(t,e),t.l||x(t,e)),t.u&&b("Patches").M(n[Q].t,e,t.u,t.s)):e=M(t,n,[]),g(t),t.u&&t.v(t.u,t.s),e!==H?e:void 0}function M(n,r,a){var o,u,e,s;return y(r)?r:(o=r[Q])?o.A!==n?r:o.P?(o.I||(o.I=!0,o.A._--,e=u=4===o.i||5===o.i?o.o=l(o.k):o.o,s=!1,3===o.i&&(e=new Set(u),u.clear(),s=!0),i(e,function(e,t){return A(n,o,u,e,t,a,s)}),x(n,u,!1),a&&n.u&&b("Patches").N(o,a,n.u,n.s)),o.o):(x(n,o.t,!0),o.t):(i(r,function(e,t){return A(n,o,r,e,t,a)},!0),r)}function A(e,t,n,r,a,o,i){if("production"!==process.env.NODE_ENV&&a===n&&n$2(5),r$1(a)){o=M(e,a,o&&t&&3!==t.i&&!u(t.R,r)?o.concat(r):void 0);if(f(n,r,o),!r$1(o))return;e.m=!1}else i&&n.add(a);!t$1(a)||y(a)||!e.h.D&&e._<1||(M(e,a),t&&t.A.l)||x(e,a)}function x(e,t,n){void 0===n&&(n=!1),!e.l&&e.h.D&&e.m&&d(t,n)}function z(e,t){var n=e[Q];return(n?p(n):e)[t]}function I(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function k(e){e.P||(e.P=!0,e.l&&k(e.l))}function E(e){e.o||(e.o=l(e.t))}function N(e,t,n){var r,a,o=s(t)?b("MapSet").F(t,n):v(t)?b("MapSet").T(t,n):e.O?(e=t,r=n,o=Array.isArray(e),r={i:o?1:0,A:r?r.A:_(),P:!1,I:!1,R:{},l:r,t:e,k:null,o:null,j:null,C:!1},e=r,a=en,o&&(e=[r],a=on),o=Proxy.revocable(e,a),e=o.revoke,a=o.proxy,r.k=a,r.j=e,a):b("ES5").J(t,n);return(n?n.A:_()).p.push(o),o}function R(e){return r$1(e)||n$2(22,e),function n(e){if(!t$1(e))return e;var r,u=e[Q],t=o(e);if(u){if(!u.P&&(u.i<4||!b("ES5").K(u)))return u.t;u.I=!0,r=D(e,t),u.I=!1}else r=D(e,t);return i(r,function(e,t){u&&a(u.t,e)===t||f(r,e,n(t))}),3===t?new Set(r):r}(e)}function D(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return l(e)}var G,U,W="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),X="undefined"!=typeof Map,q="undefined"!=typeof Set,B="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,H=W?Symbol.for("immer-nothing"):((G={})["immer-nothing"]=!0,G),L=W?Symbol.for("immer-draftable"):"__$immer_draftable",Q=W?Symbol.for("immer-state"):"__$immer_state",Y={0:"Illegal state",1:"Immer drafts cannot have computed properties",2:"This object has been frozen and should not be mutated",3:function(e){return"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? "+e},4:"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.",5:"Immer forbids circular references",6:"The first or second argument to `produce` must be a function",7:"The third argument to `produce` must be a function or undefined",8:"First argument to `createDraft` must be a plain object, an array, or an immerable object",9:"First argument to `finishDraft` must be a draft returned by `createDraft`",10:"The given draft is already finalized",11:"Object.defineProperty() cannot be used on an Immer draft",12:"Object.setPrototypeOf() cannot be used on an Immer draft",13:"Immer only supports deleting array indices",14:"Immer only supports setting array indices and the 'length' property",15:function(e){return"Cannot apply patch, path doesn't resolve: "+e},16:'Sets cannot have "replace" patches.',17:function(e){return"Unsupported patch operation: "+e},18:function(e){return"The plugin for '"+e+"' has not been loaded into Immer. To enable the plugin, import and call `enable"+e+"()` when initializing your application."},20:"Cannot use proxies if Proxy, Proxy.revocable or Reflect are not available",21:function(e){return"produce can only be called on things that are draftable: plain objects, arrays, Map, Set or classes that are marked with '[immerable]: true'. Got '"+e+"'"},22:function(e){return"'current' expects a draft, got: "+e},23:function(e){return"'original' expects a draft, got: "+e},24:"Patching reserved attributes like __proto__, prototype and constructor is not allowed"},Z=""+Object.prototype.constructor,nn="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,rn=Object.getOwnPropertyDescriptors||function(t){var n={};return nn(t).forEach(function(e){n[e]=Object.getOwnPropertyDescriptor(t,e)}),n},tn={},en={get:function(e,t){var n,r;return t===Q?e:u(n=p(e),t)?(r=n[t],!e.I&&t$1(r)&&r===z(e.t,t)?(E(e),e.o[t]=N(e.A.h,r,e)):r):(r=e,(e=I(n,t))?"value"in e?e.value:null==(e=e.get)?void 0:e.call(r.k):void 0)},has:function(e,t){return t in p(e)},ownKeys:function(e){return Reflect.ownKeys(p(e))},set:function(e,t,n){var r=I(p(e),t);if(null!=r&&r.set)r.set.call(e.k,n);else{if(!e.P){var r=z(p(e),t),a=null==r?void 0:r[Q];if(a&&a.t===n)return e.o[t]=n,!(e.R[t]=!1);if(c(n,r)&&(void 0!==n||u(e.t,t)))return!0;E(e),k(e)}e.o[t]===n&&(void 0!==n||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0)}return!0},deleteProperty:function(e,t){return void 0!==z(e.t,t)||t in e.t?(e.R[t]=!1,E(e),k(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=p(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}},defineProperty:function(){n$2(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){n$2(12)}},on={},un=(i(en,function(e,t){on[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),on.deleteProperty=function(e,t){return"production"!==process.env.NODE_ENV&&isNaN(parseInt(t))&&n$2(13),on.set.call(this,e,t,void 0)},on.set=function(e,t,n){return"production"!==process.env.NODE_ENV&&"length"!==t&&isNaN(parseInt(t))&&n$2(14),en.set.call(this,e[0],t,n,e[0])},function(){function e(e){var l=this;this.O=B,this.D=!0,this.produce=function(e,o,t){var i,u,n;if("function"==typeof e&&"function"!=typeof o)return i=o,o=e,u=l,function(e){var t=this;void 0===e&&(e=i);for(var n=arguments.length,r=Array(1<n?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return u.produce(e,function(e){return o.call.apply(o,[t,e].concat(r))})};if("function"!=typeof o&&n$2(6),void 0!==t&&"function"!=typeof t&&n$2(7),t$1(e)){var r=w(l),a=N(l,e,void 0),s=!0;try{n=o(a),s=!1}finally{(s?g:O)(r)}return"undefined"!=typeof Promise&&n instanceof Promise?n.then(function(e){return j(r,t),P(e,r)},function(e){throw g(r),e}):(j(r,t),P(n,r))}if(!e||"object"!=typeof e)return(n=void 0===(n=o(e))?e:n)===H&&(n=void 0),l.D&&d(n,!0),t&&(a=[],s=[],b("Patches").M(e,n,a,s),t(a,s)),n;n$2(21,e)},this.produceWithPatches=function(a,e){var n,r;return"function"==typeof a?function(e){for(var t=arguments.length,n=Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return l.produceWithPatches(e,function(e){return a.apply(void 0,[e].concat(n))})}:(e=l.produce(a,e,function(e,t){n=e,r=t}),"undefined"!=typeof Promise&&e instanceof Promise?e.then(function(e){return[e,n,r]}):[e,n,r])},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){t$1(e)||n$2(8),r$1(e)&&(e=R(e));var t=w(this),e=N(this,e,void 0);return e[Q].C=!0,O(t),e},t.finishDraft=function(e,t){e=e&&e[Q],"production"!==process.env.NODE_ENV&&(e&&e.C||n$2(9),e.I)&&n$2(10),e=e.A;return j(e,t),P(void 0,e)},t.setAutoFreeze=function(e){this.D=e},t.setUseProxies=function(e){e&&!B&&n$2(20),this.O=e},t.applyPatches=function(e,t){for(var n=t.length-1;0<=n;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}-1<n&&(t=t.slice(n+1));var a=b("Patches").$;return r$1(e)?a(e,t):this.produce(e,function(e){return a(e,t)})},e}()),an=new un,fn=an.produce,ln=(an.produceWithPatches.bind(an),an.setAutoFreeze.bind(an),an.setUseProxies.bind(an),an.applyPatches.bind(an),an.createDraft.bind(an)),dn=an.finishDraft.bind(an);function _defineProperty$1(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var DIRTY_PATHS=new WeakMap,DIRTY_PATH_KEYS=new WeakMap,FLUSHING=new WeakMap,NORMALIZING=new WeakMap,PATH_REFS=new WeakMap,POINT_REFS=new WeakMap,RANGE_REFS=new WeakMap;function ownKeys$9(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function _objectSpread$9(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ownKeys$9(Object(n),!0).forEach(function(e){_defineProperty$1(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$9(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var createEditor=()=>{var d={children:[],operations:[],selection:null,marks:null,isInline:()=>!1,isVoid:()=>!1,onChange:()=>{},apply:e=>{for(var t of Editor.pathRefs(d))PathRef.transform(t,e);for(var n of Editor.pointRefs(d))PointRef.transform(n,e);for(var r of Editor.rangeRefs(d))RangeRef.transform(r,e);var a,o,i,u=DIRTY_PATHS.get(d)||[],s=DIRTY_PATH_KEYS.get(d)||new Set,l=e=>{var t;e&&(t=e.join(","),o.has(t)||(o.add(t),a.push(e)))};if(Path.operationCanTransformPath(e)){a=[],o=new Set;for(var c of u)l(Path.transform(c,e))}else a=u,o=s;for(i of getDirtyPaths(e))l(i);DIRTY_PATHS.set(d,a),DIRTY_PATH_KEYS.set(d,o),Transforms.transform(d,e),d.operations.push(e),Editor.normalize(d),"set_selection"===e.type&&(d.marks=null),FLUSHING.get(d)||(FLUSHING.set(d,!0),Promise.resolve().then(()=>{FLUSHING.set(d,!1),d.onChange(),d.operations=[]}))},addMark:(e,t)=>{var n=d["selection"];n&&(Range.isExpanded(n)?Transforms.setNodes(d,{[e]:t},{match:Text$1.isText,split:!0}):(n=_objectSpread$9(_objectSpread$9({},Editor.marks(d)||{}),{},{[e]:t}),d.marks=n,FLUSHING.get(d)||d.onChange()))},deleteBackward:e=>{var t=d["selection"];t&&Range.isCollapsed(t)&&Transforms.delete(d,{unit:e,reverse:!0})},deleteForward:e=>{var t=d["selection"];t&&Range.isCollapsed(t)&&Transforms.delete(d,{unit:e})},deleteFragment:e=>{var t=d["selection"];t&&Range.isExpanded(t)&&Transforms.delete(d,{reverse:"backward"===e})},getFragment:()=>{var e=d["selection"];return e?Node.fragment(d,e):[]},insertBreak:()=>{Transforms.splitNodes(d,{always:!0})},insertFragment:e=>{Transforms.insertFragment(d,e)},insertNode:e=>{Transforms.insertNodes(d,e)},insertText:e=>{var{selection:t,marks:n}=d;t&&(n?(t=_objectSpread$9({text:e},n),Transforms.insertNodes(d,t)):Transforms.insertText(d,e),d.marks=null)},normalizeNode:e=>{var[t,n]=e;if(!Text$1.isText(t))if(Element$a.isElement(t)&&0===t.children.length)Transforms.insertNodes(d,{text:""},{at:n.concat(0),voids:!0});else for(var r=!Editor.isEditor(t)&&Element$a.isElement(t)&&(d.isInline(t)||0===t.children.length||Text$1.isText(t.children[0])||d.isInline(t.children[0])),a=0,o=0;o<t.children.length;o++,a++){var i,u,s=Node.get(d,n);Text$1.isText(s)||(i=t.children[o],s=s.children[a-1],u=o===t.children.length-1,(Text$1.isText(i)||Element$a.isElement(i)&&d.isInline(i))!==r?(Transforms.removeNodes(d,{at:n.concat(a),voids:!0}),a--):Element$a.isElement(i)?d.isInline(i)&&(null!=s&&Text$1.isText(s)?u&&(Transforms.insertNodes(d,{text:""},{at:n.concat(a+1),voids:!0}),a++):(Transforms.insertNodes(d,{text:""},{at:n.concat(a),voids:!0}),a++)):null!=s&&Text$1.isText(s)&&(Text$1.equals(i,s,{loose:!0})?(Transforms.mergeNodes(d,{at:n.concat(a),voids:!0}),a--):""===s.text?(Transforms.removeNodes(d,{at:n.concat(a-1),voids:!0}),a--):""===i.text&&(Transforms.removeNodes(d,{at:n.concat(a),voids:!0}),a--)))}},removeMark:e=>{var t=d["selection"];t&&(Range.isExpanded(t)?Transforms.unsetNodes(d,e,{match:Text$1.isText,split:!0}):(delete(t=_objectSpread$9({},Editor.marks(d)||{}))[e],d.marks=t,FLUSHING.get(d)||d.onChange()))}};return d},getDirtyPaths=e=>{switch(e.type){case"insert_text":case"remove_text":case"set_node":var t=e["path"];return Path.levels(t);case"insert_node":var{node:t,path:n}=e,r=Path.levels(n),t=Text$1.isText(t)?[]:Array.from(Node.nodes(t),e=>{var[,e]=e;return n.concat(e)});return[...r,...t];case"merge_node":r=e["path"],t=Path.ancestors(r),r=Path.previous(r);return[...t,r];case"move_node":var{path:t,newPath:r}=e;if(Path.equals(t,r))return[];var a,o,i=[],u=[];for(a of Path.ancestors(t)){var s=Path.transform(a,e);i.push(s)}for(o of Path.ancestors(r)){var l=Path.transform(o,e);u.push(l)}t=u[u.length-1],r=r[r.length-1],t=t.concat(r);return[...i,...u,t];case"remove_node":r=e["path"];return[...Path.ancestors(r)];case"split_node":t=e["path"],r=Path.levels(t),t=Path.next(t);return[...r,t];default:return[]}};function _objectWithoutPropertiesLoose$1(e,t){if(null==e)return{};for(var n,r={},a=Object.keys(e),o=0;o<a.length;o++)n=a[o],0<=t.indexOf(n)||(r[n]=e[n]);return r}function _objectWithoutProperties$1(e,t){if(null==e)return{};var n,r=_objectWithoutPropertiesLoose$1(e,t);if(Object.getOwnPropertySymbols)for(var a=Object.getOwnPropertySymbols(e),o=0;o<a.length;o++)n=a[o],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}var CodepointType,getCharacterDistance=function(e){var t,n=1<arguments.length&&void 0!==arguments[1]&&arguments[1],r=!n,n=n?codepointsIteratorRTL(e):e,a=CodepointType.None,o=CodepointType.None,i=0,u=null;for(t of n){var s=t.codePointAt(0);if(!s)break;s=getCodepointType(t,s);if([a,o]=r?[o,s]:[s,a],intersects(a,CodepointType.ZWJ)&&intersects(o,CodepointType.ExtPict)&&!endsWithEmojiZWJ(r?e.substring(0,i):e.substring(0,e.length-i)))break;if(intersects(a,CodepointType.RI)&&intersects(o,CodepointType.RI)&&!(u=null!==u?!u:r||endsWithOddNumberOfRIs(e.substring(0,e.length-i))))break;if(a!==CodepointType.None&&o!==CodepointType.None&&isBoundaryPair(a,o))break;i+=t.length}return i||1},SPACE=/\s/,PUNCTUATION=/[\u0021-\u0023\u0025-\u002A\u002C-\u002F\u003A\u003B\u003F\u0040\u005B-\u005D\u005F\u007B\u007D\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E3B\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,CHAMELEON=/['\u2018\u2019]/,getWordDistance=function(e){for(var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=0,r=!1;0<e.length;){var a=getCharacterDistance(e,t),[o,i]=splitByCharacterDistance(e,a,t);if(isWordCharacter(o,i,t))r=!0;else if(r)break;n+=a,e=i}return n},splitByCharacterDistance=(e,t,n)=>{return n?(n=e.length-t,[e.slice(n,e.length),e.slice(0,n)]):[e.slice(0,t),e.slice(t)]},isWordCharacter=function e(t,n){var r=2<arguments.length&&void 0!==arguments[2]&&arguments[2];if(SPACE.test(t))return!1;if(CHAMELEON.test(t)){var a=getCharacterDistance(n,r),[a,o]=splitByCharacterDistance(n,a,r);if(e(a,o,r))return!0}return!PUNCTUATION.test(t)},codepointsIteratorRTL=function*(e){for(var t=e.length-1,n=0;n<e.length;n++){var r=e.charAt(t-n);if(isLowSurrogate(r.charCodeAt(0))){var a=e.charAt(t-n-1);if(isHighSurrogate(a.charCodeAt(0))){yield a+r,n++;continue}}yield r}},isHighSurrogate=e=>55296<=e&&e<=56319,isLowSurrogate=e=>56320<=e&&e<=57343,reExtend=(!function(e){e[e.None=0]="None",e[e.Extend=1]="Extend",e[e.ZWJ=2]="ZWJ",e[e.RI=4]="RI",e[e.Prepend=8]="Prepend",e[e.SpacingMark=16]="SpacingMark",e[e.L=32]="L",e[e.V=64]="V",e[e.T=128]="T",e[e.LV=256]="LV",e[e.LVT=512]="LVT",e[e.ExtPict=1024]="ExtPict",e[e.Any=2048]="Any"}(CodepointType=CodepointType||{}),/^(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1AC0\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDF46-\uDF50]|\uD804[\uDC01\uDC38-\uDC46\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD30-\uDD36\uDEEC-\uDEEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])$/),rePrepend=/^(?:[\u0600-\u0605\u06DD\u070F\u0890\u0891\u08E2\u0D4E]|\uD804[\uDCBD\uDCCD\uDDC2\uDDC3]|\uD806[\uDD3F\uDD41\uDE3A\uDE84-\uDE89]|\uD807\uDD46)$/,reSpacingMark=/^(?:[\u0903\u093B\u093E-\u0940\u0949-\u094C\u094E\u094F\u0982\u0983\u09BF\u09C0\u09C7\u09C8\u09CB\u09CC\u0A03\u0A3E-\u0A40\u0A83\u0ABE-\u0AC0\u0AC9\u0ACB\u0ACC\u0B02\u0B03\u0B40\u0B47\u0B48\u0B4B\u0B4C\u0BBF\u0BC1\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCC\u0C01-\u0C03\u0C41-\u0C44\u0C82\u0C83\u0CBE\u0CC0\u0CC1\u0CC3\u0CC4\u0CC7\u0CC8\u0CCA\u0CCB\u0D02\u0D03\u0D3F\u0D40\u0D46-\u0D48\u0D4A-\u0D4C\u0D82\u0D83\u0DD0\u0DD1\u0DD8-\u0DDE\u0DF2\u0DF3\u0E33\u0EB3\u0F3E\u0F3F\u0F7F\u1031\u103B\u103C\u1056\u1057\u1084\u1715\u1734\u17B6\u17BE-\u17C5\u17C7\u17C8\u1923-\u1926\u1929-\u192B\u1930\u1931\u1933-\u1938\u1A19\u1A1A\u1A55\u1A57\u1A6D-\u1A72\u1B04\u1B3B\u1B3D-\u1B41\u1B43\u1B44\u1B82\u1BA1\u1BA6\u1BA7\u1BAA\u1BE7\u1BEA-\u1BEC\u1BEE\u1BF2\u1BF3\u1C24-\u1C2B\u1C34\u1C35\u1CE1\u1CF7\uA823\uA824\uA827\uA880\uA881\uA8B4-\uA8C3\uA952\uA953\uA983\uA9B4\uA9B5\uA9BA\uA9BB\uA9BE-\uA9C0\uAA2F\uAA30\uAA33\uAA34\uAA4D\uAAEB\uAAEE\uAAEF\uAAF5\uABE3\uABE4\uABE6\uABE7\uABE9\uABEA\uABEC]|\uD804[\uDC00\uDC02\uDC82\uDCB0-\uDCB2\uDCB7\uDCB8\uDD2C\uDD45\uDD46\uDD82\uDDB3-\uDDB5\uDDBF\uDDC0\uDDCE\uDE2C-\uDE2E\uDE32\uDE33\uDE35\uDEE0-\uDEE2\uDF02\uDF03\uDF3F\uDF41-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF62\uDF63]|\uD805[\uDC35-\uDC37\uDC40\uDC41\uDC45\uDCB1\uDCB2\uDCB9\uDCBB\uDCBC\uDCBE\uDCC1\uDDB0\uDDB1\uDDB8-\uDDBB\uDDBE\uDE30-\uDE32\uDE3B\uDE3C\uDE3E\uDEAC\uDEAE\uDEAF\uDEB6\uDF26]|\uD806[\uDC2C-\uDC2E\uDC38\uDD31-\uDD35\uDD37\uDD38\uDD3D\uDD40\uDD42\uDDD1-\uDDD3\uDDDC-\uDDDF\uDDE4\uDE39\uDE57\uDE58\uDE97]|\uD807[\uDC2F\uDC3E\uDCA9\uDCB1\uDCB4\uDD8A-\uDD8E\uDD93\uDD94\uDD96\uDEF5\uDEF6]|\uD81B[\uDF51-\uDF87\uDFF0\uDFF1]|\uD834[\uDD66\uDD6D])$/,reL=/^[\u1100-\u115F\uA960-\uA97C]$/,reV=/^[\u1160-\u11A7\uD7B0-\uD7C6]$/,reT=/^[\u11A8-\u11FF\uD7CB-\uD7FB]$/,reLV=/^[\uAC00\uAC1C\uAC38\uAC54\uAC70\uAC8C\uACA8\uACC4\uACE0\uACFC\uAD18\uAD34\uAD50\uAD6C\uAD88\uADA4\uADC0\uADDC\uADF8\uAE14\uAE30\uAE4C\uAE68\uAE84\uAEA0\uAEBC\uAED8\uAEF4\uAF10\uAF2C\uAF48\uAF64\uAF80\uAF9C\uAFB8\uAFD4\uAFF0\uB00C\uB028\uB044\uB060\uB07C\uB098\uB0B4\uB0D0\uB0EC\uB108\uB124\uB140\uB15C\uB178\uB194\uB1B0\uB1CC\uB1E8\uB204\uB220\uB23C\uB258\uB274\uB290\uB2AC\uB2C8\uB2E4\uB300\uB31C\uB338\uB354\uB370\uB38C\uB3A8\uB3C4\uB3E0\uB3FC\uB418\uB434\uB450\uB46C\uB488\uB4A4\uB4C0\uB4DC\uB4F8\uB514\uB530\uB54C\uB568\uB584\uB5A0\uB5BC\uB5D8\uB5F4\uB610\uB62C\uB648\uB664\uB680\uB69C\uB6B8\uB6D4\uB6F0\uB70C\uB728\uB744\uB760\uB77C\uB798\uB7B4\uB7D0\uB7EC\uB808\uB824\uB840\uB85C\uB878\uB894\uB8B0\uB8CC\uB8E8\uB904\uB920\uB93C\uB958\uB974\uB990\uB9AC\uB9C8\uB9E4\uBA00\uBA1C\uBA38\uBA54\uBA70\uBA8C\uBAA8\uBAC4\uBAE0\uBAFC\uBB18\uBB34\uBB50\uBB6C\uBB88\uBBA4\uBBC0\uBBDC\uBBF8\uBC14\uBC30\uBC4C\uBC68\uBC84\uBCA0\uBCBC\uBCD8\uBCF4\uBD10\uBD2C\uBD48\uBD64\uBD80\uBD9C\uBDB8\uBDD4\uBDF0\uBE0C\uBE28\uBE44\uBE60\uBE7C\uBE98\uBEB4\uBED0\uBEEC\uBF08\uBF24\uBF40\uBF5C\uBF78\uBF94\uBFB0\uBFCC\uBFE8\uC004\uC020\uC03C\uC058\uC074\uC090\uC0AC\uC0C8\uC0E4\uC100\uC11C\uC138\uC154\uC170\uC18C\uC1A8\uC1C4\uC1E0\uC1FC\uC218\uC234\uC250\uC26C\uC288\uC2A4\uC2C0\uC2DC\uC2F8\uC314\uC330\uC34C\uC368\uC384\uC3A0\uC3BC\uC3D8\uC3F4\uC410\uC42C\uC448\uC464\uC480\uC49C\uC4B8\uC4D4\uC4F0\uC50C\uC528\uC544\uC560\uC57C\uC598\uC5B4\uC5D0\uC5EC\uC608\uC624\uC640\uC65C\uC678\uC694\uC6B0\uC6CC\uC6E8\uC704\uC720\uC73C\uC758\uC774\uC790\uC7AC\uC7C8\uC7E4\uC800\uC81C\uC838\uC854\uC870\uC88C\uC8A8\uC8C4\uC8E0\uC8FC\uC918\uC934\uC950\uC96C\uC988\uC9A4\uC9C0\uC9DC\uC9F8\uCA14\uCA30\uCA4C\uCA68\uCA84\uCAA0\uCABC\uCAD8\uCAF4\uCB10\uCB2C\uCB48\uCB64\uCB80\uCB9C\uCBB8\uCBD4\uCBF0\uCC0C\uCC28\uCC44\uCC60\uCC7C\uCC98\uCCB4\uCCD0\uCCEC\uCD08\uCD24\uCD40\uCD5C\uCD78\uCD94\uCDB0\uCDCC\uCDE8\uCE04\uCE20\uCE3C\uCE58\uCE74\uCE90\uCEAC\uCEC8\uCEE4\uCF00\uCF1C\uCF38\uCF54\uCF70\uCF8C\uCFA8\uCFC4\uCFE0\uCFFC\uD018\uD034\uD050\uD06C\uD088\uD0A4\uD0C0\uD0DC\uD0F8\uD114\uD130\uD14C\uD168\uD184\uD1A0\uD1BC\uD1D8\uD1F4\uD210\uD22C\uD248\uD264\uD280\uD29C\uD2B8\uD2D4\uD2F0\uD30C\uD328\uD344\uD360\uD37C\uD398\uD3B4\uD3D0\uD3EC\uD408\uD424\uD440\uD45C\uD478\uD494\uD4B0\uD4CC\uD4E8\uD504\uD520\uD53C\uD558\uD574\uD590\uD5AC\uD5C8\uD5E4\uD600\uD61C\uD638\uD654\uD670\uD68C\uD6A8\uD6C4\uD6E0\uD6FC\uD718\uD734\uD750\uD76C\uD788]$/,reLVT=/^[\uAC01-\uAC1B\uAC1D-\uAC37\uAC39-\uAC53\uAC55-\uAC6F\uAC71-\uAC8B\uAC8D-\uACA7\uACA9-\uACC3\uACC5-\uACDF\uACE1-\uACFB\uACFD-\uAD17\uAD19-\uAD33\uAD35-\uAD4F\uAD51-\uAD6B\uAD6D-\uAD87\uAD89-\uADA3\uADA5-\uADBF\uADC1-\uADDB\uADDD-\uADF7\uADF9-\uAE13\uAE15-\uAE2F\uAE31-\uAE4B\uAE4D-\uAE67\uAE69-\uAE83\uAE85-\uAE9F\uAEA1-\uAEBB\uAEBD-\uAED7\uAED9-\uAEF3\uAEF5-\uAF0F\uAF11-\uAF2B\uAF2D-\uAF47\uAF49-\uAF63\uAF65-\uAF7F\uAF81-\uAF9B\uAF9D-\uAFB7\uAFB9-\uAFD3\uAFD5-\uAFEF\uAFF1-\uB00B\uB00D-\uB027\uB029-\uB043\uB045-\uB05F\uB061-\uB07B\uB07D-\uB097\uB099-\uB0B3\uB0B5-\uB0CF\uB0D1-\uB0EB\uB0ED-\uB107\uB109-\uB123\uB125-\uB13F\uB141-\uB15B\uB15D-\uB177\uB179-\uB193\uB195-\uB1AF\uB1B1-\uB1CB\uB1CD-\uB1E7\uB1E9-\uB203\uB205-\uB21F\uB221-\uB23B\uB23D-\uB257\uB259-\uB273\uB275-\uB28F\uB291-\uB2AB\uB2AD-\uB2C7\uB2C9-\uB2E3\uB2E5-\uB2FF\uB301-\uB31B\uB31D-\uB337\uB339-\uB353\uB355-\uB36F\uB371-\uB38B\uB38D-\uB3A7\uB3A9-\uB3C3\uB3C5-\uB3DF\uB3E1-\uB3FB\uB3FD-\uB417\uB419-\uB433\uB435-\uB44F\uB451-\uB46B\uB46D-\uB487\uB489-\uB4A3\uB4A5-\uB4BF\uB4C1-\uB4DB\uB4DD-\uB4F7\uB4F9-\uB513\uB515-\uB52F\uB531-\uB54B\uB54D-\uB567\uB569-\uB583\uB585-\uB59F\uB5A1-\uB5BB\uB5BD-\uB5D7\uB5D9-\uB5F3\uB5F5-\uB60F\uB611-\uB62B\uB62D-\uB647\uB649-\uB663\uB665-\uB67F\uB681-\uB69B\uB69D-\uB6B7\uB6B9-\uB6D3\uB6D5-\uB6EF\uB6F1-\uB70B\uB70D-\uB727\uB729-\uB743\uB745-\uB75F\uB761-\uB77B\uB77D-\uB797\uB799-\uB7B3\uB7B5-\uB7CF\uB7D1-\uB7EB\uB7ED-\uB807\uB809-\uB823\uB825-\uB83F\uB841-\uB85B\uB85D-\uB877\uB879-\uB893\uB895-\uB8AF\uB8B1-\uB8CB\uB8CD-\uB8E7\uB8E9-\uB903\uB905-\uB91F\uB921-\uB93B\uB93D-\uB957\uB959-\uB973\uB975-\uB98F\uB991-\uB9AB\uB9AD-\uB9C7\uB9C9-\uB9E3\uB9E5-\uB9FF\uBA01-\uBA1B\uBA1D-\uBA37\uBA39-\uBA53\uBA55-\uBA6F\uBA71-\uBA8B\uBA8D-\uBAA7\uBAA9-\uBAC3\uBAC5-\uBADF\uBAE1-\uBAFB\uBAFD-\uBB17\uBB19-\uBB33\uBB35-\uBB4F\uBB51-\uBB6B\uBB6D-\uBB87\uBB89-\uBBA3\uBBA5-\uBBBF\uBBC1-\uBBDB\uBBDD-\uBBF7\uBBF9-\uBC13\uBC15-\uBC2F\uBC31-\uBC4B\uBC4D-\uBC67\uBC69-\uBC83\uBC85-\uBC9F\uBCA1-\uBCBB\uBCBD-\uBCD7\uBCD9-\uBCF3\uBCF5-\uBD0F\uBD11-\uBD2B\uBD2D-\uBD47\uBD49-\uBD63\uBD65-\uBD7F\uBD81-\uBD9B\uBD9D-\uBDB7\uBDB9-\uBDD3\uBDD5-\uBDEF\uBDF1-\uBE0B\uBE0D-\uBE27\uBE29-\uBE43\uBE45-\uBE5F\uBE61-\uBE7B\uBE7D-\uBE97\uBE99-\uBEB3\uBEB5-\uBECF\uBED1-\uBEEB\uBEED-\uBF07\uBF09-\uBF23\uBF25-\uBF3F\uBF41-\uBF5B\uBF5D-\uBF77\uBF79-\uBF93\uBF95-\uBFAF\uBFB1-\uBFCB\uBFCD-\uBFE7\uBFE9-\uC003\uC005-\uC01F\uC021-\uC03B\uC03D-\uC057\uC059-\uC073\uC075-\uC08F\uC091-\uC0AB\uC0AD-\uC0C7\uC0C9-\uC0E3\uC0E5-\uC0FF\uC101-\uC11B\uC11D-\uC137\uC139-\uC153\uC155-\uC16F\uC171-\uC18B\uC18D-\uC1A7\uC1A9-\uC1C3\uC1C5-\uC1DF\uC1E1-\uC1FB\uC1FD-\uC217\uC219-\uC233\uC235-\uC24F\uC251-\uC26B\uC26D-\uC287\uC289-\uC2A3\uC2A5-\uC2BF\uC2C1-\uC2DB\uC2DD-\uC2F7\uC2F9-\uC313\uC315-\uC32F\uC331-\uC34B\uC34D-\uC367\uC369-\uC383\uC385-\uC39F\uC3A1-\uC3BB\uC3BD-\uC3D7\uC3D9-\uC3F3\uC3F5-\uC40F\uC411-\uC42B\uC42D-\uC447\uC449-\uC463\uC465-\uC47F\uC481-\uC49B\uC49D-\uC4B7\uC4B9-\uC4D3\uC4D5-\uC4EF\uC4F1-\uC50B\uC50D-\uC527\uC529-\uC543\uC545-\uC55F\uC561-\uC57B\uC57D-\uC597\uC599-\uC5B3\uC5B5-\uC5CF\uC5D1-\uC5EB\uC5ED-\uC607\uC609-\uC623\uC625-\uC63F\uC641-\uC65B\uC65D-\uC677\uC679-\uC693\uC695-\uC6AF\uC6B1-\uC6CB\uC6CD-\uC6E7\uC6E9-\uC703\uC705-\uC71F\uC721-\uC73B\uC73D-\uC757\uC759-\uC773\uC775-\uC78F\uC791-\uC7AB\uC7AD-\uC7C7\uC7C9-\uC7E3\uC7E5-\uC7FF\uC801-\uC81B\uC81D-\uC837\uC839-\uC853\uC855-\uC86F\uC871-\uC88B\uC88D-\uC8A7\uC8A9-\uC8C3\uC8C5-\uC8DF\uC8E1-\uC8FB\uC8FD-\uC917\uC919-\uC933\uC935-\uC94F\uC951-\uC96B\uC96D-\uC987\uC989-\uC9A3\uC9A5-\uC9BF\uC9C1-\uC9DB\uC9DD-\uC9F7\uC9F9-\uCA13\uCA15-\uCA2F\uCA31-\uCA4B\uCA4D-\uCA67\uCA69-\uCA83\uCA85-\uCA9F\uCAA1-\uCABB\uCABD-\uCAD7\uCAD9-\uCAF3\uCAF5-\uCB0F\uCB11-\uCB2B\uCB2D-\uCB47\uCB49-\uCB63\uCB65-\uCB7F\uCB81-\uCB9B\uCB9D-\uCBB7\uCBB9-\uCBD3\uCBD5-\uCBEF\uCBF1-\uCC0B\uCC0D-\uCC27\uCC29-\uCC43\uCC45-\uCC5F\uCC61-\uCC7B\uCC7D-\uCC97\uCC99-\uCCB3\uCCB5-\uCCCF\uCCD1-\uCCEB\uCCED-\uCD07\uCD09-\uCD23\uCD25-\uCD3F\uCD41-\uCD5B\uCD5D-\uCD77\uCD79-\uCD93\uCD95-\uCDAF\uCDB1-\uCDCB\uCDCD-\uCDE7\uCDE9-\uCE03\uCE05-\uCE1F\uCE21-\uCE3B\uCE3D-\uCE57\uCE59-\uCE73\uCE75-\uCE8F\uCE91-\uCEAB\uCEAD-\uCEC7\uCEC9-\uCEE3\uCEE5-\uCEFF\uCF01-\uCF1B\uCF1D-\uCF37\uCF39-\uCF53\uCF55-\uCF6F\uCF71-\uCF8B\uCF8D-\uCFA7\uCFA9-\uCFC3\uCFC5-\uCFDF\uCFE1-\uCFFB\uCFFD-\uD017\uD019-\uD033\uD035-\uD04F\uD051-\uD06B\uD06D-\uD087\uD089-\uD0A3\uD0A5-\uD0BF\uD0C1-\uD0DB\uD0DD-\uD0F7\uD0F9-\uD113\uD115-\uD12F\uD131-\uD14B\uD14D-\uD167\uD169-\uD183\uD185-\uD19F\uD1A1-\uD1BB\uD1BD-\uD1D7\uD1D9-\uD1F3\uD1F5-\uD20F\uD211-\uD22B\uD22D-\uD247\uD249-\uD263\uD265-\uD27F\uD281-\uD29B\uD29D-\uD2B7\uD2B9-\uD2D3\uD2D5-\uD2EF\uD2F1-\uD30B\uD30D-\uD327\uD329-\uD343\uD345-\uD35F\uD361-\uD37B\uD37D-\uD397\uD399-\uD3B3\uD3B5-\uD3CF\uD3D1-\uD3EB\uD3ED-\uD407\uD409-\uD423\uD425-\uD43F\uD441-\uD45B\uD45D-\uD477\uD479-\uD493\uD495-\uD4AF\uD4B1-\uD4CB\uD4CD-\uD4E7\uD4E9-\uD503\uD505-\uD51F\uD521-\uD53B\uD53D-\uD557\uD559-\uD573\uD575-\uD58F\uD591-\uD5AB\uD5AD-\uD5C7\uD5C9-\uD5E3\uD5E5-\uD5FF\uD601-\uD61B\uD61D-\uD637\uD639-\uD653\uD655-\uD66F\uD671-\uD68B\uD68D-\uD6A7\uD6A9-\uD6C3\uD6C5-\uD6DF\uD6E1-\uD6FB\uD6FD-\uD717\uD719-\uD733\uD735-\uD74F\uD751-\uD76B\uD76D-\uD787\uD789-\uD7A3]$/,reExtPict=/^(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])$/,getCodepointType=(e,t)=>{var n=CodepointType.Any;return-1!==e.search(reExtend)&&(n|=CodepointType.Extend),8205===t&&(n|=CodepointType.ZWJ),127462<=t&&t<=127487&&(n|=CodepointType.RI),-1!==e.search(rePrepend)&&(n|=CodepointType.Prepend),-1!==e.search(reSpacingMark)&&(n|=CodepointType.SpacingMark),-1!==e.search(reL)&&(n|=CodepointType.L),-1!==e.search(reV)&&(n|=CodepointType.V),-1!==e.search(reT)&&(n|=CodepointType.T),-1!==e.search(reLV)&&(n|=CodepointType.LV),-1!==e.search(reLVT)&&(n|=CodepointType.LVT),-1!==e.search(reExtPict)&&(n|=CodepointType.ExtPict),n};function intersects(e,t){return 0!=(e&t)}var NonBoundaryPairs=[[CodepointType.L,CodepointType.L|CodepointType.V|CodepointType.LV|CodepointType.LVT],[CodepointType.LV|CodepointType.V,CodepointType.V|CodepointType.T],[CodepointType.LVT|CodepointType.T,CodepointType.T],[CodepointType.Any,CodepointType.Extend|CodepointType.ZWJ],[CodepointType.Any,CodepointType.SpacingMark],[CodepointType.Prepend,CodepointType.Any],[CodepointType.ZWJ,CodepointType.ExtPict],[CodepointType.RI,CodepointType.RI]];function isBoundaryPair(t,n){return-1===NonBoundaryPairs.findIndex(e=>intersects(t,e[0])&&intersects(n,e[1]))}var endingEmojiZWJ=/(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1AC0\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDF46-\uDF50]|\uD804[\uDC01\uDC38-\uDC46\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD30-\uDD36\uDEEC-\uDEEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])*\u200D$/,endsWithEmojiZWJ=e=>-1!==e.search(endingEmojiZWJ),endingRIs=/(?:\uD83C[\uDDE6-\uDDFF])+$/g,endsWithOddNumberOfRIs=e=>{e=e.match(endingRIs);return null!==e&&e[0].length/2%2==1},isElement=e=>isPlainObject(e)&&Node.isNodeList(e.children)&&!Editor.isEditor(e),Element$a={isAncestor(e){return isPlainObject(e)&&Node.isNodeList(e.children)},isElement:isElement,isElementList(e){return Array.isArray(e)&&e.every(e=>Element$a.isElement(e))},isElementProps(e){return void 0!==e.children},isElementType:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"type";return isElement(e)&&e[n]===t},matches(e,t){for(var n in t)if("children"!==n&&e[n]!==t[n])return!1;return!0}},_excluded$4=["text"],_excluded2$3=["text"];function ownKeys$8(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function _objectSpread$8(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ownKeys$8(Object(n),!0).forEach(function(e){_defineProperty$1(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$8(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var IS_EDITOR_CACHE=new WeakMap,Editor={above(e){var{voids:t=!1,mode:n="lowest",at:r=e.selection,match:a}=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(r){var o,i,u=Editor.path(e,r);for([o,i]of Editor.levels(e,{at:u,voids:t,match:a,reverse:"lowest"===n}))if(!Text$1.isText(o)&&!Path.equals(u,i))return[o,i]}},addMark(e,t,n){e.addMark(t,n)},after(e,t){var n,r,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},o={anchor:Editor.point(e,t,{edge:"end"}),focus:Editor.end(e,[])},{distance:i=1}=a,u=0;for(r of Editor.positions(e,_objectSpread$8(_objectSpread$8({},a),{},{at:o}))){if(i<u)break;0!==u&&(n=r),u++}return n},before(e,t){var n,r,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},o={anchor:Editor.start(e,[]),focus:Editor.point(e,t,{edge:"start"})},{distance:i=1}=a,u=0;for(r of Editor.positions(e,_objectSpread$8(_objectSpread$8({},a),{},{at:o,reverse:!0}))){if(i<u)break;0!==u&&(n=r),u++}return n},deleteBackward(e){var{unit:t="character"}=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};e.deleteBackward(t)},deleteForward(e){var{unit:t="character"}=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};e.deleteForward(t)},deleteFragment(e){var{direction:t="forward"}=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};e.deleteFragment(t)},edges(e,t){return[Editor.start(e,t),Editor.end(e,t)]},end(e,t){return Editor.point(e,t,{edge:"end"})},first(e,t){t=Editor.path(e,t,{edge:"start"});return Editor.node(e,t)},fragment(e,t){t=Editor.range(e,t);return Node.fragment(e,t)},hasBlocks(t,e){return e.children.some(e=>Editor.isBlock(t,e))},hasInlines(t,e){return e.children.some(e=>Text$1.isText(e)||Editor.isInline(t,e))},hasTexts(e,t){return t.children.every(e=>Text$1.isText(e))},insertBreak(e){e.insertBreak()},insertFragment(e,t){e.insertFragment(t)},insertNode(e,t){e.insertNode(t)},insertText(e,t){e.insertText(t)},isBlock(e,t){return Element$a.isElement(t)&&!e.isInline(t)},isEditor(e){var t;return!!isPlainObject(e)&&(void 0!==(t=IS_EDITOR_CACHE.get(e))?t:(t="function"==typeof e.addMark&&"function"==typeof e.apply&&"function"==typeof e.deleteBackward&&"function"==typeof e.deleteForward&&"function"==typeof e.deleteFragment&&"function"==typeof e.insertBreak&&"function"==typeof e.insertFragment&&"function"==typeof e.insertNode&&"function"==typeof e.insertText&&"function"==typeof e.isInline&&"function"==typeof e.isVoid&&"function"==typeof e.normalizeNode&&"function"==typeof e.onChange&&"function"==typeof e.removeMark&&(null===e.marks||isPlainObject(e.marks))&&(null===e.selection||Range.isRange(e.selection))&&Node.isNodeList(e.children)&&Operation.isOperationList(e.operations),IS_EDITOR_CACHE.set(e,t),t))},isEnd(e,t,n){e=Editor.end(e,n);return Point.equals(t,e)},isEdge(e,t,n){return Editor.isStart(e,t,n)||Editor.isEnd(e,t,n)},isEmpty(e,t){var n=t["children"],[r]=n;return 0===n.length||1===n.length&&Text$1.isText(r)&&""===r.text&&!e.isVoid(t)},isInline(e,t){return Element$a.isElement(t)&&e.isInline(t)},isNormalizing(e){e=NORMALIZING.get(e);return void 0===e||e},isStart(e,t,n){return 0===t.offset&&(e=Editor.start(e,n),Point.equals(t,e))},isVoid(e,t){return Element$a.isElement(t)&&e.isVoid(t)},last(e,t){t=Editor.path(e,t,{edge:"end"});return Editor.node(e,t)},leaf(e,t){var n=Editor.path(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:{});return[Node.leaf(e,n),n]},*levels(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},{at:n=e.selection,reverse:r=!1,voids:a=!1}=t,o=t["match"];if(null==o&&(o=()=>!0),n){var i,u,s=[],t=Editor.path(e,n);for([i,u]of Node.levels(e,t))if(o(i,u)&&(s.push([i,u]),!a)&&Editor.isVoid(e,i))break;r&&s.reverse(),yield*s}},marks(t){var e,n,{marks:r,selection:a}=t;return a?r||(Range.isExpanded(a)?([r]=Editor.nodes(t,{match:Text$1.isText}),r?([r]=r,_objectWithoutProperties$1(r,_excluded$4)):{}):(r=a["anchor"],a=r["path"],[e]=Editor.leaf(t,a),_objectWithoutProperties$1(e=0===r.offset&&(r=Editor.previous(t,{at:a,match:Text$1.isText}),a=Editor.above(t,{match:e=>Editor.isBlock(t,e)}),r)&&a&&([r,n]=r,[,a]=a,Path.isAncestor(a,n))?r:e,_excluded2$3))):null},next(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},{mode:n="lowest",voids:r=!1}=t,{match:t,at:a=e.selection}=t;if(a){var o=Editor.after(e,a,{voids:r});if(o){var i,[,u]=Editor.last(e,[]),o=[o.path,u];if(Path.isPath(a)&&0===a.length)throw new Error("Cannot get the next node from the root node!");null==t&&(t=Path.isPath(a)?([i]=Editor.parent(e,a),e=>i.children.includes(e)):()=>!0);var[u]=Editor.nodes(e,{at:o,match:t,mode:n,voids:r});return u}}},node(e,t){var n=Editor.path(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:{});return[Node.get(e,n),n]},*nodes(t){var e,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},{at:r=t.selection,mode:a="all",universal:o=!1,reverse:i=!1,voids:u=!1}=n,s=n["match"],s=s||(()=>!0);if(r){n=Span.isSpan(r)?(e=r[0],r[1]):(n=Editor.path(t,r,{edge:"start"}),r=Editor.path(t,r,{edge:"end"}),e=i?r:n,i?n:r);var l,c,d=[];for([l,c]of Node.nodes(t,{reverse:i,from:e,to:n,pass:e=>{var[e]=e;return!u&&Editor.isVoid(t,e)}})){var f=h&&0===Path.compare(c,h[1]);if("highest"!==a||!f)if(s(l,c)){"lowest"===a&&f||(p="lowest"===a?h:[l,c])&&(o?d.push(p):yield p);var p,h=[l,c]}else if(o&&!f&&Text$1.isText(l))return}"lowest"===a&&h&&(o?d.push(h):yield h),o&&(yield*d)}},normalize(i){var e,{force:t=!1}=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},u=e=>DIRTY_PATHS.get(e)||[],s=e=>{var t=u(e).pop(),n=t.join(",");return(DIRTY_PATH_KEYS.get(e)||new Set).delete(n),t};Editor.isNormalizing(i)&&(t&&(t=Array.from(Node.nodes(i),e=>{var[,e]=e;return e}),e=new Set(t.map(e=>e.join(","))),DIRTY_PATHS.set(i,t),DIRTY_PATH_KEYS.set(i,e)),0!==u(i).length)&&Editor.withoutNormalizing(i,()=>{for(var e of u(i)){var t,n;Node.has(i,e)&&([t,n]=e=Editor.node(i,e),Element$a.isElement(t))&&0===t.children.length&&i.normalizeNode(e)}for(var r=42*u(i).length,a=0;0!==u(i).length;){if(r<a)throw new Error("\n            Could not completely normalize the editor after ".concat(r," iterations! This is usually due to incorrect normalization logic that leaves a node in an invalid state.\n          "));var o=s(i);Node.has(i,o)&&(o=Editor.node(i,o),i.normalizeNode(o)),a++}})},parent(e,t){var n=Editor.path(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:{}),n=Path.parent(n);return Editor.node(e,n)},path(e,t){var n,{depth:r,edge:a}=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return Path.isPath(t)&&("start"===a?([,n]=Node.first(e,t),t=n):"end"===a&&([,n]=Node.last(e,t),t=n)),Range.isRange(t)&&(t="start"===a?Range.start(t):"end"===a?Range.end(t):Path.common(t.anchor.path,t.focus.path)),Point.isPoint(t)&&(t=t.path),t=null!=r?t.slice(0,r):t},hasPath(e,t){return Node.has(e,t)},pathRef(t,e){var{affinity:n="forward"}=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},r={current:e,affinity:n,unref(){var e=r["current"];return Editor.pathRefs(t).delete(r),r.current=null,e}};return Editor.pathRefs(t).add(r),r},pathRefs(e){var t=PATH_REFS.get(e);return t||(t=new Set,PATH_REFS.set(e,t)),t},point(e,t){var{edge:n="start"}=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if(Path.isPath(t)){r="end"===n?([,r]=Node.last(e,t),r):([,r]=Node.first(e,t),r);var r,a=Node.get(e,r);if(Text$1.isText(a))return{path:r,offset:"end"===n?a.text.length:0};throw new Error("Cannot get the ".concat(n," point in the node at path [").concat(t,"] because it has no ").concat(n," text node."))}return Range.isRange(t)?([r,a]=Range.edges(t),"start"===n?r:a):t},pointRef(t,e){var{affinity:n="forward"}=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},r={current:e,affinity:n,unref(){var e=r["current"];return Editor.pointRefs(t).delete(r),r.current=null,e}};return Editor.pointRefs(t).add(r),r},pointRefs(e){var t=POINT_REFS.get(e);return t||(t=new Set,POINT_REFS.set(e,t)),t},*positions(e){var{at:t=e.selection,unit:n="offset",reverse:r=!1,voids:a=!1}=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(t){var o,i,u,s=Editor.range(e,t),[l,c]=Range.edges(s),d=r?c:l,f=!1,p="",h=0,E=0,g=0;for([o,i]of Editor.nodes(e,{at:t,reverse:r,voids:a})){if(Element$a.isElement(o)){if(!a&&e.isVoid(o)){yield Editor.start(e,i);continue}if(e.isInline(o))continue;Editor.hasInlines(e,o)&&(u=Path.isAncestor(i,c.path)?c:Editor.end(e,i),m=Path.isAncestor(i,l.path)?l:Editor.start(e,i),p=Editor.string(e,{anchor:m,focus:u},{voids:a}),f=!0)}if(Text$1.isText(o)){var m=Path.equals(i,d.path),g=m?(E=r?d.offset:o.text.length-d.offset,d.offset):(E=o.text.length,r?E:0);for((m||f||"offset"===n)&&(yield{path:i,offset:g},f=!1);;){if(0===h){if(""===p)break;h=function(e,t,n){{if("character"===t)return getCharacterDistance(e,n);if("word"===t)return getWordDistance(e,n);if("line"===t||"block"===t)return e.length}return 1}(p,n,r),p=splitByCharacterDistance(p,h,r)[1]}if(g=r?g-h:g+h,(E-=h)<0){h=-E;break}h=0,yield{path:i,offset:g}}}}}},previous(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},{mode:n="lowest",voids:r=!1}=t,{match:t,at:a=e.selection}=t;if(a){var o=Editor.before(e,a,{voids:r});if(o){var i,[,u]=Editor.first(e,[]),o=[o.path,u];if(Path.isPath(a)&&0===a.length)throw new Error("Cannot get the previous node from the root node!");null==t&&(t=Path.isPath(a)?([i]=Editor.parent(e,a),e=>i.children.includes(e)):()=>!0);var[u]=Editor.nodes(e,{reverse:!0,at:o,match:t,mode:n,voids:r});return u}}},range(e,t,n){return Range.isRange(t)&&!n?t:{anchor:Editor.start(e,t),focus:Editor.end(e,n||t)}},rangeRef(t,e){var{affinity:n="forward"}=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},r={current:e,affinity:n,unref(){var e=r["current"];return Editor.rangeRefs(t).delete(r),r.current=null,e}};return Editor.rangeRefs(t).add(r),r},rangeRefs(e){var t=RANGE_REFS.get(e);return t||(t=new Set,RANGE_REFS.set(e,t)),t},removeMark(e,t){e.removeMark(t)},setNormalizing(e,t){NORMALIZING.set(e,t)},start(e,t){return Editor.point(e,t,{edge:"start"})},string(e,t){var n,r,{voids:a=!1}=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},o=Editor.range(e,t),[i,u]=Range.edges(o),s="";for([n,r]of Editor.nodes(e,{at:o,match:Text$1.isText,voids:a})){var l=n.text;Path.equals(r,u.path)&&(l=l.slice(0,u.offset)),s+=l=Path.equals(r,i.path)?l.slice(i.offset):l}return s},unhangRange(t,e){var{voids:n=!1}=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},[r,a]=Range.edges(e);if(0!==r.offset||0!==a.offset||Range.isCollapsed(e))return e;var o,i,u=Editor.above(t,{at:a,match:e=>Editor.isBlock(t,e)}),s=u?u[1]:[],u=Editor.start(t,r),l=!0;for([o,i]of Editor.nodes(t,{at:{anchor:u,focus:a},match:Text$1.isText,reverse:!0,voids:n}))if(l)l=!1;else if(""!==o.text||Path.isBefore(i,s)){a={path:i,offset:o.text.length};break}return{anchor:r,focus:a}},void(t){return Editor.above(t,_objectSpread$8(_objectSpread$8({},1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}),{},{match:e=>Editor.isVoid(t,e)}))},withoutNormalizing(e,t){var n=Editor.isNormalizing(e);Editor.setNormalizing(e,!1);try{t()}finally{Editor.setNormalizing(e,n)}Editor.normalize(e)}},Span={isSpan(e){return Array.isArray(e)&&2===e.length&&e.every(Path.isPath)}},_excluded$3$1=["children"],_excluded2$2=["text"],IS_NODE_LIST_CACHE=new WeakMap,Node={ancestor(e,t){e=Node.get(e,t);if(Text$1.isText(e))throw new Error("Cannot get the ancestor node at path [".concat(t,"] because it refers to a text node instead: ").concat(e));return e},*ancestors(e,t){var n;for(n of Path.ancestors(t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:{}))yield[Node.ancestor(e,n),n]},child(e,t){if(Text$1.isText(e))throw new Error("Cannot get the child of a text node: ".concat(JSON.stringify(e)));var n=e.children[t];if(null==n)throw new Error("Cannot get child at index `".concat(t,"` in node: ").concat(JSON.stringify(e)));return n},*children(e,t){for(var{reverse:n=!1}=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},r=Node.ancestor(e,t),a=r["children"],o=n?a.length-1:0;n?0<=o:o<a.length;)yield[Node.child(r,o),t.concat(o)],o=n?o-1:o+1},common(e,t,n){t=Path.common(t,n);return[Node.get(e,t),t]},descendant(e,t){e=Node.get(e,t);if(Editor.isEditor(e))throw new Error("Cannot get the descendant node at path [".concat(t,"] because it refers to the root editor node instead: ").concat(e));return e},*descendants(e){var t,n;for([t,n]of Node.nodes(e,1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}))0!==n.length&&(yield[t,n])},*elements(e){var t,n;for([t,n]of Node.nodes(e,1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}))Element$a.isElement(t)&&(yield[t,n])},extractProps(e){return Element$a.isAncestor(e)?_objectWithoutProperties$1(e,_excluded$3$1):_objectWithoutProperties$1(e,_excluded2$2)},first(e,t){for(var n=t.slice(),r=Node.get(e,n);r&&!Text$1.isText(r)&&0!==r.children.length;)r=r.children[0],n.push(0);return[r,n]},fragment(e,i){if(Text$1.isText(e))throw new Error("Cannot get a fragment starting from a root text node: ".concat(JSON.stringify(e)));return fn({children:e.children},e=>{var t,n,r,[a,o]=Range.edges(i);for([,t]of Node.nodes(e,{reverse:!0,pass:e=>{var[,e]=e;return!Range.includes(i,e)}}))Range.includes(i,t)||(n=Node.parent(e,t),r=t[t.length-1],n.children.splice(r,1)),Path.equals(t,o.path)&&((n=Node.leaf(e,t)).text=n.text.slice(0,o.offset)),Path.equals(t,a.path)&&((r=Node.leaf(e,t)).text=r.text.slice(a.offset));Editor.isEditor(e)&&(e.selection=null)}).children},get(e,t){for(var n=e,r=0;r<t.length;r++){var a=t[r];if(Text$1.isText(n)||!n.children[a])throw new Error("Cannot find a descendant at path [".concat(t,"] in node: ").concat(JSON.stringify(e)));n=n.children[a]}return n},has(e,t){for(var n=e,r=0;r<t.length;r++){var a=t[r];if(Text$1.isText(n)||!n.children[a])return!1;n=n.children[a]}return!0},isNode(e){return Text$1.isText(e)||Element$a.isElement(e)||Editor.isEditor(e)},isNodeList(e){var t;return!!Array.isArray(e)&&(void 0!==(t=IS_NODE_LIST_CACHE.get(e))?t:(t=e.every(e=>Node.isNode(e)),IS_NODE_LIST_CACHE.set(e,t),t))},last(e,t){for(var n=t.slice(),r=Node.get(e,n);r&&!Text$1.isText(r)&&0!==r.children.length;){var a=r.children.length-1,r=r.children[a];n.push(a)}return[r,n]},leaf(e,t){e=Node.get(e,t);if(Text$1.isText(e))return e;throw new Error("Cannot get the leaf node at path [".concat(t,"] because it refers to a non-leaf node: ").concat(e))},*levels(e,t){var n;for(n of Path.levels(t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:{}))yield[Node.get(e,n),n]},matches(e,t){return Element$a.isElement(e)&&Element$a.isElementProps(t)&&Element$a.matches(e,t)||Text$1.isText(e)&&Text$1.isTextProps(t)&&Text$1.matches(e,t)},*nodes(e){for(var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},{pass:n,reverse:r=!1}=t,{from:a=[],to:o}=t,i=new Set,u=[],s=e;!(o&&(r?Path.isBefore(u,o):Path.isAfter(u,o)));)if(i.has(s)||(yield[s,u]),i.has(s)||Text$1.isText(s)||0===s.children.length||null!=n&&!1!==n([s,u])){if(0===u.length)break;if(!r){var l=Path.next(u);if(Node.has(e,l)){s=Node.get(e,u=l);continue}}r&&0!==u[u.length-1]?(u=Path.previous(u),s=Node.get(e,u)):(u=Path.parent(u),s=Node.get(e,u),i.add(s))}else{i.add(s);l=r?s.children.length-1:0;Path.isAncestor(u,a)&&(l=a[u.length]),u=u.concat(l),s=Node.get(e,u)}},parent(e,t){var n=Path.parent(t),e=Node.get(e,n);if(Text$1.isText(e))throw new Error("Cannot get the parent of path [".concat(t,"] because it does not exist in the root."));return e},string(e){return Text$1.isText(e)?e.text:e.children.map(Node.string).join("")},*texts(e){var t,n;for([t,n]of Node.nodes(e,1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}))Text$1.isText(t)&&(yield[t,n])}};function ownKeys$7(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function _objectSpread$7(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ownKeys$7(Object(n),!0).forEach(function(e){_defineProperty$1(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$7(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var Operation={isNodeOperation(e){return Operation.isOperation(e)&&e.type.endsWith("_node")},isOperation(e){if(!isPlainObject(e))return!1;switch(e.type){case"insert_node":return Path.isPath(e.path)&&Node.isNode(e.node);case"insert_text":return"number"==typeof e.offset&&"string"==typeof e.text&&Path.isPath(e.path);case"merge_node":return"number"==typeof e.position&&Path.isPath(e.path)&&isPlainObject(e.properties);case"move_node":return Path.isPath(e.path)&&Path.isPath(e.newPath);case"remove_node":return Path.isPath(e.path)&&Node.isNode(e.node);case"remove_text":return"number"==typeof e.offset&&"string"==typeof e.text&&Path.isPath(e.path);case"set_node":return Path.isPath(e.path)&&isPlainObject(e.properties)&&isPlainObject(e.newProperties);case"set_selection":return null===e.properties&&Range.isRange(e.newProperties)||null===e.newProperties&&Range.isRange(e.properties)||isPlainObject(e.properties)&&isPlainObject(e.newProperties);case"split_node":return Path.isPath(e.path)&&"number"==typeof e.position&&isPlainObject(e.properties);default:return!1}},isOperationList(e){return Array.isArray(e)&&e.every(e=>Operation.isOperation(e))},isSelectionOperation(e){return Operation.isOperation(e)&&e.type.endsWith("_selection")},isTextOperation(e){return Operation.isOperation(e)&&e.type.endsWith("_text")},inverse(e){switch(e.type){case"insert_node":return _objectSpread$7(_objectSpread$7({},e),{},{type:"remove_node"});case"insert_text":return _objectSpread$7(_objectSpread$7({},e),{},{type:"remove_text"});case"merge_node":return _objectSpread$7(_objectSpread$7({},e),{},{type:"split_node",path:Path.previous(e.path)});case"move_node":var{newPath:t,path:n}=e;return Path.equals(t,n)?e:Path.isSibling(n,t)?_objectSpread$7(_objectSpread$7({},e),{},{path:t,newPath:n}):(t=Path.transform(n,e),n=Path.transform(Path.next(n),e),_objectSpread$7(_objectSpread$7({},e),{},{path:t,newPath:n}));case"remove_node":return _objectSpread$7(_objectSpread$7({},e),{},{type:"insert_node"});case"remove_text":return _objectSpread$7(_objectSpread$7({},e),{},{type:"insert_text"});case"set_node":var{properties:t,newProperties:n}=e;return _objectSpread$7(_objectSpread$7({},e),{},{properties:n,newProperties:t});case"set_selection":var{properties:n,newProperties:t}=e;return _objectSpread$7(_objectSpread$7({},e),{},null==n?{properties:t,newProperties:null}:null==t?{properties:null,newProperties:n}:{properties:t,newProperties:n});case"split_node":return _objectSpread$7(_objectSpread$7({},e),{},{type:"merge_node",path:Path.next(e.path)})}}},Path={ancestors(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},{reverse:n=!1}=t,t=Path.levels(e,t);return t=n?t.slice(1):t.slice(0,-1)},common(e,t){for(var n=[],r=0;r<e.length&&r<t.length;r++){var a=e[r];if(a!==t[r])break;n.push(a)}return n},compare(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){if(e[r]<t[r])return-1;if(e[r]>t[r])return 1}return 0},endsAfter(e,t){var n=e.length-1,r=e.slice(0,n),a=t.slice(0,n),e=e[n],t=t[n];return Path.equals(r,a)&&t<e},endsAt(e,t){var n=e.length,e=e.slice(0,n),t=t.slice(0,n);return Path.equals(e,t)},endsBefore(e,t){var n=e.length-1,r=e.slice(0,n),a=t.slice(0,n),e=e[n],t=t[n];return Path.equals(r,a)&&e<t},equals(e,n){return e.length===n.length&&e.every((e,t)=>e===n[t])},hasPrevious(e){return 0<e[e.length-1]},isAfter(e,t){return 1===Path.compare(e,t)},isAncestor(e,t){return e.length<t.length&&0===Path.compare(e,t)},isBefore(e,t){return-1===Path.compare(e,t)},isChild(e,t){return e.length===t.length+1&&0===Path.compare(e,t)},isCommon(e,t){return e.length<=t.length&&0===Path.compare(e,t)},isDescendant(e,t){return e.length>t.length&&0===Path.compare(e,t)},isParent(e,t){return e.length+1===t.length&&0===Path.compare(e,t)},isPath(e){return Array.isArray(e)&&(0===e.length||"number"==typeof e[0])},isSibling(e,t){var n,r;return e.length===t.length&&(n=e.slice(0,-1),r=t.slice(0,-1),e[e.length-1]!==t[t.length-1])&&Path.equals(n,r)},levels(e){for(var{reverse:t=!1}=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=[],r=0;r<=e.length;r++)n.push(e.slice(0,r));return t&&n.reverse(),n},next(e){if(0===e.length)throw new Error("Cannot get the next path of a root path [".concat(e,"], because it has no next index."));var t=e[e.length-1];return e.slice(0,-1).concat(t+1)},operationCanTransformPath(e){switch(e.type){case"insert_node":case"remove_node":case"merge_node":case"split_node":case"move_node":return!0;default:return!1}},parent(e){if(0===e.length)throw new Error("Cannot get the parent path of the root path [".concat(e,"]."));return e.slice(0,-1)},previous(e){if(0===e.length)throw new Error("Cannot get the previous path of a root path [".concat(e,"], because it has no previous index."));var t=e[e.length-1];if(t<=0)throw new Error("Cannot get the previous path of a first child path [".concat(e,"] because it would result in a negative index."));return e.slice(0,-1).concat(t-1)},relative(e,t){if(Path.isAncestor(t,e)||Path.equals(e,t))return e.slice(t.length);throw new Error("Cannot get the relative path of [".concat(e,"] inside ancestor [").concat(t,"], because it is not above or equal to the path."))},transform(o,i){var u=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return fn(o,e=>{var{affinity:t="forward"}=u;if(o&&0!==(null==o?void 0:o.length)){if(null===e)return null;switch(i.type){case"insert_node":var n=i["path"];(Path.equals(n,e)||Path.endsBefore(n,e)||Path.isAncestor(n,e))&&(e[n.length-1]+=1);break;case"remove_node":n=i["path"];if(Path.equals(n,e)||Path.isAncestor(n,e))return null;Path.endsBefore(n,e)&&--e[n.length-1];break;case"merge_node":var{path:n,position:r}=i;Path.equals(n,e)||Path.endsBefore(n,e)?--e[n.length-1]:Path.isAncestor(n,e)&&(--e[n.length-1],e[n.length]+=r);break;case"split_node":var{path:n,position:r}=i;if(Path.equals(n,e)){if("forward"===t)e[e.length-1]+=1;else if("backward"!==t)return null}else Path.endsBefore(n,e)?e[n.length-1]+=1:Path.isAncestor(n,e)&&o[n.length]>=r&&(e[n.length-1]+=1,e[n.length]-=r);break;case"move_node":var a,{path:n,newPath:r}=i;if(!Path.equals(n,r)){if(Path.isAncestor(n,e)||Path.equals(n,e))return a=r.slice(),Path.endsBefore(n,r)&&n.length<r.length&&--a[n.length-1],a.concat(e.slice(n.length));Path.isSibling(n,r)&&(Path.isAncestor(r,e)||Path.equals(r,e))?Path.endsBefore(n,e)?--e[n.length-1]:e[n.length-1]+=1:Path.endsBefore(r,e)||Path.equals(r,e)||Path.isAncestor(r,e)?(Path.endsBefore(n,e)&&--e[n.length-1],e[r.length-1]+=1):Path.endsBefore(n,e)&&(Path.equals(r,e)&&(e[r.length-1]+=1),--e[n.length-1])}}}})}},PathRef={transform(e,t){var{current:n,affinity:r}=e;null!=n&&(n=Path.transform(n,t,{affinity:r}),null==(e.current=n))&&e.unref()}};function ownKeys$6(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function _objectSpread$6(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ownKeys$6(Object(n),!0).forEach(function(e){_defineProperty$1(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$6(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var Point={compare(e,t){var n=Path.compare(e.path,t.path);return 0===n?e.offset<t.offset?-1:e.offset>t.offset?1:0:n},isAfter(e,t){return 1===Point.compare(e,t)},isBefore(e,t){return-1===Point.compare(e,t)},equals(e,t){return e.offset===t.offset&&Path.equals(e.path,t.path)},isPoint(e){return isPlainObject(e)&&"number"==typeof e.offset&&Path.isPath(e.path)},transform(e,a){var o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return fn(e,e=>{if(null===e)return null;var{affinity:t="forward"}=o,{path:n,offset:r}=e;switch(a.type){case"insert_node":case"move_node":e.path=Path.transform(n,a,o);break;case"insert_text":Path.equals(a.path,n)&&a.offset<=r&&(e.offset+=a.text.length);break;case"merge_node":Path.equals(a.path,n)&&(e.offset+=a.position),e.path=Path.transform(n,a,o);break;case"remove_text":Path.equals(a.path,n)&&a.offset<=r&&(e.offset-=Math.min(r-a.offset,a.text.length));break;case"remove_node":if(Path.equals(a.path,n)||Path.isAncestor(a.path,n))return null;e.path=Path.transform(n,a,o);break;case"split_node":if(Path.equals(a.path,n)){if(a.position===r&&null==t)return null;(a.position<r||a.position===r&&"forward"===t)&&(e.offset-=a.position,e.path=Path.transform(n,a,_objectSpread$6(_objectSpread$6({},o),{},{affinity:"forward"})))}else e.path=Path.transform(n,a,o)}})}},PointRef={transform(e,t){var{current:n,affinity:r}=e;null!=n&&(n=Point.transform(n,t,{affinity:r}),null==(e.current=n))&&e.unref()}},_excluded$2$1=["anchor","focus"];function ownKeys$5(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function _objectSpread$5(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ownKeys$5(Object(n),!0).forEach(function(e){_defineProperty$1(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$5(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var Range={edges(e){var{reverse:t=!1}=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},{anchor:n,focus:r}=e;return Range.isBackward(e)===t?[n,r]:[r,n]},end(e){var[,e]=Range.edges(e);return e},equals(e,t){return Point.equals(e.anchor,t.anchor)&&Point.equals(e.focus,t.focus)},includes(e,t){var n,r,a,o;return Range.isRange(t)?!(!Range.includes(e,t.anchor)&&!Range.includes(e,t.focus))||([n,a]=Range.edges(e),[r,o]=Range.edges(t),Point.isBefore(n,r)&&Point.isAfter(a,o)):([n,r]=Range.edges(e),o=a=!1,o=Point.isPoint(t)?(a=0<=Point.compare(t,n),Point.compare(t,r)<=0):(a=0<=Path.compare(t,n.path),Path.compare(t,r.path)<=0),a&&o)},intersection(e,t){var n=_objectWithoutProperties$1(e,_excluded$2$1),[e,r]=Range.edges(e),[t,a]=Range.edges(t),t=Point.isBefore(e,t)?t:e,e=Point.isBefore(r,a)?r:a;return Point.isBefore(e,t)?null:_objectSpread$5({anchor:t,focus:e},n)},isBackward(e){var{anchor:e,focus:t}=e;return Point.isAfter(e,t)},isCollapsed(e){var{anchor:e,focus:t}=e;return Point.equals(e,t)},isExpanded(e){return!Range.isCollapsed(e)},isForward(e){return!Range.isBackward(e)},isRange(e){return isPlainObject(e)&&Point.isPoint(e.anchor)&&Point.isPoint(e.focus)},*points(e){yield[e.anchor,"anchor"],yield[e.focus,"focus"]},start(e){var[e]=Range.edges(e);return e},transform(e,a){var o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return fn(e,e=>{var t,n,r;return null!==e&&({affinity:n="inward"}=o,t="inward"===n?(t=Range.isCollapsed(e),Range.isForward(e)?(r="forward",t?r:"backward"):(r="backward",t?r:"forward")):"outward"===n?Range.isForward(e)?(r="backward","forward"):(r="forward","backward"):r=n,n=Point.transform(e.anchor,a,{affinity:r}),r=Point.transform(e.focus,a,{affinity:t}),n)&&r?(e.anchor=n,void(e.focus=r)):null})}},RangeRef={transform(e,t){var{current:n,affinity:r}=e;null!=n&&(n=Range.transform(n,t,{affinity:r}),null==(e.current=n))&&e.unref()}},isDeepEqual=(e,t)=>{for(var n in e){var r=e[n],a=t[n];if(isPlainObject(r)&&isPlainObject(a)){if(!isDeepEqual(r,a))return!1}else if(Array.isArray(r)&&Array.isArray(a)){if(r.length!==a.length)return!1;for(var o=0;o<r.length;o++)if(r[o]!==a[o])return!1}else if(r!==a)return!1}for(var i in t)if(void 0===e[i]&&void 0!==t[i])return!1;return!0},_excluded$1$1=["text"],_excluded2$1=["anchor","focus"];function ownKeys$4(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function _objectSpread$4(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ownKeys$4(Object(n),!0).forEach(function(e){_defineProperty$1(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$4(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var Text$1={equals(e,t){var{loose:n=!1}=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};function r(e){return _objectWithoutProperties$1(e,_excluded$1$1)}return isDeepEqual(n?r(e):e,n?r(t):t)},isText(e){return isPlainObject(e)&&"string"==typeof e.text},isTextList(e){return Array.isArray(e)&&e.every(e=>Text$1.isText(e))},isTextProps(e){return void 0!==e.text},matches(e,t){for(var n in t)if("text"!==n&&(!e.hasOwnProperty(n)||e[n]!==t[n]))return!1;return!0},decorations(e,t){var n,r=[_objectSpread$4({},e)];for(n of t){var a,o=_objectWithoutProperties$1(n,_excluded2$1),[i,u]=Range.edges(n),s=[],l=0;for(a of r){var c,d,f,p=a.text["length"],h=l;l+=p,i.offset<=h&&u.offset>=l?(Object.assign(a,o),s.push(a)):i.offset!==u.offset&&(i.offset===l||u.offset===h)||i.offset>l||u.offset<h||u.offset===h&&0!==h?s.push(a):(p=a,c=f=void 0,u.offset<l&&(d=u.offset-h,c=_objectSpread$4(_objectSpread$4({},p),{},{text:p.text.slice(d)}),p=_objectSpread$4(_objectSpread$4({},p),{},{text:p.text.slice(0,d)})),i.offset>h&&(d=i.offset-h,f=_objectSpread$4(_objectSpread$4({},p),{},{text:p.text.slice(0,d)}),p=_objectSpread$4(_objectSpread$4({},p),{},{text:p.text.slice(d)})),Object.assign(p,o),f&&s.push(f),s.push(p),c&&s.push(c))}r=s}return r}};function ownKeys$3(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function _objectSpread$3(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ownKeys$3(Object(n),!0).forEach(function(e){_defineProperty$1(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$3(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var applyToDraft=(e,t,n)=>{switch(n.type){case"insert_node":var{path:r,node:a}=n,o=Node.parent(e,r),i=r[r.length-1];if(i>o.children.length)throw new Error('Cannot apply an "insert_node" operation at path ['.concat(r,"] because the destination is past the end of the node."));if(o.children.splice(i,0,a),t)for(var[u,s]of Range.points(t))t[s]=Point.transform(u,n);break;case"insert_text":var{path:r,offset:o,text:i}=n;if(0!==i.length){a=Node.leaf(e,r),r=a.text.slice(0,o),o=a.text.slice(o);if(a.text=r+i+o,t)for(var[l,c]of Range.points(t))t[c]=Point.transform(l,n)}break;case"merge_node":var a=n["path"],r=Node.get(e,a),i=Path.previous(a),o=Node.get(e,i),i=Node.parent(e,a),d=a[a.length-1];if(Text$1.isText(r)&&Text$1.isText(o))o.text+=r.text;else{if(Text$1.isText(r)||Text$1.isText(o))throw new Error('Cannot apply a "merge_node" operation at path ['.concat(a,"] to nodes of different interfaces: ").concat(r," ").concat(o));o.children.push(...r.children)}if(i.children.splice(d,1),t)for(var[f,p]of Range.points(t))t[p]=Point.transform(f,n);break;case"move_node":var{path:a,newPath:o}=n;if(Path.isAncestor(a,o))throw new Error("Cannot move a path [".concat(a,"] to new path [").concat(o,"] because the destination is inside itself."));r=Node.get(e,a),i=Node.parent(e,a),d=a[a.length-1],o=(i.children.splice(d,1),Path.transform(a,n)),i=Node.get(e,Path.parent(o)),d=o[o.length-1];if(i.children.splice(d,0,r),t)for(var[h,E]of Range.points(t))t[E]=Point.transform(h,n);break;case"remove_node":var g=n["path"],a=g[g.length-1];if(Node.parent(e,g).children.splice(a,1),t)for(var[m,D]of Range.points(t)){var C=Point.transform(m,n);if(null!=t&&null!=C)t[D]=C;else{var y,v,A=void 0,b=void 0;for([y,v]of Node.texts(e)){if(-1!==Path.compare(v,g)){b=[y,v];break}A=[y,v]}D=!1;A&&b&&(D=Path.equals(b[1],g)?!Path.hasPrevious(b[1]):Path.common(A[1],g).length<Path.common(b[1],g).length),A&&!D?(m.path=A[1],m.offset=A[0].text.length):b?(m.path=b[1],m.offset=0):t=null}}break;case"remove_text":var{path:o,offset:i,text:d}=n;if(0!==d.length){r=Node.leaf(e,o),a=r.text.slice(0,i),o=r.text.slice(i+d.length);if(r.text=a+o,t)for(var[B,R]of Range.points(t))t[R]=Point.transform(B,n)}break;case"set_node":var{path:i,properties:d,newProperties:w}=n;if(0===i.length)throw new Error("Cannot set properties on the root node!");var F,T,O=Node.get(e,i);for(F in w){if("children"===F||"text"===F)throw new Error('Cannot set the "'.concat(F,'" property of nodes!'));var S=w[F];null==S?delete O[F]:O[F]=S}for(T in d)w.hasOwnProperty(T)||delete O[T];break;case"set_selection":var P=n["newProperties"];if(null==P)t=P;else{if(null==t){if(!Range.isRange(P))throw new Error('Cannot apply an incomplete "set_selection" operation properties '.concat(JSON.stringify(P)," when there is no current selection."));t=_objectSpread$3({},P)}for(var x in P){var _=P[x];if(null==_){if("anchor"===x||"focus"===x)throw new Error('Cannot remove the "'.concat(x,'" selection property'));delete t[x]}else t[x]=_}}break;case"split_node":var{path:r,position:a,properties:o}=n;if(0===r.length)throw new Error('Cannot apply a "split_node" operation at path ['.concat(r,"] because the root node cannot be split."));var k,N,i=Node.get(e,r),d=Node.parent(e,r),r=r[r.length-1],a=Text$1.isText(i)?(k=i.text.slice(0,a),N=i.text.slice(a),i.text=k,_objectSpread$3(_objectSpread$3({},o),{},{text:N})):(k=i.children.slice(0,a),N=i.children.slice(a),i.children=k,_objectSpread$3(_objectSpread$3({},o),{},{children:N}));if(d.children.splice(r+1,0,a),t)for(var[I,L]of Range.points(t))t[L]=Point.transform(I,n)}return t},GeneralTransforms={transform(e,t){e.children=ln(e.children);var n=e.selection&&ln(e.selection);try{n=applyToDraft(e,n,t)}finally{e.children=dn(e.children),e.selection=n?r$1(n)?dn(n):n:null}}},_excluded$5=["text"],_excluded2$4=["children"];function ownKeys$2$1(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function _objectSpread$2$1(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ownKeys$2$1(Object(n),!0).forEach(function(e){_defineProperty$1(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$2$1(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var NodeTransforms={insertNodes(d,f){var p=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};Editor.withoutNormalizing(d,()=>{var{hanging:e=!1,voids:t=!1,mode:n="lowest"}=p,{at:r,match:a,select:o}=p;if(0!==(f=Node.isNode(f)?[f]:f).length){var[i]=f;if(r||(r=d.selection||(0<d.children.length?Editor.end(d,[]):[0]),o=!0),null==o&&(o=!1),Range.isRange(r)&&(e||(r=Editor.unhangRange(d,r)),r=Range.isCollapsed(r)?r.anchor:([,e]=Range.edges(r),e=Editor.pointRef(d,e),Transforms.delete(d,{at:r}),e.unref())),Point.isPoint(r)){null==a&&(a=Text$1.isText(i)?e=>Text$1.isText(e):d.isInline(i)?e=>Text$1.isText(e)||Editor.isInline(d,e):e=>Editor.isBlock(d,e));var[e]=Editor.nodes(d,{at:r.path,match:a,mode:n,voids:t});if(!e)return;var[,i]=e,e=Editor.pathRef(d,i),i=Editor.isEnd(d,r,i),a=(Transforms.splitNodes(d,{at:r,match:a,mode:n,voids:t}),e.unref()),r=i?Path.next(a):a}var u=Path.parent(r),s=r[r.length-1];if(t||!Editor.void(d,{at:u})){for(var l of f){var c=u.concat(s);s++,d.apply({type:"insert_node",path:c,node:l}),r=Path.next(r)}r=Path.previous(r),o&&(n=Editor.end(d,r))&&Transforms.select(d,n)}}})},liftNodes(c){var d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};Editor.withoutNormalizing(c,()=>{var{at:e=c.selection,mode:t="lowest",voids:n=!1}=d,r=d["match"];if(null==r&&(r=Path.isPath(e)?matchPath(c,e):e=>Editor.isBlock(c,e)),e){var a,e=Editor.nodes(c,{at:e,match:r,mode:t,voids:n});for(a of Array.from(e,e=>{var[,e]=e;return Editor.pathRef(c,e)})){var o=a.unref();if(o.length<2)throw new Error("Cannot lift node at a path [".concat(o,"] because it has a depth of less than `2`."));var i,[u,s]=Editor.node(c,Path.parent(o)),l=o[o.length-1],u=u.children["length"];1===u?(i=Path.next(s),Transforms.moveNodes(c,{at:o,to:i,voids:n}),Transforms.removeNodes(c,{at:s,voids:n})):0===l?Transforms.moveNodes(c,{at:o,to:s,voids:n}):l===u-1?(i=Path.next(s),Transforms.moveNodes(c,{at:o,to:i,voids:n})):(l=Path.next(o),u=Path.next(s),Transforms.splitNodes(c,{at:l,voids:n}),Transforms.moveNodes(c,{at:o,to:u,voids:n}))}}})},mergeNodes(p){var h=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};Editor.withoutNormalizing(p,()=>{var{match:e,at:t=p.selection}=h,{hanging:n=!1,voids:r=!1,mode:a="lowest"}=h;if(t){null==e&&(e=Path.isPath(t)?([o]=Editor.parent(p,t),e=>o.children.includes(e)):e=>Editor.isBlock(p,e)),!n&&Range.isRange(t)&&(t=Editor.unhangRange(p,t)),Range.isRange(t)&&(Range.isCollapsed(t)?t=t.anchor:([,n]=Range.edges(t),n=Editor.pointRef(p,n),Transforms.delete(p,{at:t}),t=n.unref(),null==h.at&&Transforms.select(p,t)));var o,[n]=Editor.nodes(p,{at:t,match:e,voids:r,mode:a}),t=Editor.previous(p,{at:t,match:e,voids:r,mode:a});if(n&&t){var[e,a]=n,[n,t]=t;if(0!==a.length&&0!==t.length){var i=Path.next(t),u=Path.common(a,t),s=Path.isSibling(a,t),l=Array.from(Editor.levels(p,{at:a}),e=>{var[e]=e;return e}).slice(u.length).slice(0,-1),u=Editor.above(p,{at:a,mode:"highest",match:e=>l.includes(e)&&hasSingleChildNest(p,e)}),u=u&&Editor.pathRef(p,u[1]);if(Text$1.isText(e)&&Text$1.isText(n))var c=_objectWithoutProperties$1(e,_excluded$5),d=n.text.length,f=c;else{if(!Element$a.isElement(e)||!Element$a.isElement(n))throw new Error("Cannot merge the node at path [".concat(a,"] with the previous sibling because it is not the same kind: ").concat(JSON.stringify(e)," ").concat(JSON.stringify(n)));c=_objectWithoutProperties$1(e,_excluded2$4);d=n.children.length,f=c}s||Transforms.moveNodes(p,{at:a,to:i,voids:r}),u&&Transforms.removeNodes(p,{at:u.current,voids:r}),Element$a.isElement(n)&&Editor.isEmpty(p,n)||Text$1.isText(n)&&""===n.text&&0!==t[t.length-1]?Transforms.removeNodes(p,{at:t,voids:r}):p.apply({type:"merge_node",path:i,position:d,properties:f}),u&&u.unref()}}}})},moveNodes(l,c){Editor.withoutNormalizing(l,()=>{var{to:e,at:t=l.selection,mode:n="lowest",voids:r=!1}=c,a=c["match"];if(t){null==a&&(a=Path.isPath(t)?matchPath(l,t):e=>Editor.isBlock(l,e));var o,i=Editor.pathRef(l,e),e=Editor.nodes(l,{at:t,match:a,mode:n,voids:r});for(o of Array.from(e,e=>{var[,e]=e;return Editor.pathRef(l,e)})){var u=o.unref(),s=i.current;0!==u.length&&l.apply({type:"move_node",path:u,newPath:s}),i.current&&Path.isSibling(s,u)&&Path.isAfter(s,u)&&(i.current=Path.next(i.current))}i.unref()}})},removeNodes(s){var l=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};Editor.withoutNormalizing(s,()=>{var{hanging:e=!1,voids:t=!1,mode:n="lowest"}=l,{at:r=s.selection,match:a}=l;if(r){null==a&&(a=Path.isPath(r)?matchPath(s,r):e=>Editor.isBlock(s,e)),!e&&Range.isRange(r)&&(r=Editor.unhangRange(s,r));var o,e=Editor.nodes(s,{at:r,match:a,mode:n,voids:t});for(o of Array.from(e,e=>{var[,e]=e;return Editor.pathRef(s,e)})){var i,u=o.unref();u&&([i]=Editor.node(s,u),s.apply({type:"remove_node",path:u,node:i}))}}})},setNodes(E,g){var m=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};Editor.withoutNormalizing(E,()=>{var{match:e,at:t=E.selection}=m,{hanging:n=!1,mode:r="lowest",split:a=!1,voids:o=!1}=m;if(t){if(null==e&&(e=Path.isPath(t)?matchPath(E,t):e=>Editor.isBlock(E,e)),!n&&Range.isRange(t)&&(t=Editor.unhangRange(E,t)),a&&Range.isRange(t)){if(Range.isCollapsed(t)&&0<Editor.leaf(E,t.anchor)[0].text.length)return;var n=Editor.rangeRef(E,t,{affinity:"inward"}),[a,i]=Range.edges(t),u="lowest"===r?"lowest":"highest",s=Editor.isEnd(E,i,i.path),i=(Transforms.splitNodes(E,{at:i,match:e,mode:u,voids:o,always:!s}),Editor.isStart(E,a,a.path));Transforms.splitNodes(E,{at:a,match:e,mode:u,voids:o,always:!i}),t=n.unref(),null==m.at&&Transforms.select(E,t)}for(var[l,c]of Editor.nodes(E,{at:t,match:e,mode:r,voids:o})){var d={},f={};if(0!==c.length){var p,h=!1;for(p in g)"children"!==p&&"text"!==p&&g[p]!==l[p]&&(h=!0,l.hasOwnProperty(p)&&(d[p]=l[p]),null!=g[p])&&(f[p]=g[p]);h&&E.apply({type:"set_node",path:c,properties:d,newProperties:f})}}}})},splitNodes(m){var D=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};Editor.withoutNormalizing(m,()=>{var t,{mode:e="lowest",voids:n=!1}=D,{match:r,at:a=m.selection,height:o=0,always:i=!1}=D;if(null==r&&(r=e=>Editor.isBlock(m,e)),Range.isRange(a)&&(a=deleteRange(m,a)),Path.isPath(a)&&(s=a,d=Editor.point(m,s),[t]=Editor.parent(m,s),r=e=>e===t,o=d.path.length-s.length+1,a=d,i=!0),a){var u=Editor.pointRef(m,a,{affinity:"backward"}),[s]=Editor.nodes(m,{at:a,match:r,mode:e,voids:n});if(s){var l,c,d=Editor.void(m,{at:a,mode:"highest"}),r=(!n&&d&&([r,e]=d,Element$a.isElement(r)&&m.isInline(r)&&((d=Editor.after(m,e))||(r=Path.next(e),Transforms.insertNodes(m,{text:""},{at:r,voids:n}),d=Editor.point(m,r)),a=d,i=!0),o=1+(a.path.length-e.length),i=!0),Editor.pointRef(m,a)),d=a.path.length-o,[,f]=s,e=a.path.slice(0,d),p=0===o?a.offset:a.path[d]+0;for([l,c]of Editor.levels(m,{at:e,reverse:!0,voids:n})){var h=!1;if(c.length<f.length||0===c.length||!n&&Editor.isVoid(m,l))break;var E=u.current,g=Editor.isEnd(m,E,c);!i&&u&&Editor.isEdge(m,E,c)||(h=!0,E=Node.extractProps(l),m.apply({type:"split_node",path:c,position:p,properties:E})),p=c[c.length-1]+(h||g?1:0)}null==D.at&&(s=r.current||Editor.end(m,[]),Transforms.select(m,s)),u.unref(),r.unref()}}})},unsetNodes(e,t){var n,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},a={};for(n of t=Array.isArray(t)?t:[t])a[n]=null;Transforms.setNodes(e,a,r)},unwrapNodes(u){var s=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};Editor.withoutNormalizing(u,()=>{var{mode:e="lowest",split:n=!1,voids:r=!1}=s,{at:t=u.selection,match:a}=s;if(t){null==a&&(a=Path.isPath(t)?matchPath(u,t):e=>Editor.isBlock(u,e)),Path.isPath(t)&&(t=Editor.range(u,t));var o,i=Range.isRange(t)?Editor.rangeRef(u,t):null,t=Editor.nodes(u,{at:t,match:a,mode:e,voids:r});for(o of Array.from(t,e=>{var[,e]=e;return Editor.pathRef(u,e)}).reverse())!function(e){var e=e.unref(),[t]=Editor.node(u,e),e=Editor.range(u,e);n&&i&&(e=Range.intersection(i.current,e)),Transforms.liftNodes(u,{at:e,match:e=>Element$a.isAncestor(t)&&t.children.includes(e),voids:r})}(o);i&&i.unref()}})},wrapNodes(c,d){var f=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};Editor.withoutNormalizing(c,()=>{var e,t,n,{mode:r="lowest",split:a=!1,voids:o=!1}=f,{match:i,at:u=c.selection}=f;if(u){null==i&&(i=Path.isPath(u)?matchPath(c,u):c.isInline(d)?e=>Editor.isInline(c,e)||Text$1.isText(e):e=>Editor.isBlock(c,e)),a&&Range.isRange(u)&&([a,e]=Range.edges(u),t=Editor.rangeRef(c,u,{affinity:"inward"}),Transforms.splitNodes(c,{at:e,match:i,voids:o}),Transforms.splitNodes(c,{at:a,match:i,voids:o}),u=t.unref(),null==f.at)&&Transforms.select(c,u);for([,n]of Array.from(Editor.nodes(c,{at:u,match:c.isInline(d)?e=>Editor.isBlock(c,e):e=>Editor.isEditor(e),mode:"lowest",voids:o}))){var s,l=Range.isRange(u)?Range.intersection(u,Editor.range(c,n)):u;l&&0<(s=Array.from(Editor.nodes(c,{at:l,match:i,mode:r,voids:o}))).length&&function(){var t,e,[n]=s,[,n]=n,[,r]=s[s.length-1];0===n.length&&0===r.length||(e=Path.equals(n,r)?Path.parent(n):Path.common(n,r),n=Editor.range(c,n,r),[t]=Editor.node(c,e),e=e.length+1,r=Path.next(r.slice(0,e)),e=_objectSpread$2$1(_objectSpread$2$1({},d),{},{children:[]}),Transforms.insertNodes(c,e,{at:r,voids:o}),Transforms.moveNodes(c,{at:n,match:e=>Element$a.isAncestor(t)&&t.children.includes(e),to:r.concat(0),voids:o}))}()}}})}},hasSingleChildNest=(e,t)=>{var n;return Element$a.isElement(t)?!!Editor.isVoid(e,n=t)||1===n.children.length&&hasSingleChildNest(e,n.children[0]):!Editor.isEditor(t)},deleteRange=(e,t)=>{var n;return Range.isCollapsed(t)?t.anchor:([,n]=Range.edges(t),n=Editor.pointRef(e,n),Transforms.delete(e,{at:t}),n.unref())},matchPath=(e,t)=>{var[n]=Editor.node(e,t);return e=>e===n};function ownKeys$1$1(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function _objectSpread$1$1(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ownKeys$1$1(Object(n),!0).forEach(function(e){_defineProperty$1(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$1$1(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var SelectionTransforms={collapse(e){var t,{edge:n="anchor"}=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=e["selection"];r&&("anchor"===n?Transforms.select(e,r.anchor):"focus"===n?Transforms.select(e,r.focus):"start"===n?([t]=Range.edges(r),Transforms.select(e,t)):"end"===n&&([,t]=Range.edges(r),Transforms.select(e,t)))},deselect(e){var t=e["selection"];t&&e.apply({type:"set_selection",properties:t,newProperties:null})},move(e){var t,n,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},a=e["selection"],{distance:o=1,unit:i="character",reverse:u=!1}=r,{edge:r=null}=r;a&&({anchor:n,focus:t}=a,o={distance:o,unit:i},i={},null!=(r="end"===(r="start"===r?Range.isBackward(a)?"focus":"anchor":r)?Range.isBackward(a)?"anchor":"focus":r)&&"anchor"!==r||(a=u?Editor.before(e,n,o):Editor.after(e,n,o))&&(i.anchor=a),null!=r&&"focus"!==r||(n=u?Editor.before(e,t,o):Editor.after(e,t,o))&&(i.focus=n),Transforms.setSelection(e,i))},select(e,t){var n=e["selection"];if(t=Editor.range(e,t),n)Transforms.setSelection(e,t);else{if(!Range.isRange(t))throw new Error("When setting the selection and the current selection is `null` you must provide at least an `anchor` and `focus`, but you passed: ".concat(JSON.stringify(t)));e.apply({type:"set_selection",properties:n,newProperties:t})}},setPoint(e,t){var n,r=e["selection"],{edge:a="both"}=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};r&&("end"===(a="start"===a?Range.isBackward(r)?"focus":"anchor":a)&&(a=Range.isBackward(r)?"anchor":"focus"),{anchor:r,focus:n}=r,Transforms.setSelection(e,{["anchor"===a?"anchor":"focus"]:_objectSpread$1$1(_objectSpread$1$1({},"anchor"===a?r:n),t)}))},setSelection(e,t){var n=e["selection"],r={},a={};if(n){for(var o in t)("anchor"===o&&null!=t.anchor&&!Point.equals(t.anchor,n.anchor)||"focus"===o&&null!=t.focus&&!Point.equals(t.focus,n.focus)||"anchor"!==o&&"focus"!==o&&t[o]!==n[o])&&(r[o]=n[o],a[o]=t[o]);0<Object.keys(r).length&&e.apply({type:"set_selection",properties:r,newProperties:a})}}},TextTransforms={delete(y){var v=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};Editor.withoutNormalizing(y,()=>{var{reverse:e=!1,unit:t="character",distance:n=1,voids:r=!1}=v,{at:a=y.selection,hanging:o=!1}=v;if(a)if(Range.isRange(a)&&Range.isCollapsed(a)&&(a=a.anchor),Point.isPoint(a)&&(c=Editor.void(y,{at:a,mode:"highest"}),!r&&c?([,c]=c,a=c):(c={unit:t,distance:n},a={anchor:a,focus:e?Editor.before(y,a,c)||Editor.start(y,[]):Editor.after(y,a,c)||Editor.end(y,[])},o=!0)),Path.isPath(a))Transforms.removeNodes(y,{at:a,voids:r});else if(!Range.isCollapsed(a)){o||([,t]=Range.edges(a),n=Editor.end(y,[]),Point.equals(t,n))||(a=Editor.unhangRange(y,a,{voids:r}));var i,u,[s,l]=Range.edges(a),c=Editor.above(y,{match:e=>Editor.isBlock(y,e),at:s,voids:r}),o=Editor.above(y,{match:e=>Editor.isBlock(y,e),at:l,voids:r}),t=c&&o&&!Path.equals(c[1],o[1]),n=Path.equals(s.path,l.path),d=r?null:Editor.void(y,{at:s,mode:"highest"}),f=r?null:Editor.void(y,{at:l,mode:"highest"}),p=(d&&(D=Editor.before(y,s))&&c&&Path.isAncestor(c[1],D.path)&&(s=D),f&&(c=Editor.after(y,l))&&o&&Path.isAncestor(o[1],c.path)&&(l=c),[]);for(u of Editor.nodes(y,{at:a,voids:r})){var[h,E]=u;i&&0===Path.compare(E,i)||(!r&&Editor.isVoid(y,h)||!Path.isCommon(E,s.path)&&!Path.isCommon(E,l.path))&&(p.push(u),i=E)}var g,m,D=Array.from(p,e=>{var[,e]=e;return Editor.pathRef(y,e)}),o=Editor.pointRef(y,s),c=Editor.pointRef(y,l);n||d||(a=o.current,[d]=Editor.leaf(y,a),a=a["path"],m=s["offset"],0<(d=d.text.slice(m)).length&&y.apply({type:"remove_text",path:a,offset:m,text:d}));for(g of D){var C=g.unref();Transforms.removeNodes(y,{at:C,voids:r})}f||(a=c.current,[m]=Editor.leaf(y,a),d=a["path"],D=n?s.offset:0,0<(f=m.text.slice(D,l.offset)).length&&y.apply({type:"remove_text",path:d,offset:D,text:f})),!n&&t&&c.current&&o.current&&Transforms.mergeNodes(y,{at:c.current,hanging:!0,voids:r});a=e?o.unref()||c.unref():c.unref()||o.unref();null==v.at&&a&&Transforms.select(y,a)}})},insertFragment(A,b){var B=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};Editor.withoutNormalizing(A,()=>{var{hanging:e=!1,voids:t=!1}=B,{at:n=A.selection}=B;if(b.length&&n){if(Range.isRange(n))if(e||(n=Editor.unhangRange(A,n)),Range.isCollapsed(n))n=n.anchor;else{var[,e]=Range.edges(n);if(!t&&Editor.void(A,{at:e}))return;e=Editor.pointRef(A,e);Transforms.delete(A,{at:n}),n=e.unref()}else Path.isPath(n)&&(n=Editor.start(A,n));if(t||!Editor.void(A,{at:n})){e=Editor.above(A,{at:n,match:e=>Editor.isInline(A,e),mode:"highest",voids:t});e&&([,e]=e,Editor.isEnd(A,n,e)?n=Editor.after(A,e):Editor.isStart(A,n,e)&&(n=Editor.before(A,e)));var r,[,e]=Editor.above(A,{match:e=>Editor.isBlock(A,e),at:n,voids:t}),a=Editor.isStart(A,n,e),o=Editor.isEnd(A,n,e),i=a&&o,u=!a||o,s=!o,[,l]=Node.first({children:b},[]),[,c]=Node.last({children:b},[]),d=[],f=e=>{var[e,t]=e;return!(0===t.length||!i&&(u&&Path.isAncestor(t,l)&&Element$a.isElement(e)&&!A.isVoid(e)&&!A.isInline(e)||s&&Path.isAncestor(t,c)&&Element$a.isElement(e)&&!A.isVoid(e)&&!A.isInline(e)))};for(r of Node.nodes({children:b},{pass:f}))f(r)&&d.push(r);var p,h=[],E=[],g=[],m=!0,D=!1;for([p]of d)(Element$a.isElement(p)&&!A.isInline(p)?(D=!(m=!1),E):m?h:g).push(p);var[a]=Editor.nodes(A,{at:n,match:e=>Text$1.isText(e)||Editor.isInline(A,e),mode:"highest",voids:t}),[,a]=a,C=Editor.isStart(A,n,a),y=Editor.isEnd(A,n,a),o=Editor.pathRef(A,o?Path.next(e):e),v=Editor.pathRef(A,y?Path.next(a):a),e=Editor.pathRef(A,e),n=(Transforms.splitNodes(A,{at:n,match:e=>D?Editor.isBlock(A,e):Text$1.isText(e)||Editor.isInline(A,e),mode:D?"lowest":"highest",voids:t}),Editor.pathRef(A,!C||y?Path.next(a):a));Transforms.insertNodes(A,h,{at:n.current,match:e=>Text$1.isText(e)||Editor.isInline(A,e),mode:"highest",voids:t}),i&&E.length&&Transforms.delete(A,{at:e.unref(),voids:t}),Transforms.insertNodes(A,E,{at:o.current,match:e=>Editor.isBlock(A,e),mode:"lowest",voids:t}),Transforms.insertNodes(A,g,{at:v.current,match:e=>Text$1.isText(e)||Editor.isInline(A,e),mode:"highest",voids:t}),B.at||(C=0<g.length?Path.previous(v.current):0<E.length?Path.previous(o.current):Path.previous(n.current),y=Editor.end(A,C),Transforms.select(A,y)),n.unref(),o.unref(),v.unref()}}})},insertText(r,a){var o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};Editor.withoutNormalizing(r,()=>{var{voids:e=!1}=o,{at:t=r.selection}=o;if(t){if(Path.isPath(t)&&(t=Editor.range(r,t)),Range.isRange(t))if(Range.isCollapsed(t))t=t.anchor;else{var n=Range.end(t);if(!e&&Editor.void(r,{at:n}))return;var n=Range.start(t),n=Editor.pointRef(r,n);Transforms.delete(r,{at:t,voids:e}),t=n.unref(),Transforms.setSelection(r,{anchor:t,focus:t})}!e&&Editor.void(r,{at:t})||({path:n,offset:e}=t,0<a.length&&r.apply({type:"insert_text",path:n,offset:e,text:a}))}})}};function ownKeys$a(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function _objectSpread$a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ownKeys$a(Object(n),!0).forEach(function(e){_defineProperty$1(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$a(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var Transforms=_objectSpread$a(_objectSpread$a(_objectSpread$a(_objectSpread$a({},GeneralTransforms),NodeTransforms),SelectionTransforms),TextTransforms),direction_1=direction,RTL="֑-߿יִ-﷽ﹰ-ﻼ",LTR="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿‎Ⰰ-﬜︀-﹯﻽-￿",rtl=new RegExp("^[^"+LTR+"]*["+RTL+"]"),ltr=new RegExp("^[^"+RTL+"]*["+LTR+"]");function direction(e){return e=String(e||""),rtl.test(e)?"rtl":ltr.test(e)?"ltr":"neutral"}function t(e){return"object"==typeof e&&null!=e&&1===e.nodeType}function e(e,t){return(!t||"hidden"!==e)&&"visible"!==e&&"clip"!==e}function n$1(t,n){var r;return(t.clientHeight<t.scrollHeight||t.clientWidth<t.scrollWidth)&&(e((r=getComputedStyle(t,null)).overflowY,n)||e(r.overflowX,n)||!!(n=function(e){if(!e.ownerDocument||!e.ownerDocument.defaultView)return null;try{return e.ownerDocument.defaultView.frameElement}catch(e){return null}}(r=t))&&(n.clientHeight<r.scrollHeight||n.clientWidth<r.scrollWidth))}function r(e,t,n,r,a,o,i,u){return o<e&&t<i||e<o&&i<t?0:o<=e&&u<=n||t<=i&&n<=u?o-e-r:t<i&&u<n||o<e&&n<u?i-t+a:0}function compute(e,n){var a=window,$=n.scrollMode,o=n.block,i=n.inline,u=n.boundary,M=n.skipOverflowHiddenElements,j="function"==typeof u?u:function(e){return e!==u};if(!t(e))throw new TypeError("Invalid target");for(var H=document.scrollingElement||document.documentElement,s=[],l=e;t(l)&&j(l);){if((l=l.parentElement)===H){s.push(l);break}null!=l&&l===document.body&&n$1(l)&&!n$1(document.documentElement)||null!=l&&n$1(l,M)&&s.push(l)}for(var c=a.visualViewport?a.visualViewport.width:innerWidth,d=a.visualViewport?a.visualViewport.height:innerHeight,f=window.scrollX||pageXOffset,p=window.scrollY||pageYOffset,n=e.getBoundingClientRect(),h=n.height,E=n.width,g=n.top,m=n.right,D=n.bottom,C=n.left,y="start"===o||"nearest"===o?g:"end"===o?D:g+h/2,v="center"===i?C+E/2:"end"===i?m:C,A=[],b=0;b<s.length;b++){var B=s[b],R=B.getBoundingClientRect(),w=R.height,F=R.width,T=R.top,U=R.right,O=R.bottom,R=R.left;if("if-needed"===$&&0<=g&&0<=C&&D<=d&&m<=c&&T<=g&&D<=O&&R<=C&&m<=U)return A;var S=getComputedStyle(B),P=parseInt(S.borderLeftWidth,10),x=parseInt(S.borderTopWidth,10),_=parseInt(S.borderRightWidth,10),S=parseInt(S.borderBottomWidth,10),k=0,N=0,I="offsetWidth"in B?B.offsetWidth-B.clientWidth-P-_:0,L="offsetHeight"in B?B.offsetHeight-B.clientHeight-x-S:0;H===B?(k="start"===o?y:"end"===o?y-d:"nearest"===o?r(p,p+d,d,x,S,p+y,p+y+h,h):y-d/2,N="start"===i?v:"center"===i?v-c/2:"end"===i?v-c:r(f,f+c,c,P,_,f+v,f+v+E,E),k=Math.max(0,k+p),N=Math.max(0,N+f)):(k="start"===o?y-T-x:"end"===o?y-O+S+L:"nearest"===o?r(T,O,w,x,S+L,y,y+h,h):y-(T+w/2)+L/2,N="start"===i?v-R-P:"center"===i?v-(R+F/2)+I/2:"end"===i?v-U+_+I:r(R,U,F,P,_+I,v,v+E,E),O=B.scrollLeft,y+=(x=B.scrollTop)-(k=Math.max(0,Math.min(x+k,B.scrollHeight-w+L))),v+=O-(N=Math.max(0,Math.min(O+N,B.scrollWidth-F+I)))),A.push({el:B,top:k,left:N})}return A}function isOptionsObject(e){return e===Object(e)&&0!==Object.keys(e).length}function defaultBehavior(e,r){void 0===r&&(r="auto");var a="scrollBehavior"in document.body.style;e.forEach(function(e){var t=e.el,n=e.top,e=e.left;t.scroll&&a?t.scroll({top:n,left:e,behavior:r}):(t.scrollTop=n,t.scrollLeft=e)})}function getOptions(e){return!1===e?{block:"end",inline:"nearest"}:isOptionsObject(e)?e:{block:"start",inline:"nearest"}}function scrollIntoView(e,t){var n=!e.ownerDocument.documentElement.contains(e);return isOptionsObject(t)&&"function"==typeof t.behavior?t.behavior(n?[]:compute(e,t)):n?void 0:defaultBehavior(compute(e,n=getOptions(t)),n.behavior)}var commonjsGlobal="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function unwrapExports(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function createCommonjsModule(e,t){return e(t={exports:{}},t.exports),t.exports}var lib=createCommonjsModule(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});for(var n="undefined"!=typeof window&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),h={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},r={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:n?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},a={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},o=1;o<20;o++)a["f"+o]=111+o;function i(e,t,n){!t||"byKey"in t||(n=t,t=null);function r(t){return a.some(function(e){return s(e,t)})}var a=(e=Array.isArray(e)?e:[e]).map(function(e){return u(e,t)});return null==n?r:r(n)}function u(t,e){var n,r=e&&e.byKey,a={},e=(t=t.replace("++","+add")).split("+"),o=e.length;for(n in h)a[h[n]]=!1;var i=!0,t=!1,u=void 0;try{for(var s,l=e[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var c=s.value,d=c.endsWith("?")&&1<c.length,f=g(c=d?c.slice(0,-1):c),p=h[f];1!==o&&p||(r?a.key=f:a.which=E(c)),p&&(a[p]=!d||null)}}catch(e){t=!0,u=e}finally{try{!i&&l.return&&l.return()}finally{if(t)throw u}}return a}function s(e,t){for(var n in e){var r=e[n],a=void 0;if(null!=r&&((null!=(a="key"===n&&null!=t.key?t.key.toLowerCase():"which"===n?91===r&&93===t.which?91:t.which:t[n])||!1!==r)&&a!==r))return!1}return!0}function E(e){return e=g(e),a[e]||e.toUpperCase().charCodeAt(0)}function g(e){return e=e.toLowerCase(),e=r[e]||e}t.default=i,t.isHotkey=i,t.isCodeHotkey=function(e,t){return i(e,t)},t.isKeyHotkey=function(e,t){return i(e,{byKey:!0},t)},t.parseHotkey=u,t.compareHotkey=s,t.toKeyCode=E,t.toKeyName=g}),lib_3=(unwrapExports(lib),lib.isHotkey,lib.isCodeHotkey,lib.isKeyHotkey);function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _objectWithoutPropertiesLoose(e,t){if(null==e)return{};for(var n,r={},a=Object.keys(e),o=0;o<a.length;o++)n=a[o],0<=t.indexOf(n)||(r[n]=e[n]);return r}function _objectWithoutProperties(e,t){if(null==e)return{};var n,r=_objectWithoutPropertiesLoose(e,t);if(Object.getOwnPropertySymbols)for(var a=Object.getOwnPropertySymbols(e),o=0;o<a.length;o++)n=a[o],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}lib.parseHotkey,lib.compareHotkey,lib.toKeyCode,lib.toKeyName;var String$1=e=>{var{isLast:e,leaf:t,parent:n,text:r}=e,a=useSlateStatic(),o=ReactEditor.findPath(a,r),o=Path.parent(o);return a.isVoid(n)?React.createElement(ZeroWidthString,{length:Node.string(n).length}):""!==t.text||n.children[n.children.length-1]!==r||a.isInline(n)||""!==Editor.string(a,o)?""===t.text?React.createElement(ZeroWidthString,null):e&&"\n"===t.text.slice(-1)?React.createElement(TextString,{isTrailing:!0,text:t.text}):React.createElement(TextString,{text:t.text}):React.createElement(ZeroWidthString,{isLineBreak:!0})},TextString=e=>{var{text:e,isTrailing:t=!1}=e,n=useRef(null),r=useRef(0);return n.current&&n.current.textContent!==e&&(r.current+=1),React.createElement("span",{"data-slate-string":!0,ref:n,key:r.current},e,t?"\n":null)},ZeroWidthString=e=>{var{length:e=0,isLineBreak:t=!1}=e;return React.createElement("span",{"data-slate-zero-width":t?"n":"z","data-slate-length":e},"\ufeff",t?React.createElement("br",null):null)},NODE_TO_INDEX=new WeakMap,NODE_TO_PARENT=new WeakMap,EDITOR_TO_WINDOW=new WeakMap,EDITOR_TO_ELEMENT=new WeakMap,ELEMENT_TO_NODE=new WeakMap,NODE_TO_ELEMENT=new WeakMap,NODE_TO_KEY=new WeakMap,EDITOR_TO_KEY_TO_ELEMENT=new WeakMap,IS_READ_ONLY=new WeakMap,IS_FOCUSED=new WeakMap,EDITOR_TO_ON_CHANGE=new WeakMap,EDITOR_TO_RESTORE_DOM=new WeakMap,PLACEHOLDER_SYMBOL=Symbol("placeholder"),Leaf$2=e=>{var{leaf:e,isLast:t,text:n,parent:r,renderPlaceholder:a,renderLeaf:o=e=>React.createElement(DefaultLeaf,Object.assign({},e))}=e,i=useRef(null),t=(useEffect(()=>{var e=null==i?void 0:i.current,t=document.querySelector('[data-slate-editor="true"]');if(e&&t)return t.style.minHeight="".concat(e.clientHeight,"px"),()=>{t.style.minHeight="auto"}},[i,e]),React.createElement(String$1,{isLast:t,leaf:e,parent:r,text:n}));e[PLACEHOLDER_SYMBOL]&&(r={children:e.placeholder,attributes:{"data-slate-placeholder":!0,style:{position:"absolute",pointerEvents:"none",width:"100%",maxWidth:"100%",display:"block",opacity:"0.333",userSelect:"none",textDecoration:"none"},contentEditable:!1,ref:i}},t=React.createElement(React.Fragment,null,a(r),t));return o({attributes:{"data-slate-leaf":!0},children:t,leaf:e,text:n})},MemoizedLeaf=React.memo(Leaf$2,(e,t)=>t.parent===e.parent&&t.isLast===e.isLast&&t.renderLeaf===e.renderLeaf&&t.renderPlaceholder===e.renderPlaceholder&&t.text===e.text&&Text$1.equals(t.leaf,e.leaf)&&t.leaf[PLACEHOLDER_SYMBOL]===e.leaf[PLACEHOLDER_SYMBOL]),DefaultLeaf=e=>{var{attributes:e,children:t}=e;return React.createElement("span",Object.assign({},e),t)},IS_IOS="undefined"!=typeof navigator&&"undefined"!=typeof window&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,IS_APPLE="undefined"!=typeof navigator&&/Mac OS X/.test(navigator.userAgent),IS_ANDROID="undefined"!=typeof navigator&&/Android/.test(navigator.userAgent),IS_FIREFOX="undefined"!=typeof navigator&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),IS_SAFARI="undefined"!=typeof navigator&&/Version\/[\d\.]+.*Safari/.test(navigator.userAgent),IS_EDGE_LEGACY="undefined"!=typeof navigator&&/Edge?\/(?:[0-6][0-9]|[0-7][0-8])/i.test(navigator.userAgent),IS_CHROME="undefined"!=typeof navigator&&/Chrome/i.test(navigator.userAgent),IS_CHROME_LEGACY="undefined"!=typeof navigator&&/Chrome?\/(?:[0-7][0-5]|[0-6][0-9])/i.test(navigator.userAgent),IS_FIREFOX_LEGACY="undefined"!=typeof navigator&&/^(?!.*Seamonkey)(?=.*Firefox\/(?:[0-7][0-9]|[0-8][0-6])).*/i.test(navigator.userAgent),IS_QQBROWSER="undefined"!=typeof navigator&&/.*QQBrowser/.test(navigator.userAgent),CAN_USE_DOM=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),HAS_BEFORE_INPUT_SUPPORT=!IS_CHROME_LEGACY&&!IS_EDGE_LEGACY&&"undefined"!=typeof globalThis&&globalThis.InputEvent&&"function"==typeof globalThis.InputEvent.prototype.getTargetRanges,useIsomorphicLayoutEffect=CAN_USE_DOM?useLayoutEffect:useEffect,_excluded$3=["anchor","focus"],_excluded2=["anchor","focus"],shallowCompare=(t,n)=>Object.keys(t).length===Object.keys(n).length&&Object.keys(t).every(e=>n.hasOwnProperty(e)&&t[e]===n[e]),isDecoratorRangeListEqual=(e,t)=>{if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++){var r=e[n],a=t[n],o=_objectWithoutProperties(r,_excluded$3),i=_objectWithoutProperties(a,_excluded2);if(!Range.equals(r,a)||r[PLACEHOLDER_SYMBOL]!==a[PLACEHOLDER_SYMBOL]||!shallowCompare(o,i))return!1}return!0},Text=e=>{for(var{decorations:e,isLast:t,parent:n,renderPlaceholder:r,renderLeaf:a,text:o}=e,i=useSlateStatic(),u=useRef(null),s=Text$1.decorations(o,e),l=ReactEditor.findKey(i,o),c=[],d=0;d<s.length;d++){var f=s[d];c.push(React.createElement(MemoizedLeaf,{isLast:t&&d===s.length-1,key:"".concat(l.id,"-").concat(d),renderPlaceholder:r,leaf:f,text:o,parent:n,renderLeaf:a}))}return useIsomorphicLayoutEffect(()=>{var e=EDITOR_TO_KEY_TO_ELEMENT.get(i);u.current?(null!=e&&e.set(l,u.current),NODE_TO_ELEMENT.set(o,u.current),ELEMENT_TO_NODE.set(u.current,o)):(null!=e&&e.delete(l),NODE_TO_ELEMENT.delete(o))}),React.createElement("span",{"data-slate-node":"text",ref:u},c)},MemoizedText=React.memo(Text,(e,t)=>t.parent===e.parent&&t.isLast===e.isLast&&t.renderLeaf===e.renderLeaf&&t.text===e.text&&isDecoratorRangeListEqual(t.decorations,e.decorations)),Element$9=e=>{var{decorations:e,element:t,renderElement:n=e=>React.createElement(DefaultElement,Object.assign({},e)),renderPlaceholder:r,renderLeaf:a,selection:o}=e,i=useRef(null),u=useSlateStatic(),s=useReadOnly(),l=u.isInline(t),c=ReactEditor.findKey(u,t),e=useChildren({decorations:e,node:t,renderElement:n,renderPlaceholder:r,renderLeaf:a,selection:o}),a={"data-slate-node":"element",ref:i};return l&&(a["data-slate-inline"]=!0),!l&&Editor.hasInlines(u,t)&&(o=Node.string(t),"rtl"===(o=direction_1(o)))&&(a.dir=o),Editor.isVoid(u,t)&&(a["data-slate-void"]=!0,!s&&l&&(a.contentEditable=!1),o=l?"span":"div",[[l]]=Node.texts(t),e=s?null:React.createElement(o,{"data-slate-spacer":!0,style:{height:"0",color:"transparent",outline:"none",position:"absolute"}},React.createElement(MemoizedText,{renderPlaceholder:r,decorations:[],isLast:!1,parent:t,text:l})),NODE_TO_INDEX.set(l,0),NODE_TO_PARENT.set(l,t)),useIsomorphicLayoutEffect(()=>{var e=EDITOR_TO_KEY_TO_ELEMENT.get(u);i.current?(null!=e&&e.set(c,i.current),NODE_TO_ELEMENT.set(t,i.current),ELEMENT_TO_NODE.set(i.current,t)):(null!=e&&e.delete(c),NODE_TO_ELEMENT.delete(t))}),n({attributes:a,children:e,element:t})},MemoizedElement=React.memo(Element$9,(e,t)=>e.element===t.element&&e.renderElement===t.renderElement&&e.renderLeaf===t.renderLeaf&&isDecoratorRangeListEqual(e.decorations,t.decorations)&&(e.selection===t.selection||!!e.selection&&!!t.selection&&Range.equals(e.selection,t.selection))),DefaultElement=e=>{var{attributes:e,children:t,element:n}=e,n=useSlateStatic().isInline(n)?"span":"div";return React.createElement(n,Object.assign({},e,{style:{position:"relative"}}),t)},EditorContext=createContext(null),useSlateStatic=()=>{var e=useContext(EditorContext);if(e)return e;throw new Error("The `useSlateStatic` hook must be used inside the <Slate> component's context.")},DecorateContext=createContext(()=>[]),useDecorate=()=>useContext(DecorateContext),SelectedContext=createContext(!1),useSelected=()=>useContext(SelectedContext),useChildren=e=>{for(var{decorations:t,node:n,renderElement:r,renderPlaceholder:a,renderLeaf:o,selection:i}=e,u=useDecorate(),s=useSlateStatic(),l=ReactEditor.findPath(s,n),c=[],d=Element$a.isElement(n)&&!s.isInline(n)&&Editor.hasInlines(s,n),f=0;f<n.children.length;f++){var p,h=l.concat(f),E=n.children[f],g=ReactEditor.findKey(s,E),m=Editor.range(s,h),D=i&&Range.intersection(m,i),C=u([E,h]);for(p of t){var y=Range.intersection(p,m);y&&C.push(y)}Element$a.isElement(E)?c.push(React.createElement(SelectedContext.Provider,{key:"provider-".concat(g.id),value:!!D},React.createElement(MemoizedElement,{decorations:C,element:E,key:g.id,renderElement:r,renderPlaceholder:a,renderLeaf:o,selection:D}))):c.push(React.createElement(MemoizedText,{decorations:C,key:g.id,isLast:d&&f===n.children.length-1,parent:n,renderPlaceholder:a,renderLeaf:o,text:E})),NODE_TO_INDEX.set(E,f),NODE_TO_PARENT.set(E,n)}return c},HOTKEYS={bold:"mod+b",compose:["down","left","right","up","backspace","enter"],moveBackward:"left",moveForward:"right",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",italic:"mod+i",splitBlock:"shift?+enter",undo:"mod+z"},APPLE_HOTKEYS={moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},WINDOWS_HOTKEYS={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:["ctrl+y","ctrl+shift+z"]},create=e=>{var t=HOTKEYS[e],n=APPLE_HOTKEYS[e],e=WINDOWS_HOTKEYS[e],r=t&&lib_3(t),a=n&&lib_3(n),o=e&&lib_3(e);return e=>!(!r||!r(e))||!!(IS_APPLE&&a&&a(e))||!(IS_APPLE||!o||!o(e))},Hotkeys={isBold:create("bold"),isCompose:create("compose"),isMoveBackward:create("moveBackward"),isMoveForward:create("moveForward"),isDeleteBackward:create("deleteBackward"),isDeleteForward:create("deleteForward"),isDeleteLineBackward:create("deleteLineBackward"),isDeleteLineForward:create("deleteLineForward"),isDeleteWordBackward:create("deleteWordBackward"),isDeleteWordForward:create("deleteWordForward"),isExtendBackward:create("extendBackward"),isExtendForward:create("extendForward"),isExtendLineBackward:create("extendLineBackward"),isExtendLineForward:create("extendLineForward"),isItalic:create("italic"),isMoveLineBackward:create("moveLineBackward"),isMoveLineForward:create("moveLineForward"),isMoveWordBackward:create("moveWordBackward"),isMoveWordForward:create("moveWordForward"),isRedo:create("redo"),isSplitBlock:create("splitBlock"),isTransposeCharacter:create("transposeCharacter"),isUndo:create("undo")},ReadOnlyContext=createContext(!1),useReadOnly=()=>useContext(ReadOnlyContext),SlateContext=createContext(null),useSlate=()=>{var e=useContext(SlateContext);if(e)return[e]=e,e;throw new Error("The `useSlate` hook must be used inside the <Slate> component's context.")},getDefaultView=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView||null,isDOMComment=e=>isDOMNode(e)&&8===e.nodeType,isDOMElement=e=>isDOMNode(e)&&1===e.nodeType,isDOMNode=e=>{var t=getDefaultView(e);return!!t&&e instanceof t.Node},isDOMSelection=e=>{var t=e&&e.anchorNode&&getDefaultView(e.anchorNode);return!!t&&e instanceof t.Selection},isDOMText=e=>isDOMNode(e)&&3===e.nodeType,isPlainTextOnlyPaste=e=>e.clipboardData&&""!==e.clipboardData.getData("text/plain")&&1===e.clipboardData.types.length,normalizeDOMPoint=e=>{var[t,e]=e;if(isDOMElement(t)&&t.childNodes.length){var n=e===t.childNodes.length,r=n?e-1:e;for([t,r]=getEditableChildAndIndex(t,r,n?"backward":"forward"),n=r<e;isDOMElement(t)&&t.childNodes.length;)var a=n?t.childNodes.length-1:0,t=getEditableChild(t,a,n?"backward":"forward");e=n&&null!=t.textContent?t.textContent.length:0}return[t,e]},hasShadowRoot=()=>!(!window.document.activeElement||!window.document.activeElement.shadowRoot),getEditableChildAndIndex=(e,t,n)=>{for(var r=e["childNodes"],a=r[t],o=t,i=!1,u=!1;(isDOMComment(a)||isDOMElement(a)&&0===a.childNodes.length||isDOMElement(a)&&"false"===a.getAttribute("contenteditable"))&&(!i||!u);)o>=r.length?(i=!0,o=t-1,n="backward"):o<0?(u=!0,o=t+1,n="forward"):(a=r[o],t=o,o+="forward"===n?1:-1);return[a,t]},getEditableChild=(e,t,n)=>{var[e]=getEditableChildAndIndex(e,t,n);return e},getPlainText=e=>{var t="";if(isDOMText(e)&&e.nodeValue)return e.nodeValue;if(isDOMElement(e)){for(var n of Array.from(e.childNodes))t+=getPlainText(n);var r=getComputedStyle(e).getPropertyValue("display");"block"!==r&&"list"!==r&&"BR"!==e.tagName||(t+="\n")}return t},catchSlateFragment=/data-slate-fragment="(.+?)"/m,getSlateFragmentAttribute=e=>{var[,e]=e.getData("text/html").match(catchSlateFragment)||[];return e},getClipboardData=t=>{if(!t.getData("application/x-slate-fragment")){var n,e=getSlateFragmentAttribute(t);if(e)return n=new DataTransfer,t.types.forEach(e=>{n.setData(e,t.getData(e))}),n.setData("application/x-slate-fragment",e),n}return t},AS_NATIVE=new WeakMap,NATIVE_OPERATIONS=new WeakMap,asNative=function(e,t){var n=(2<arguments.length&&void 0!==arguments[2]?arguments[2]:{})["onFlushed"],r=AS_NATIVE.get(e);AS_NATIVE.set(e,!0);try{t()}finally{void 0!==r&&AS_NATIVE.set(e,r)}NATIVE_OPERATIONS.get(e)||null!=n&&n()},flushNativeEvents=t=>{var e=NATIVE_OPERATIONS.get(t);NATIVE_OPERATIONS.delete(t),e&&Editor.withoutNormalizing(t,()=>{e.forEach(e=>{t.apply(e)})})},_excluded$2=["autoFocus","decorate","onDOMBeforeInput","placeholder","readOnly","renderElement","renderLeaf","renderPlaceholder","scrollSelectionIntoView","style","as"];function ownKeys$2(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function _objectSpread$2(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ownKeys$2(Object(n),!0).forEach(function(e){_defineProperty(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$2(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var Children=e=>React.createElement(React.Fragment,null,useChildren(e)),Editable$1=e=>{var{autoFocus:t,decorate:n=defaultDecorate,onDOMBeforeInput:u,placeholder:r,readOnly:s=!1,renderElement:a,renderLeaf:o,renderPlaceholder:i=e=>React.createElement(DefaultPlaceholder,Object.assign({},e)),scrollSelectionIntoView:l=defaultScrollSelectionIntoView,style:c={},as:d="div"}=e,f=_objectWithoutProperties(e,_excluded$2),p=useSlate(),[e,h]=useState(!1),E=useRef(null),g=(IS_READ_ONLY.set(p,s),useMemo(()=>({isComposing:!1,hasInsertPrefixInCompositon:!1,isDraggingInternally:!1,isUpdatingSelection:!1,latestElement:null}),[])),m=(useIsomorphicLayoutEffect(()=>{var e=(E.current&&(e=getDefaultView(E.current))?(EDITOR_TO_WINDOW.set(p,e),EDITOR_TO_ELEMENT.set(p,E.current),NODE_TO_ELEMENT.set(p,E.current),ELEMENT_TO_NODE.set(E.current,p)):NODE_TO_ELEMENT.delete(p),p)["selection"],t=ReactEditor.findDocumentOrShadowRoot(p).getSelection();if(!g.isComposing&&t&&ReactEditor.isFocused(p)){var n="None"!==t.type;if(e||n){var r,a=EDITOR_TO_ELEMENT.get(p),o=!1;if(a.contains(t.anchorNode)&&a.contains(t.focusNode)&&(o=!0),n&&o&&e){a=ReactEditor.toSlateRange(p,t,{exactMatch:!1});if(a&&Range.equals(a,e))return}e&&!ReactEditor.hasRange(p,e)?p.selection=ReactEditor.toSlateRange(p,t,{exactMatch:!1}):(g.isUpdatingSelection=!0,(r=e&&ReactEditor.toDOMRange(p,e))?(Range.isBackward(e)?t.setBaseAndExtent(r.endContainer,r.endOffset,r.startContainer,r.startOffset):t.setBaseAndExtent(r.startContainer,r.startOffset,r.endContainer,r.endOffset),l(p,r)):t.removeAllRanges(),setTimeout(()=>{r&&IS_FIREFOX&&ReactEditor.toDOMNode(p,p).focus(),g.isUpdatingSelection=!1}))}}}),useEffect(()=>{E.current&&t&&E.current.focus()},[t]),useCallback(e=>{if(!s&&hasEditableTarget(p,e.target)&&!isDOMEventHandled(e,u)){var t=p["selection"],n=e["inputType"],r=e.dataTransfer||e.data||void 0;if("insertCompositionText"!==n&&"deleteCompositionText"!==n){var a,o=!1;if((o="insertText"===n&&t&&Range.isCollapsed(t)&&e.data&&1===e.data.length&&/[a-z ]/i.test(e.data)&&0!==t.anchor.offset&&(o=!0,p.marks&&(o=!1),a=t["anchor"],a=Editor.above(p,{at:a,match:e=>Editor.isInline(p,e),mode:"highest"}))&&([,a]=a,Editor.isEnd(p,t.anchor,a))?!1:o)||e.preventDefault(),n.startsWith("delete")&&!n.startsWith("deleteBy")||([a]=e.getTargetRanges(),a&&(a=ReactEditor.toSlateRange(p,a,{exactMatch:!1}),t&&Range.equals(t,a)||Transforms.select(p,a))),t&&Range.isExpanded(t)&&n.startsWith("delete"))a=n.endsWith("Backward")?"backward":"forward",Editor.deleteFragment(p,{direction:a});else switch(n){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":Editor.deleteFragment(p);break;case"deleteContent":case"deleteContentForward":Editor.deleteForward(p);break;case"deleteContentBackward":Editor.deleteBackward(p);break;case"deleteEntireSoftLine":Editor.deleteBackward(p,{unit:"line"}),Editor.deleteForward(p,{unit:"line"});break;case"deleteHardLineBackward":Editor.deleteBackward(p,{unit:"block"});break;case"deleteSoftLineBackward":Editor.deleteBackward(p,{unit:"line"});break;case"deleteHardLineForward":Editor.deleteForward(p,{unit:"block"});break;case"deleteSoftLineForward":Editor.deleteForward(p,{unit:"line"});break;case"deleteWordBackward":Editor.deleteBackward(p,{unit:"word"});break;case"deleteWordForward":Editor.deleteForward(p,{unit:"word"});break;case"insertLineBreak":case"insertParagraph":Editor.insertBreak(p);break;case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":"insertFromComposition"===n&&(g.isComposing&&h(!1),g.isComposing=!1);var i=ReactEditor.getWindow(p);r instanceof i.DataTransfer?ReactEditor.insertData(p,r):"string"==typeof r&&(o?asNative(p,()=>Editor.insertText(p,r),{onFlushed:()=>e.preventDefault()}):Editor.insertText(p,r))}}}},[s,u])),D=(useIsomorphicLayoutEffect(()=>(E.current&&HAS_BEFORE_INPUT_SUPPORT&&E.current.addEventListener("beforeinput",m),()=>{E.current&&HAS_BEFORE_INPUT_SUPPORT&&E.current.removeEventListener("beforeinput",m)}),[m]),useCallback(throttle(()=>{if(!(s||g.isComposing||g.isUpdatingSelection||g.isDraggingInternally)){var e=ReactEditor.findDocumentOrShadowRoot(p),t=e["activeElement"],n=ReactEditor.toDOMNode(p,p),e=e.getSelection();if(t===n?(g.latestElement=t,IS_FOCUSED.set(p,!0)):IS_FOCUSED.delete(p),!e)return Transforms.deselect(p);var{anchorNode:n,focusNode:t}=e,n=hasEditableTarget(p,n)||isTargetInsideVoid(p,n),t=hasEditableTarget(p,t)||isTargetInsideVoid(p,t);n&&t?(n=ReactEditor.toSlateRange(p,e,{exactMatch:!1}),Transforms.select(p,n)):Transforms.deselect(p)}},100),[s])),C=useCallback(()=>setTimeout(D),[D]),y=(useIsomorphicLayoutEffect(()=>{var e=ReactEditor.getWindow(p);return e.document.addEventListener("selectionchange",C),()=>{e.document.removeEventListener("selectionchange",C)}},[C]),n([p,[]]));return r&&1===p.children.length&&1===Array.from(Node.texts(p)).length&&""===Node.string(p)&&!e&&(e=Editor.start(p,[]),y.push({[PLACEHOLDER_SYMBOL]:!0,placeholder:r,anchor:e,focus:e})),React.createElement(ReadOnlyContext.Provider,{value:s},React.createElement(DecorateContext.Provider,{value:n},React.createElement(d,Object.assign({"data-gramm":!1,role:s?void 0:"textbox"},f,{spellCheck:!!HAS_BEFORE_INPUT_SUPPORT&&f.spellCheck,autoCorrect:HAS_BEFORE_INPUT_SUPPORT?f.autoCorrect:"false",autoCapitalize:HAS_BEFORE_INPUT_SUPPORT?f.autoCapitalize:"false","data-slate-editor":!0,"data-slate-node":"value",contentEditable:!s||void 0,suppressContentEditableWarning:!0,ref:E,style:_objectSpread$2({position:"relative",outline:"none",whiteSpace:"pre-wrap",wordWrap:"break-word"},c),onBeforeInput:useCallback(e=>{HAS_BEFORE_INPUT_SUPPORT||s||isEventHandled(e,f.onBeforeInput)||!hasEditableTarget(p,e.target)||(e.preventDefault(),g.isComposing)||(e=e.data,Editor.insertText(p,e))},[s]),onInput:useCallback(e=>{flushNativeEvents(p)},[]),onBlur:useCallback(e=>{if(!s&&!g.isUpdatingSelection&&hasEditableTarget(p,e.target)&&!isEventHandled(e,f.onBlur)){var t=ReactEditor.findDocumentOrShadowRoot(p);if(g.latestElement!==t.activeElement){var e=e["relatedTarget"],n=ReactEditor.toDOMNode(p,p);if(!(e===n||isDOMElement(e)&&e.hasAttribute("data-slate-spacer"))){if(null!=e&&isDOMNode(e)&&ReactEditor.hasDOMNode(p,e)){n=ReactEditor.toSlateNode(p,e);if(Element$a.isElement(n)&&!p.isVoid(n))return}IS_SAFARI&&null!=(e=t.getSelection())&&e.removeAllRanges(),IS_FOCUSED.delete(p)}}}},[s,f.onBlur]),onClick:useCallback(e=>{var t,n;!s&&hasTarget(p,e.target)&&!isEventHandled(e,f.onClick)&&isDOMNode(e.target)&&(e=ReactEditor.toSlateNode(p,e.target),e=ReactEditor.findPath(p,e),t=Editor.start(p,e),e=Editor.end(p,e),n=Editor.void(p,{at:t}),e=Editor.void(p,{at:e}),n)&&e&&Path.equals(n[1],e[1])&&(n=Editor.range(p,t),Transforms.select(p,n))},[s,f.onClick]),onCompositionEnd:useCallback(e=>{var t;hasEditableTarget(p,e.target)&&!isEventHandled(e,f.onCompositionEnd)&&(g.isComposing&&h(!1),g.isComposing=!1,IS_SAFARI||IS_FIREFOX_LEGACY||IS_IOS||IS_QQBROWSER||!e.data||Editor.insertText(p,e.data),p.selection)&&Range.isCollapsed(p.selection)&&(e=p.selection.anchor.path,t=Node.leaf(p,e),g.hasInsertPrefixInCompositon)&&(g.hasInsertPrefixInCompositon=!1,Editor.withoutNormalizing(p,()=>{var e=t.text.replace(/^\uFEFF/,"");Transforms.delete(p,{distance:t.text.length,reverse:!0}),Transforms.insertText(p,e)}))},[f.onCompositionEnd]),onCompositionUpdate:useCallback(e=>{hasEditableTarget(p,e.target)&&!isEventHandled(e,f.onCompositionUpdate)&&(g.isComposing||h(!0),g.isComposing=!0)},[f.onCompositionUpdate]),onCompositionStart:useCallback(e=>{var t,n;hasEditableTarget(p,e.target)&&!isEventHandled(e,f.onCompositionStart)&&({selection:e,marks:t}=p,e)&&(Range.isExpanded(e)?Editor.deleteFragment(p):((n=Editor.above(p,{match:e=>Editor.isInline(p,e),mode:"highest"}))&&([,n]=n,Editor.isEnd(p,e.anchor,n))&&(e=Editor.after(p,n),Transforms.setSelection(p,{anchor:e,focus:e})),t&&(g.hasInsertPrefixInCompositon=!0,Transforms.insertNodes(p,_objectSpread$2({text:"\ufeff"},t),{select:!0}))))},[f.onCompositionStart]),onCopy:useCallback(e=>{hasEditableTarget(p,e.target)&&!isEventHandled(e,f.onCopy)&&(e.preventDefault(),ReactEditor.setFragmentData(p,e.clipboardData))},[f.onCopy]),onCut:useCallback(e=>{s||!hasEditableTarget(p,e.target)||isEventHandled(e,f.onCut)||(e.preventDefault(),ReactEditor.setFragmentData(p,e.clipboardData),e=p["selection"],e&&(Range.isExpanded(e)?Editor.deleteFragment(p):(e=Node.parent(p,e.anchor.path),Editor.isVoid(p,e)&&Transforms.delete(p))))},[s,f.onCut]),onDragOver:useCallback(e=>{var t;hasTarget(p,e.target)&&!isEventHandled(e,f.onDragOver)&&(t=ReactEditor.toSlateNode(p,e.target),Editor.isVoid(p,t))&&e.preventDefault()},[f.onDragOver]),onDragStart:useCallback(e=>{var t,n;hasTarget(p,e.target)&&!isEventHandled(e,f.onDragStart)&&(n=ReactEditor.toSlateNode(p,e.target),t=ReactEditor.findPath(p,n),(Editor.isVoid(p,n)||Editor.void(p,{at:t,voids:!0}))&&(n=Editor.range(p,t),Transforms.select(p,n)),g.isDraggingInternally=!0,ReactEditor.setFragmentData(p,e.dataTransfer))},[f.onDragStart]),onDrop:useCallback(e=>{var t,n;s||!hasTarget(p,e.target)||isEventHandled(e,f.onDrop)||(e.preventDefault(),t=p.selection,n=ReactEditor.findEventRange(p,e),e=e.dataTransfer,Transforms.select(p,n),g.isDraggingInternally&&(t&&Transforms.delete(p,{at:t}),g.isDraggingInternally=!1),ReactEditor.insertData(p,e),ReactEditor.isFocused(p))||ReactEditor.focus(p)},[s,f.onDrop]),onDragEnd:useCallback(e=>{!s&&g.isDraggingInternally&&hasTarget(p,e.target)&&!isEventHandled(e,f.onDragEnd)&&(g.isDraggingInternally=!1)},[s,f.onDragEnd]),onFocus:useCallback(e=>{var t,n;s||g.isUpdatingSelection||!hasEditableTarget(p,e.target)||isEventHandled(e,f.onFocus)||(t=ReactEditor.toDOMNode(p,p),n=ReactEditor.findDocumentOrShadowRoot(p),g.latestElement=n.activeElement,IS_FIREFOX&&e.target!==t?t.focus():IS_FOCUSED.set(p,!0))},[s,f.onFocus]),onKeyDown:useCallback(e=>{var t,n,r,a;s||g.isComposing||!hasEditableTarget(p,e.target)||isEventHandled(e,f.onKeyDown)||(t=e["nativeEvent"],n=p["selection"],r=p.children[null!==n?n.focus.path[0]:0],r="rtl"===direction_1(Node.string(r)),Hotkeys.isRedo(t)?(e.preventDefault(),"function"==typeof(a=p).redo&&a.redo()):Hotkeys.isUndo(t)?(e.preventDefault(),"function"==typeof(a=p).undo&&a.undo()):Hotkeys.isMoveLineBackward(t)?(e.preventDefault(),Transforms.move(p,{unit:"line",reverse:!0})):Hotkeys.isMoveLineForward(t)?(e.preventDefault(),Transforms.move(p,{unit:"line"})):Hotkeys.isExtendLineBackward(t)?(e.preventDefault(),Transforms.move(p,{unit:"line",edge:"focus",reverse:!0})):Hotkeys.isExtendLineForward(t)?(e.preventDefault(),Transforms.move(p,{unit:"line",edge:"focus"})):Hotkeys.isMoveBackward(t)?(e.preventDefault(),n&&Range.isCollapsed(n)?Transforms.move(p,{reverse:!r}):Transforms.collapse(p,{edge:"start"})):Hotkeys.isMoveForward(t)?(e.preventDefault(),n&&Range.isCollapsed(n)?Transforms.move(p,{reverse:r}):Transforms.collapse(p,{edge:"end"})):Hotkeys.isMoveWordBackward(t)?(e.preventDefault(),n&&Range.isExpanded(n)&&Transforms.collapse(p,{edge:"focus"}),Transforms.move(p,{unit:"word",reverse:!r})):Hotkeys.isMoveWordForward(t)?(e.preventDefault(),n&&Range.isExpanded(n)&&Transforms.collapse(p,{edge:"focus"}),Transforms.move(p,{unit:"word",reverse:r})):HAS_BEFORE_INPUT_SUPPORT?(IS_CHROME||IS_SAFARI)&&n&&(Hotkeys.isDeleteBackward(t)||Hotkeys.isDeleteForward(t))&&Range.isCollapsed(n)&&(a=Node.parent(p,n.anchor.path),Element$a.isElement(a))&&Editor.isVoid(p,a)&&Editor.isInline(p,a)&&(e.preventDefault(),Editor.deleteBackward(p,{unit:"block"})):Hotkeys.isBold(t)||Hotkeys.isItalic(t)||Hotkeys.isTransposeCharacter(t)?e.preventDefault():Hotkeys.isSplitBlock(t)?(e.preventDefault(),Editor.insertBreak(p)):Hotkeys.isDeleteBackward(t)?(e.preventDefault(),n&&Range.isExpanded(n)?Editor.deleteFragment(p,{direction:"backward"}):Editor.deleteBackward(p)):Hotkeys.isDeleteForward(t)?(e.preventDefault(),n&&Range.isExpanded(n)?Editor.deleteFragment(p,{direction:"forward"}):Editor.deleteForward(p)):Hotkeys.isDeleteLineBackward(t)?(e.preventDefault(),n&&Range.isExpanded(n)?Editor.deleteFragment(p,{direction:"backward"}):Editor.deleteBackward(p,{unit:"line"})):Hotkeys.isDeleteLineForward(t)?(e.preventDefault(),n&&Range.isExpanded(n)?Editor.deleteFragment(p,{direction:"forward"}):Editor.deleteForward(p,{unit:"line"})):Hotkeys.isDeleteWordBackward(t)?(e.preventDefault(),n&&Range.isExpanded(n)?Editor.deleteFragment(p,{direction:"backward"}):Editor.deleteBackward(p,{unit:"word"})):Hotkeys.isDeleteWordForward(t)&&(e.preventDefault(),n&&Range.isExpanded(n)?Editor.deleteFragment(p,{direction:"forward"}):Editor.deleteForward(p,{unit:"word"})))},[s,f.onKeyDown]),onPaste:useCallback(e=>{s||!hasEditableTarget(p,e.target)||isEventHandled(e,f.onPaste)||HAS_BEFORE_INPUT_SUPPORT&&!isPlainTextOnlyPaste(e.nativeEvent)||(e.preventDefault(),ReactEditor.insertData(p,e.clipboardData))},[s,f.onPaste])}),React.createElement(Children,{decorations:y,node:p,renderElement:a,renderPlaceholder:i,renderLeaf:o,selection:p.selection}))))},DefaultPlaceholder=e=>{var{attributes:e,children:t}=e;return React.createElement("span",Object.assign({},e),t)},defaultDecorate=()=>[],defaultScrollSelectionIntoView=(e,t)=>{var n=t.startContainer.parentElement;n.getBoundingClientRect=t.getBoundingClientRect.bind(t),scrollIntoView(n,{scrollMode:"if-needed"}),delete n.getBoundingClientRect},hasTarget=(e,t)=>isDOMNode(t)&&ReactEditor.hasDOMNode(e,t),hasEditableTarget=(e,t)=>isDOMNode(t)&&ReactEditor.hasDOMNode(e,t,{editable:!0}),isTargetInsideVoid=(e,t)=>{t=hasTarget(e,t)&&ReactEditor.toSlateNode(e,t);return Editor.isVoid(e,t)},isEventHandled=(e,t)=>{return!!t&&(null!=(t=t(e))?t:e.isDefaultPrevented()||e.isPropagationStopped())},isDOMEventHandled=(e,t)=>{return!!t&&(null!=(t=t(e))?t:e.defaultPrevented)},n=0;class Key{constructor(){this.id="".concat(n++)}}var ReactEditor={getWindow(e){e=EDITOR_TO_WINDOW.get(e);if(e)return e;throw new Error("Unable to find a host window element for this editor")},findKey(e,t){var n=NODE_TO_KEY.get(t);return n||(n=new Key,NODE_TO_KEY.set(t,n)),n},findPath(e,t){for(var n=[],r=t;;){var a=NODE_TO_PARENT.get(r);if(null==a){if(Editor.isEditor(r))return n;break}var o=NODE_TO_INDEX.get(r);if(null==o)break;n.unshift(o),r=a}throw new Error("Unable to find the path for Slate node: ".concat(JSON.stringify(t)))},findDocumentOrShadowRoot(e){var e=ReactEditor.toDOMNode(e,e),t=e.getRootNode();return(t instanceof Document||t instanceof ShadowRoot)&&null!=t.getSelection?t:e.ownerDocument},isFocused(e){return!!IS_FOCUSED.get(e)},isReadOnly(e){return!!IS_READ_ONLY.get(e)},blur(e){var t=ReactEditor.toDOMNode(e,e),n=ReactEditor.findDocumentOrShadowRoot(e);IS_FOCUSED.set(e,!1),n.activeElement===t&&t.blur()},focus(e){var t=ReactEditor.toDOMNode(e,e),n=ReactEditor.findDocumentOrShadowRoot(e);IS_FOCUSED.set(e,!0),n.activeElement!==t&&t.focus({preventScroll:!0})},deselect(e){ReactEditor.toDOMNode(e,e);var t=e["selection"],n=ReactEditor.findDocumentOrShadowRoot(e).getSelection();n&&0<n.rangeCount&&n.removeAllRanges(),t&&Transforms.deselect(e)},hasDOMNode(e,t){var n,{editable:r=!1}=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},a=ReactEditor.toDOMNode(e,e);try{n=isDOMElement(t)?t:t.parentElement}catch(e){if(!e.message.includes('Permission denied to access property "nodeType"'))throw e}return!!n&&n.closest("[data-slate-editor]")===a&&(!r||n.isContentEditable||!!n.getAttribute("data-slate-zero-width"))},insertData(e,t){e.insertData(t)},setFragmentData(e,t){e.setFragmentData(t)},toDOMNode(e,t){var n=EDITOR_TO_KEY_TO_ELEMENT.get(e),n=Editor.isEditor(t)?EDITOR_TO_ELEMENT.get(e):null==n?void 0:n.get(ReactEditor.findKey(e,t));if(n)return n;throw new Error("Cannot resolve a DOM node from Slate node: ".concat(JSON.stringify(t)))},toDOMPoint(e,t){var n,[r]=Editor.node(e,t.path),r=ReactEditor.toDOMNode(e,r),a=(Editor.void(e,{at:t})&&(t={path:t.path,offset:0}),0);for(n of Array.from(r.querySelectorAll("[data-slate-string], [data-slate-zero-width]"))){var o=n.childNodes[0];if(null!=o&&null!=o.textContent){var i=o.textContent["length"],u=n.getAttribute("data-slate-length"),u=a+(null==u?i:parseInt(u,10));if(t.offset<=u){var s=[o,Math.min(i,Math.max(0,t.offset-a))];break}a=u}}if(s)return s;throw new Error("Cannot resolve a DOM point from Slate point: ".concat(JSON.stringify(t)))},toDOMRange(e,t){var{anchor:n,focus:r}=t,a=Range.isBackward(t),n=ReactEditor.toDOMPoint(e,n),t=Range.isCollapsed(t)?n:ReactEditor.toDOMPoint(e,r),r=ReactEditor.getWindow(e).document.createRange(),[e,o]=a?t:n,[a,n]=a?n:t,t=!!(isDOMElement(e)?e:e.parentElement).getAttribute("data-slate-zero-width"),i=!!(isDOMElement(a)?a:a.parentElement).getAttribute("data-slate-zero-width");return r.setStart(e,t?1:o),r.setEnd(a,i?1:n),r},toSlateNode(e,t){var t=isDOMElement(t)?t:t.parentElement,n=(t=t&&!t.hasAttribute("data-slate-node")?t.closest("[data-slate-node]"):t)?ELEMENT_TO_NODE.get(t):null;if(n)return n;throw new Error("Cannot resolve a Slate node from DOM node: ".concat(t))},findEventRange(e,t){var{clientX:n,clientY:r,target:a}=t="nativeEvent"in t?t.nativeEvent:t;if(null!=n&&null!=r){var o,i=ReactEditor.toSlateNode(e,t.target),u=ReactEditor.findPath(e,i);if(Editor.isVoid(e,i)){a=a.getBoundingClientRect(),i=e.isInline(i)?n-a.left<a.left+a.width-n:r-a.top<a.top+a.height-r,a=Editor.point(e,u,{edge:i?"start":"end"}),u=i?Editor.before(e,a):Editor.after(e,a);if(u)return Editor.range(e,u)}i=window["document"];if(i.caretRangeFromPoint?o=i.caretRangeFromPoint(n,r):(a=i.caretPositionFromPoint(n,r))&&((o=i.createRange()).setStart(a.offsetNode,a.offset),o.setEnd(a.offsetNode,a.offset)),o)return ReactEditor.toSlateRange(e,o,{exactMatch:!1})}throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(t))},toSlatePoint(e,t,n){var r,a,o,i,[u,s]=n?t:normalizeDOMPoint(t),l=u.parentNode,c=null,d=0;if(l&&(r=l.closest('[data-slate-void="true"]'),o=null,(a=l.closest("[data-slate-leaf]"))?(c=a.closest('[data-slate-node="text"]'),(i=ReactEditor.getWindow(e).document.createRange()).setStart(c,0),i.setEnd(u,s),u=i.cloneContents(),[...Array.prototype.slice.call(u.querySelectorAll("[data-slate-zero-width]")),...Array.prototype.slice.call(u.querySelectorAll("[contenteditable=false]"))].forEach(e=>{e.parentNode.removeChild(e)}),d=u.textContent.length,o=c):r&&((a=r.querySelector("[data-slate-leaf]"))?(c=a.closest('[data-slate-node="text"]'),d=(o=a).textContent.length,o.querySelectorAll("[data-slate-zero-width]").forEach(e=>{d-=e.textContent.length})):d=1),o)&&d===o.textContent.length&&(l.hasAttribute("data-slate-zero-width")||IS_FIREFOX&&null!=(s=o.textContent)&&s.endsWith("\n\n"))&&d--,c)return i=ReactEditor.toSlateNode(e,c),{path:ReactEditor.findPath(e,i),offset:d};if(n)return null;throw new Error("Cannot resolve a Slate point from DOM point: ".concat(t))},toSlateRange(e,t,n){var r,a,o,n=n["exactMatch"];if((isDOMSelection(t)?t.anchorNode:t.startContainer)&&(o=isDOMSelection(t)?(i=t.anchorNode,u=t.anchorOffset,r=t.focusNode,a=t.focusOffset,IS_CHROME&&hasShadowRoot()?t.anchorNode===t.focusNode&&t.anchorOffset===t.focusOffset:t.isCollapsed):(i=t.startContainer,u=t.startOffset,r=t.endContainer,a=t.endOffset,t.collapsed)),null==i||null==r||null==u||null==a)throw new Error("Cannot resolve a Slate range from DOM range: ".concat(t));var i,u,t=ReactEditor.toSlatePoint(e,[i,u],n);return t&&(i=o?t:ReactEditor.toSlatePoint(e,[r,a],n))?Range.isExpanded(u={anchor:t,focus:i})&&Range.isForward(u)&&isDOMElement(r)&&Editor.void(e,{at:u.focus,mode:"highest"})?Editor.unhangRange(e,u,{voids:!0}):u:null},hasRange(e,t){var{anchor:t,focus:n}=t;return Editor.hasPath(e,t.path)&&Editor.hasPath(e,n.path)}};function getDiffStart(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++)if(e.charAt(r)!==t.charAt(r))return r;return e.length!==t.length?n:null}function getDiffEnd(e,t,n){for(var r=e.length,a=t.length,o=Math.min(r,a,n),i=0;i<o;i++)if(e.charAt(r-i-1)!==t.charAt(a-i-1))return i;return e.length!==t.length?o:null}function getDiffOffsets(e,t){var n;return e===t||null===(n=getDiffStart(e,t))||null===(e=getDiffEnd(e,t,Math.min(e.length-n,t.length-n)))?null:{start:n,end:e}}function sliceText(e,t){return e.slice(t.start,e.length-t.end)}function diffText(e,t){var n,r;return void 0===e||void 0===t||null==(n=getDiffOffsets(e,t))?null:(t=sliceText(t,n),r=sliceText(e,n),{start:n.start,end:e.length-n.end,insertText:t,removeText:r})}function combineInsertedText(e){return e.reduce((e,t)=>{t=t.text;return"".concat(e).concat(t.insertText)},"")}function getTextInsertion(e,t){var n=ReactEditor.toSlateNode(e,t);if(Text$1.isText(n)){var r=n.text,t=t.textContent;if((t=t.endsWith("\n")?t.slice(0,t.length-1):t)!==r){r=diffText(r,t);if(null!==r)return{text:r,path:ReactEditor.findPath(e,n)}}}}function normalizeTextInsertionRange(e,t,n){var{path:n,text:r}=n,a={anchor:{path:n,offset:r.start},focus:{path:n,offset:r.end}};if(t&&Range.isCollapsed(t)){var{insertText:r,removeText:o}=r;if((1===r.length||1===o.length)&&Path.equals(t.anchor.path,n)){var[e]=Array.from(Editor.nodes(e,{at:t,match:Text$1.isText}));if(e){var[e]=e,i=t["anchor"],u=e.text[i.offset-1],e=e.text[i.offset];if(1===r.length&&r===e)return t;if(1===o.length&&o===u)return{anchor:{path:n,offset:i.offset-1},focus:{path:n,offset:i.offset}}}}}return a}function gatherMutationData(r,e){var a=[],o=[],i=[],u=[];return e.forEach(e=>{switch(e.type){case"childList":e.addedNodes.length&&e.addedNodes.forEach(e=>{a.push(e)}),e.removedNodes.forEach(e=>{o.push(e)});break;case"characterData":u.push(e);var t,n=e.target["parentNode"];n&&((t=getTextInsertion(r,n))&&!i.some(e=>{e=e.path;return Path.equals(e,t.path)})&&i.push(t))}}),{addedNodes:a,removedNodes:o,insertedText:i,characterDataMutations:u}}var isLineBreak=(e,t)=>{var t=t["addedNodes"],n=e["selection"],n=n?Node.parent(e,n.anchor.path):null,r=n?ReactEditor.toDOMNode(e,n):null;return!!r&&t.some(e=>e instanceof HTMLElement&&e.tagName===(null==r?void 0:r.tagName))},isDeletion=(e,t)=>{t=t.removedNodes;return 0<t.length},isReplaceExpandedSelection=(e,t)=>{e=e.selection,t=t.removedNodes;return!!e&&Range.isExpanded(e)&&0<t.length},isTextInsertion=(e,t)=>{t=t.insertedText;return 0<t.length},isRemoveLeafNodes=(e,t)=>{var{addedNodes:t,characterDataMutations:n,removedNodes:r}=t;return 0<r.length&&0===t.length&&0<n.length};function restoreDOM(e){try{var t=EDITOR_TO_RESTORE_DOM.get(e);t&&t()}catch(e){console.error(e)}}function ownKeys$1(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function _objectSpread$1(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ownKeys$1(Object(n),!0).forEach(function(e){_defineProperty(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys$1(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}class AndroidInputManager{constructor(e){this.editor=e,this.flush=e=>{try{this.reconcileMutations(e)}catch(e){console.error(e),restoreDOM(this.editor)}},this.reconcileMutations=e=>{var t,e=gatherMutationData(this.editor,e),{insertedText:n,removedNodes:r}=e;isReplaceExpandedSelection(this.editor,e)?(t=combineInsertedText(n),this.replaceExpandedSelection(t)):isLineBreak(this.editor,e)?this.insertBreak():isRemoveLeafNodes(this.editor,e)?this.removeLeafNodes(r):isDeletion(this.editor,e)?this.deleteBackward():isTextInsertion(this.editor,e)&&this.insertText(n)},this.insertText=e=>{var{selection:r,marks:a}=this.editor;e.forEach(e=>{var t,n=e.text.insertText,e=normalizeTextInsertionRange(this.editor,r,e);a?(t=_objectSpread$1({text:n},a),Transforms.insertNodes(this.editor,t,{match:Text$1.isText,at:e,select:!0}),this.editor.marks=null):Transforms.insertText(this.editor,n,{at:e})})},this.insertBreak=()=>{var e=this.editor["selection"];Editor.insertBreak(this.editor),restoreDOM(this.editor),e&&setTimeout(()=>{this.editor.selection&&Range.equals(e,this.editor.selection)&&Transforms.move(this.editor)},100)},this.replaceExpandedSelection=e=>{Editor.deleteFragment(this.editor),e.length&&Editor.insertText(this.editor,e),restoreDOM(this.editor)},this.deleteBackward=()=>{Editor.deleteBackward(this.editor),ReactEditor.focus(this.editor),restoreDOM(this.editor)},this.removeLeafNodes=e=>{for(var t of e){var t=ReactEditor.toSlateNode(this.editor,t);t&&(t=ReactEditor.findPath(this.editor,t),Transforms.delete(this.editor,{at:t}),restoreDOM(this.editor))}},this.editor=e}}function useMutationObserver(e,t,n){var[r]=useState(()=>new MutationObserver(t));useIsomorphicLayoutEffect(()=>{r.disconnect()}),useEffect(()=>{if(e.current)return r.observe(e.current,n),r.disconnect.bind(r);throw new Error("Failed to attach MutationObserver, `node` is undefined")})}function useTrackUserInput(){var t=useSlateStatic(),n=useRef(!1),r=useRef(null),e=useCallback(()=>{var e;!1===n.current&&(e=ReactEditor.getWindow(t),n.current=!0,r.current&&e.cancelAnimationFrame(r.current),r.current=e.requestAnimationFrame(()=>{n.current=!1,r.current=null}))},[]);return useEffect(()=>{n.current&&(n.current=!1)}),{receivedUserInput:n,onUserInput:e}}var MUTATION_OBSERVER_CONFIG={childList:!0,characterData:!0,characterDataOldValue:!0,subtree:!0};function useAndroidInputManager(e){var t=useSlateStatic(),[n]=useState(()=>new AndroidInputManager(t)),{receivedUserInput:r,onUserInput:a}=useTrackUserInput(),o=useRef(null),i=useRef(!1);return useMutationObserver(e,useCallback(e=>{r.current&&(i.current=!0,n.flush(e),o.current&&clearTimeout(o.current),o.current=setTimeout(()=>{i.current=!1,o.current=null},250))},[]),MUTATION_OBSERVER_CONFIG),{isReconciling:i,onUserInput:a}}var _excluded$1=["autoFocus","decorate","onDOMBeforeInput","placeholder","readOnly","renderElement","renderLeaf","renderPlaceholder","style","as"];function ownKeys(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(n),!0).forEach(function(e){_defineProperty(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var AndroidEditable=e=>{var t,{autoFocus:n,decorate:r=defaultDecorate,onDOMBeforeInput:a,placeholder:o,readOnly:l=!1,renderElement:i,renderLeaf:u,renderPlaceholder:s=e=>React.createElement(DefaultPlaceholder,Object.assign({},e)),style:c={},as:d="div"}=e,f=_objectWithoutProperties(e,_excluded$1),p=useSlate(),h=useRef(null),E=useAndroidInputManager(h),g=(IS_READ_ONLY.set(p,l),useMemo(()=>({isUpdatingSelection:!1,latestElement:null}),[])),[e,m]=useState(0),D=useCallback(()=>{m(e=>e+1)},[e]),C=(useIsomorphicLayoutEffect(()=>{var e;h.current&&(e=getDefaultView(h.current))?(EDITOR_TO_WINDOW.set(p,e),EDITOR_TO_ELEMENT.set(p,h.current),NODE_TO_ELEMENT.set(p,h.current),ELEMENT_TO_NODE.set(h.current,p),EDITOR_TO_RESTORE_DOM.set(p,D)):(NODE_TO_ELEMENT.delete(p),EDITOR_TO_RESTORE_DOM.delete(p));try{var t=p["selection"],n=ReactEditor.findDocumentOrShadowRoot(p).getSelection();if(n&&ReactEditor.isFocused(p)){var r="None"!==n.type;if(t||r){var a,o,i,u=EDITOR_TO_ELEMENT.get(p),s=!1;if(u.contains(n.anchorNode)&&u.contains(n.focusNode)&&(s=!0),r&&s&&t){var l=ReactEditor.toSlateRange(p,n,{exactMatch:!0});if(l&&Range.equals(l,t))return}t&&!ReactEditor.hasRange(p,t)?p.selection=ReactEditor.toSlateRange(p,n,{exactMatch:!1}):(a=ReactEditor.toDOMNode(p,p),g.isUpdatingSelection=!0,(o=t&&ReactEditor.toDOMRange(p,t))?(Range.isBackward(t)?n.setBaseAndExtent(o.endContainer,o.endOffset,o.startContainer,o.startOffset):n.setBaseAndExtent(o.startContainer,o.startOffset,o.endContainer,o.endOffset),(i=o.startContainer.parentElement).getBoundingClientRect=o.getBoundingClientRect.bind(o),scrollIntoView(i,{scrollMode:"if-needed",boundary:a}),delete i.getBoundingClientRect):n.removeAllRanges(),setTimeout(()=>{g.isUpdatingSelection=!1}))}}}catch(e){g.isUpdatingSelection=!1}}),useEffect(()=>{h.current&&n&&h.current.focus()},[n]),useCallback(e=>{l||!hasEditableTarget(p,e.target)||isDOMEventHandled(e,a)||E.onUserInput()},[l,a])),y=(useIsomorphicLayoutEffect(()=>{var e=h.current;return null!=e&&e.addEventListener("beforeinput",C),()=>null==e?void 0:e.removeEventListener("beforeinput",C)},[e,a]),useCallback(throttle(()=>{try{if(!l&&!g.isUpdatingSelection&&!E.isReconciling.current){var e=ReactEditor.findDocumentOrShadowRoot(p),t=e["activeElement"],n=ReactEditor.toDOMNode(p,p),r=e.getSelection();if(t===n?(g.latestElement=t,IS_FOCUSED.set(p,!0)):IS_FOCUSED.delete(p),!r)return Transforms.deselect(p);var a,{anchorNode:o,focusNode:i}=r,u=hasEditableTarget(p,o)||isTargetInsideVoid(p,o),s=hasEditableTarget(p,i)||isTargetInsideVoid(p,i);u&&s?(a=ReactEditor.toSlateRange(p,r,{exactMatch:!1}),Transforms.select(p,a)):Transforms.deselect(p)}}catch(e){}},100),[l])),v=(useIsomorphicLayoutEffect(()=>{var e=ReactEditor.getWindow(p);return e.document.addEventListener("selectionchange",y),()=>{e.document.removeEventListener("selectionchange",y)}}),r([p,[]]));return o&&1===p.children.length&&1===Array.from(Node.texts(p)).length&&""===Node.string(p)&&(t=Editor.start(p,[]),v.push({[PLACEHOLDER_SYMBOL]:!0,placeholder:o,anchor:t,focus:t})),React.createElement(ReadOnlyContext.Provider,{value:l},React.createElement(DecorateContext.Provider,{value:r},React.createElement(d,Object.assign({key:e,role:l?void 0:"textbox"},f,{spellCheck:f.spellCheck,autoCorrect:f.autoCorrect,autoCapitalize:f.autoCapitalize,"data-slate-editor":!0,"data-slate-node":"value",contentEditable:!l||void 0,suppressContentEditableWarning:!0,ref:h,style:_objectSpread({position:"relative",outline:"none",whiteSpace:"pre-wrap",wordWrap:"break-word"},c),onCopy:useCallback(e=>{hasEditableTarget(p,e.target)&&!isEventHandled(e,f.onCopy)&&(e.preventDefault(),ReactEditor.setFragmentData(p,e.clipboardData))},[f.onCopy]),onCut:useCallback(e=>{l||!hasEditableTarget(p,e.target)||isEventHandled(e,f.onCut)||(e.preventDefault(),ReactEditor.setFragmentData(p,e.clipboardData),e=p["selection"],e&&(Range.isExpanded(e)?Editor.deleteFragment(p):(e=Node.parent(p,e.anchor.path),Editor.isVoid(p,e)&&Transforms.delete(p))))},[l,f.onCut]),onFocus:useCallback(e=>{l||g.isUpdatingSelection||!hasEditableTarget(p,e.target)||isEventHandled(e,f.onFocus)||(e=ReactEditor.findDocumentOrShadowRoot(p),g.latestElement=e.activeElement,IS_FOCUSED.set(p,!0))},[l,f.onFocus]),onBlur:useCallback(e=>{if(!l&&!g.isUpdatingSelection&&hasEditableTarget(p,e.target)&&!isEventHandled(e,f.onBlur)){var t=ReactEditor.findDocumentOrShadowRoot(p);if(g.latestElement!==t.activeElement){t=e["relatedTarget"],e=ReactEditor.toDOMNode(p,p);if(!(t===e||isDOMElement(t)&&t.hasAttribute("data-slate-spacer"))){if(null!=t&&isDOMNode(t)&&ReactEditor.hasDOMNode(p,t)){e=ReactEditor.toSlateNode(p,t);if(Element$a.isElement(e)&&!p.isVoid(e))return}IS_FOCUSED.delete(p)}}}},[l,f.onBlur]),onPaste:useCallback(e=>{e.clipboardData=getClipboardData(e.clipboardData),!hasEditableTarget(p,e.target)||isEventHandled(e,f.onPaste)||l||(e.preventDefault(),ReactEditor.insertData(p,e.clipboardData))},[l,f.onPaste])}),useChildren({decorations:v,node:p,renderElement:i,renderPlaceholder:s,renderLeaf:u,selection:p.selection}))))},FocusedContext=createContext(!1),useFocused=()=>useContext(FocusedContext),_excluded=["editor","children","onChange","value"],Slate=e=>{var{editor:t,children:n,onChange:r,value:a}=e,o=_objectWithoutProperties(e,_excluded),[i,u]=useState(0),e=useMemo(()=>{if(!Node.isNodeList(a))throw new Error("[Slate] value is invalid! Expected a list of elements"+"but got: ".concat(JSON.stringify(a)));if(Editor.isEditor(t))return t.children=a,Object.assign(t,o),[t];throw new Error("[Slate] editor is invalid! you passed:"+"".concat(JSON.stringify(t)))},[i,a,...Object.values(o)]),s=useCallback(()=>{r(t.children),u(i+1)},[i,r]),[s,l]=(EDITOR_TO_ON_CHANGE.set(t,s),useEffect(()=>()=>{EDITOR_TO_ON_CHANGE.set(t,()=>{})},[]),useState(ReactEditor.isFocused(t)));return useEffect(()=>{l(ReactEditor.isFocused(t))}),useIsomorphicLayoutEffect(()=>{var e=()=>l(ReactEditor.isFocused(t));return document.addEventListener("focus",e,!0),()=>document.removeEventListener("focus",e,!0)},[]),useIsomorphicLayoutEffect(()=>{var e=()=>l(ReactEditor.isFocused(t));return document.addEventListener("blur",e,!0),()=>document.removeEventListener("blur",e,!0)},[]),React.createElement(SlateContext.Provider,{value:e},React.createElement(EditorContext.Provider,{value:t},React.createElement(FocusedContext.Provider,{value:s},n)))},doRectsIntersect=(e,t)=>{t=(t.top+t.bottom)/2;return e.top<=t&&e.bottom>=t},areRangesSameLine=(e,t,n)=>{t=ReactEditor.toDOMRange(e,t).getBoundingClientRect(),e=ReactEditor.toDOMRange(e,n).getBoundingClientRect();return doRectsIntersect(t,e)&&doRectsIntersect(e,t)},findCurrentLineRange=(e,t)=>{var n=Editor.range(e,Range.end(t)),r=Array.from(Editor.positions(e,{at:t})),a=0,o=r.length,i=Math.floor(o/2);if(areRangesSameLine(e,Editor.range(e,r[a]),n))return Editor.range(e,r[a],n);if(r.length<2)return Editor.range(e,r[r.length-1],n);for(;i!==r.length&&i!==a;)areRangesSameLine(e,Editor.range(e,r[i]),n)?o=i:a=i,i=Math.floor((a+o)/2);return Editor.range(e,r[o],n)},withReact=f=>{var p=f,{apply:h,onChange:t,deleteBackward:n}=p;return EDITOR_TO_KEY_TO_ELEMENT.set(p,new WeakMap),p.deleteBackward=e=>{if("line"!==e)return n(e);f.selection&&Range.isCollapsed(f.selection)&&(e=Editor.above(f,{match:e=>Editor.isBlock(f,e),at:f.selection}))&&([,e]=e,e=Editor.range(f,e,f.selection.anchor),e=findCurrentLineRange(p,e),Range.isCollapsed(e)||Transforms.delete(f,{at:e}))},p.apply=e=>{var t;if("insert_text"!==e.type&&(AS_NATIVE.set(f,!1),flushNativeEvents(f)),AS_NATIVE.get(f))(t=NATIVE_OPERATIONS.get(f))?t.push(e):NATIVE_OPERATIONS.set(f,[e]);else{var n,r,a=[];switch(e.type){case"insert_text":case"remove_text":case"set_node":for(var[o,i]of Editor.levels(p,{at:e.path})){o=ReactEditor.findKey(p,o);a.push([i,o])}break;case"insert_node":case"remove_node":case"merge_node":case"split_node":for(var[u,s]of Editor.levels(p,{at:Path.parent(e.path)})){u=ReactEditor.findKey(p,u);a.push([s,u])}break;case"move_node":for(var[l,c]of Editor.levels(p,{at:Path.common(Path.parent(e.path),Path.parent(e.newPath))})){l=ReactEditor.findKey(p,l);a.push([c,l])}}h(e);for([n,r]of a){var[d]=Editor.node(p,n);NODE_TO_KEY.set(d,r)}}},p.setFragmentData=e=>{var t=p["selection"];if(t){var n,r,[a,o]=Range.edges(t),a=Editor.void(p,{at:a.path}),o=Editor.void(p,{at:o.path});if(!Range.isCollapsed(t)||a)return n=(t=ReactEditor.toDOMRange(p,t)).cloneContents(),r=n.childNodes[0],n.childNodes.forEach(e=>{e.textContent&&""!==e.textContent.trim()&&(r=e)}),o&&([o]=o,t=t.cloneRange(),o=ReactEditor.toDOMNode(p,o),t.setEndAfter(o),n=t.cloneContents()),a&&(r=n.querySelector("[data-slate-spacer]")),Array.from(n.querySelectorAll("[data-slate-zero-width]")).forEach(e=>{var t="n"===e.getAttribute("data-slate-zero-width");e.textContent=t?"\n":""}),isDOMText(r)&&((o=document.createElement("span")).style.whiteSpace="pre",o.appendChild(r),n.appendChild(o),r=o),t=p.getFragment(),a=JSON.stringify(t),o=window.btoa(encodeURIComponent(a)),r.setAttribute("data-slate-fragment",o),e.setData("application/x-slate-fragment",o),(t=document.createElement("div")).appendChild(n),t.setAttribute("hidden","true"),document.body.appendChild(t),e.setData("text/html",t.innerHTML),e.setData("text/plain",getPlainText(t)),document.body.removeChild(t),e}},p.insertData=e=>{var t=e.getData("application/x-slate-fragment")||getSlateFragmentAttribute(e);if(t)t=decodeURIComponent(window.atob(t)),t=JSON.parse(t),p.insertFragment(t);else{t=e.getData("text/plain");if(t){var n,r=!1;for(n of t.split(/\r\n|\r|\n/))r&&Transforms.splitNodes(p,{always:!0}),p.insertText(n),r=!0}}},p.onChange=()=>{ReactDOM.unstable_batchedUpdates(()=>{var e=EDITOR_TO_ON_CHANGE.get(p);e&&e(),t()})},p},Editable=IS_ANDROID?AndroidEditable:Editable$1,History={isHistory(e){return isPlainObject(e)&&Array.isArray(e.redos)&&Array.isArray(e.undos)&&(0===e.redos.length||Operation.isOperationList(e.redos[0]))&&(0===e.undos.length||Operation.isOperationList(e.undos[0]))}},SAVING=new WeakMap,MERGING=new WeakMap,HistoryEditor={isHistoryEditor(e){return History.isHistory(e.history)&&Editor.isEditor(e)},isMerging(e){return MERGING.get(e)},isSaving(e){return SAVING.get(e)},redo(e){e.redo()},undo(e){e.undo()},withoutMerging(e,t){var n=HistoryEditor.isMerging(e);MERGING.set(e,!1),t(),MERGING.set(e,n)},withoutSaving(e,t){var n=HistoryEditor.isSaving(e);SAVING.set(e,!1),t(),SAVING.set(e,n)}},withHistory=e=>{var l=e,c=l["apply"];return l.history={undos:[],redos:[]},l.redo=()=>{var t,e=l["history"],n=e["redos"];0<n.length&&(t=n[n.length-1],HistoryEditor.withoutSaving(l,()=>{Editor.withoutNormalizing(l,()=>{for(var e of t)l.apply(e)})}),e.redos.pop(),e.undos.push(t))},l.undo=()=>{var t,e=l["history"],n=e["undos"];0<n.length&&(t=n[n.length-1],HistoryEditor.withoutSaving(l,()=>{Editor.withoutNormalizing(l,()=>{var e;for(e of t.map(Operation.inverse).reverse())l.apply(e)})}),e.redos.push(t),e.undos.pop())},l.apply=e=>{var{operations:t,history:n}=l,r=n["undos"],a=r[r.length-1],o=a&&a[a.length-1],i=shouldOverwrite(e,o),u=HistoryEditor.isSaving(l),s=HistoryEditor.isMerging(l);if(u=null==u?shouldSave(e):u){for(null==s&&(s=null!=a&&(0!==t.length||shouldMerge(e,o)||i)),a&&s?(i&&a.pop(),a.push(e)):r.push([e]);100<r.length;)r.shift();shouldClear(e)&&(n.redos=[])}c(e)},l},shouldMerge=(e,t)=>"set_selection"===e.type||!(!t||"insert_text"!==e.type||"insert_text"!==t.type||e.offset!==t.offset+t.text.length||!Path.equals(e.path,t.path))||!(!t||"remove_text"!==e.type||"remove_text"!==t.type||e.offset+e.text.length!==t.offset||!Path.equals(e.path,t.path)),shouldSave=(e,t)=>"set_selection"!==e.type||null!=e.properties&&null!=e.newProperties,shouldOverwrite=(e,t)=>!(!t||"set_selection"!==e.type||"set_selection"!==t.type),shouldClear=e=>"set_selection"!==e.type,getLetterByOrder=function(e){for(var t=[];e;){var n=e%26;n||(n=26,--e),t.push(String.fromCodePoint(n+64)),e=~~(e/26)}return t.reverse().join("")},orderUse=function(e,t){e%=3;return 0==e?t:1==e?getLetterByOrder(t):getLetterByOrder(t).toLowerCase()},uListUse=function(e){e%=4;return 0==e?"•":1==e?"◦":2==e?"▪":"▫"},setNodeTag$6=function(e,t,n,r){var a=4<arguments.length&&void 0!==arguments[4]?arguments[4]:null;a?Transforms.setNodes(e,_defineProperty$2({},n,r),{at:a}):t?(a=ReactEditor.findPath(e,t),Transforms.setNodes(e,_defineProperty$2({},n,r),{at:a})):Transforms.setNodes(e,_defineProperty$2({},n,r))},setChecked=function(e,t,n){setNodeTag$6(e,t,"checked",n)},setTitle=function(e,t,n){setNodeTag$6(e,t,"title",n)},setTextAlign$3=function(e,t,n){setNodeTag$6(e,t,"textAlign",n)},setQuote=function(e,t,n){setNodeTag$6(e,t,"quote",n)},setListOrder=function(t,e,n){var r,a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;setNodeTag$6(t,e,"listOrder",n,a),a?setNextListOrder(t,e,a,n+1):e?(a=ReactEditor.findPath(t,e),setNextListOrder(t,e,a,n+1)):(a=t.selection)&&Range.isCollapsed(a)&&(a=Editor.above(t,{match:function(e){return Editor.isBlock(t,e)}}))&&(r=(a=_slicedToArray(a,2))[0],a=a[1],setNextListOrder(t,r,a,n+1))},setNextListOrder=function(e,t,n,r){var a,n=Editor.next(e,{at:n});n&&(a=(n=_slicedToArray(n,2))[0],n=n[1],a.type&&"paragraph"!=a.type||a.list&&"ol"==a.list&&(t.indentation||0)==(a.indentation||0)&&setListOrder(e,a,r,n))},setList=function(e,t,n){n?(setNodeTag$6(e,t,"list",n),"checkbox"!=n&&setNodeTag$6(e,t,"checked",null),"ol"!=n&&setNodeTag$6(e,t,"listOrder",null)):(setNodeTag$6(e,t,"list",null),setNodeTag$6(e,t,"checked",null),setNodeTag$6(e,t,"listOrder",null))},setIndentation=function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;setNodeTag$6(e,t,"indentation",!n||n<=0?null:n,r)},wrapLink=function(e){var t=e.selection;t&&!Range.isCollapsed(t)&&Transforms.wrapNodes(e,{type:"link",url:"http://",target:"_self",children:[]},{split:!0})},unWrapLink=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;t?(t=ReactEditor.findPath(e,t),Transforms.unwrapNodes(e,{match:function(e){return!Editor.isEditor(e)&&Element$a.isElement(e)&&"link"===e.type},at:t})):Transforms.unwrapNodes(e,{match:function(e){return!Editor.isEditor(e)&&Element$a.isElement(e)&&"link"===e.type}})},setURL=function(e,t,n){t.type&&"link"===t.type&&setNodeTag$6(e,t,"url",n)},setLinkTarget=function(e,t,n){t.type&&"link"===t.type&&setNodeTag$6(e,t,"target",n)},setStarNum=function(e,t,n){setNodeTag$6(e,t,"number",n)},insertStar=function(e){Transforms.insertNodes(e,{type:"star",number:5,children:[{text:""}]})},isUrl_1=isUrl,protocolAndDomainRE=/^(?:\w+:)?\/\/(\S+)$/,localhostDomainRE=/^localhost[\:?\d]*(?:[^\:?\d]\S*)?$/,nonLocalhostDomainRE=/^[^\s\.]+\.\S{2,}$/;function isUrl(e){return"string"==typeof e&&!!(e=e.match(protocolAndDomainRE))&&!(!(e=e[1])||!localhostDomainRE.test(e)&&!nonLocalhostDomainRE.test(e))}var Single=function(e){var t=e.selected,n=e.description,r=e.content,a=e.onClick;return React.createElement(Tooltip,{title:n},React.createElement(Button,{size:"small",type:t?"primary":"default",onMouseDown:function(e){e.preventDefault(),a()},style:{marginLeft:"2px",marginRight:"2px"}},r))},Select=function(e){function t(n){u.push(React.createElement(Tooltip,{key:o[n].key,title:o[n].description},React.createElement(Button,{size:"small",type:i(o[n].key)?"primary":"default",onMouseDown:function(e){return t=o[n].key,e.preventDefault(),void(r?i(t)||a(t):i(t)?a(null):a(t));var t},style:{marginLeft:"2px",marginRight:"2px"}},o[n].content)))}for(var n=e.selected,r=e.notNull,a=e.onChange,o=e.buttons,i=function(e){return n&&n==e},u=[],s=0;s<o.length;s++)t(s);return React.createElement("span",null,u)},IndentationText=function(e){var t=e.children,n=e.icon,e=e.offset;return n?React.createElement("div",{style:{display:"flex"}},React.createElement("div",{contentEditable:!1,style:{marginLeft:"".concat(20*e,"px"),minWidth:"10px",textAlign:"right",marginRight:"5px",userSelect:"none"}},n),React.createElement("div",{style:{flex:1}},t)):React.createElement("div",{style:{display:"flex"}},React.createElement("div",{style:{flex:1,marginLeft:"".concat(20*e,"px")}},t))},Element$8=React.memo(function(e){var t=e.children,n=e.element,e=e.attributes,r=n.title,a=n.textAlign,o=n.list,i=n.quote,u=n.checked,s=n.indentation,l=n.listOrder,c=s||0,d=useSlate();return o&&("checkbox"===o&&(t=React.createElement(function(e){function t(e){d.readOnly||(e.preventDefault(),setChecked(d,n,!u))}return React.createElement(IndentationText,{offset:c,icon:React.createElement(function(){return React.createElement("span",{style:{cursor:"pointer"},onMouseDown:t},u?React.createElement(CheckSquareOutlined,null):React.createElement(BorderOutlined,null))},null)},u?React.createElement("s",{style:{color:"#B7BAC6"}},e.children):e.children)},null,t)),"ul"===o&&(t=React.createElement(IndentationText,{offset:c,icon:React.createElement("span",{style:{color:"#4E61E8"}},uListUse(c))},t)),"ol"===o)&&l&&(t=React.createElement(IndentationText,{offset:c,icon:React.createElement("span",{style:{color:"#4E61E8"}},orderUse(c,l),".")},t)),r&&("h1"===r&&(t=React.createElement("h1",{style:{fontSize:"28px"}},t)),"h2"===r&&(t=React.createElement("h2",{style:{fontSize:"26px"}},t)),"h3"===r&&(t=React.createElement("h3",{style:{fontSize:"24px"}},t)),"h4"===r&&(t=React.createElement("h4",{style:{fontSize:"22px"}},t)),"h5"===r)&&(t=React.createElement("h5",{style:{fontSize:"20px"}},t)),o||(t=React.createElement(IndentationText,{offset:c},t)),i&&(t=React.createElement("div",{style:{padding:"0px 0 0px 10px",borderLeft:"1px solid #2447F5",color:"#A5A6A6"}},t)),React.createElement("div",_extends({style:{wordBreak:"break-all",textAlign:a||"left"}},e),t)}),LinkElement=function(e){function t(e){var t=_slicedToArray(useState(o),2),n=t[0],r=t[1];return React.createElement(React.Fragment,null,React.createElement("div",{style:{display:"inline-block",width:"280px"}},React.createElement(Input,{value:n,onChange:function(e){r(e.target.value)}}))," ",React.createElement(Single,{selected:!0,description:"修改链接",content:"修改",onClick:function(){setURL(u,a,n),message.info("修改链接成功")}}),React.createElement(Single,{selected:!0,description:"清除链接",content:React.createElement(DeleteOutlined,null),onClick:function(){unWrapLink(u,a)}}),React.createElement("div",{style:{marginTop:"10px"}},React.createElement("font",{style:{color:"black"}},"打开方式:")," ",React.createElement(Select,{selected:i,notNull:!0,onChange:function(e){setLinkTarget(u,a,e)},buttons:[{key:"_self",content:"本页面",description:"会在本页面跳转链接"},{key:"_blank",content:"新页面",description:"会在新页面跳转链接"}]})))}var a=e.element,n=e.attributes,e=e.children,o=a.url,i=a.target,u=useSlate();return u.readOnly?React.createElement("a",_extends({onMouseDown:function(){isUrl_1(o)&&window.open(o,i)}},n),e):React.createElement(Tooltip,{title:React.createElement(t,null),color:"white",overlayStyle:{minWidth:"400px"},destroyTooltipOnHide:!0},React.createElement("a",_extends({onMouseDown:function(){isUrl_1(o)&&window.open(o,i)}},n),e))},StarElement=function(e){var t=e.attributes,n=e.children,r=e.element,a=useSlate(),e=useSelected(),o=useFocused();return React.createElement("span",t,n,React.createElement("span",{contentEditable:!1,style:{display:"inline-block",borderRadius:"2px",boxShadow:e&&o?"0 0 0 2px #B4D5FF":"none"}},React.createElement(Rate,{disabled:a.readOnly,allowClear:!0,value:r.number,onChange:function(e){setStarNum(a,r,e)}})))},Leaf$1=function(e){var t=e.attributes,n=e.children,e=e.leaf,r=(e.bold&&(n=React.createElement("b",null,n)),e.italic&&(n=React.createElement("i",null,n)),e.underline&&(n=React.createElement("u",null,n)),e.strikethrough&&(n=React.createElement("s",null,n)),e.code&&(n=React.createElement("span",{style:{backgroundColor:"#DCDCDC",borderRadius:"5px"}},React.createElement("span",{style:{marginLeft:"5px",marginRight:"5px"}},n))),e.fontColor&&(n=React.createElement("span",{style:{color:e.fontColor}},n)),"");return e.backgroundColor&&(r=e.backgroundColor),React.createElement("span",_extends({style:{backgroundColor:r}},t),n)},isColorActive=function(e,t,n){var r=e.selection;return!(r&&Range.isCollapsed(r)||!_slicedToArray(Editor.nodes(e,{match:function(e){return e[t]===n},mode:"all"}),1)[0])},isFormatActive=function(e,t){var n=e.selection;return!(n&&Range.isCollapsed(n)||!_slicedToArray(Editor.nodes(e,{match:function(e){return!0===e[t]},mode:"all"}),1)[0])},isLinkActive=function(e){var t=e.selection;return!(t&&Range.isCollapsed(t)||!_slicedToArray(Editor.nodes(e,{match:function(e){return!Editor.isEditor(e)&&Element$a.isElement(e)&&"link"===e.type}}),1)[0])},Muti=function(e){function t(n){i.push(React.createElement(Tooltip,{key:o[n].key,title:o[n].description},React.createElement(Button,{size:"small",type:function(e){for(var t=0;t<r.length;t++)if(r[t]==e)return!0;return!1}(o[n].key)?"primary":"default",onMouseDown:function(e){return t=o[n].key,e.preventDefault(),void a(t);var t},style:{marginLeft:"2px",marginRight:"2px"}},o[n].content)))}for(var r=e.selectedKeys,a=e.onChange,o=e.buttons,i=[],n=0;n<o.length;n++)t(n);return React.createElement("span",null,i)},backgroundColorList=["#ffd666","#ffccc7","#95de64","#91d5ff","#d3adf7","#bfbfbf"],fontColorList=["#f5222d","#d4b106","#389e0d","#096dd9","#722ed1","#595959"],normalConfig=[{key:"bold",description:"加粗",content:React.createElement(BoldOutlined,null)},{key:"italic",description:"斜体",content:React.createElement(ItalicOutlined,null)},{key:"underline",description:"下划线",content:React.createElement(UnderlineOutlined,null)},{key:"strikethrough",description:"删除线",content:React.createElement(StrikethroughOutlined,null)},{key:"code",description:"代码",content:React.createElement(CodeOutlined,null)}],execCoy$1=function(e){var t=document.createElement("TEXTAREA");t.style.opacity=0,t.style.position="absolute",t.style.left="-100000px",document.body.appendChild(t),t.value=e,t.select(),t.setSelectionRange(0,e.length),document.execCommand("copy"),document.body.removeChild(t)},LeafBar$1=function(e){function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];if(isColorActive(i,e,r))return r}return""}function t(t,e){for(var n=[],r=0;r<e.length;r++){var a=e[r];n.push({key:a,description:a,content:"backgroundColor"===t?React.createElement(BgColorsOutlined,{style:{color:a,backgroundColor:a}}):React.createElement(FontColorsOutlined,{style:{color:a}})})}return React.createElement(Select,{selected:o(t,e),notNull:!1,onChange:function(e){Editor.addMark(i,t,e)},buttons:n})}function n(){for(var e=[],t=0;t<normalConfig.length;t++){var n=normalConfig[t].key;isFormatActive(i,n)&&e.push(n)}return e}var i=useSlate();return React.createElement(React.Fragment,null,React.createElement("span",null,t("backgroundColor",backgroundColorList)),React.createElement("span",null,t("fontColor",fontColorList)),React.createElement("hr",{style:{border:"1px solid #91d5ff"}}),React.createElement("span",null,React.createElement(Muti,{selectedKeys:n(),onChange:function(e){Editor.addMark(i,e,!isFormatActive(i,e)||null)},buttons:normalConfig})),"  ",React.createElement(Single,{selected:!1,description:"点击复制样式到剪贴板，选中其他文本ctrl+v即可复用样式",content:React.createElement("span",{style:{color:"#003a8c"}},React.createElement(FormatPainterOutlined,{style:{color:"#d4380d"}})," 格式刷"),onClick:function(){var e;(e={}).backgroundColor=o("backgroundColor",backgroundColorList),e.fontColor=o("fontColor",fontColorList),e.normal=n(),execCoy$1("&_FORMAT_CACHE"+JSON.stringify(e)),message.info("样式已经复制到剪贴板")}}),"  ")},LinkBar=function(e){var t=useSlate(),n=isLinkActive(t);return React.createElement(React.Fragment,null,React.createElement(Single,{selected:n,description:"加入超链接，点击后悬停于文字上修改链接内容",content:React.createElement(LinkOutlined,{style:{color:"#0000cc"}}),onClick:function(){(n?unWrapLink:wrapLink)(t)}}),"  ")},StarBar=function(e){var t=useSlate();return React.createElement(React.Fragment,null,React.createElement(Single,{selected:!1,description:"新增评分",content:React.createElement(StarFilled,{style:{color:"#fadb14"}}),onClick:function(){insertStar(t)}}),"  ")},formatPrinter=function(e,t){if(0<t.normal.length)for(var n=t.normal,r=0;r<n.length;r++)Editor.addMark(e,n[r],!0);t.fontColor&&Editor.addMark(e,"fontColor",t.fontColor),t.backgroundColor&&Editor.addMark(e,"backgroundColor",t.backgroundColor)},insertEndBreak=function(e,t,n){var r=_objectSpread2(_objectSpread2({},t),{},{children:[{text:""}]}),n=Path.next(n),r=(Transforms.insertNodes(e,r,{at:n}),t.title&&Transforms.setNodes(e,_defineProperty$2({},"title",null),{at:n}),Editor.start(e,n));Transforms.select(e,{anchor:r,focus:r})},withParagraph=function(o){var i=o.insertText,u=o.insertBreak,a=o.deleteBackward,r=o.insertData,s=o.getFragment,n=o.isEmpty,l=o.onTabDown,c=o.normalizeNode;return o.normalizeNode=function(e){var t,e=_slicedToArray(e,2),n=e[0],e=e[1];return 0!==e.length||"paragraph"===(t=o.children[0]).type&&"h1"===t.title||Transforms.insertNodes(o,{type:"paragraph",title:"h1",children:[{text:""}]},{at:[0]}),c([n,e])},o.getFragment=function(){for(var e=s();;){if(1<e.length){var t,n=!0,r=_createForOfIteratorHelper(e);try{for(r.s();!(t=r.n()).done;)if("paragraph"!==t.value.type){n=!1;break}}catch(e){r.e(e)}finally{r.f()}if(n)return e;break}if(0===e.length)break;var a=e[0];if(!a.type||!a.children)break;if("paragraph"===a.type)return e;e=a.children}return s()},o.insertText=function(e){var t=o.selection,n=Editor.above(o,{match:function(e){return Editor.isBlock(o,e)}}),r=Range.isCollapsed(t);if(n){var n=_slicedToArray(n,2),a=n[0],n=n[1];if(" "===e&&"paragraph"===a.type&&r){a={anchor:t.anchor,focus:Editor.start(o,n)},t=Editor.string(o,a),n=markdownKeys[t];if(n){if(Transforms.select(o,a),Transforms.delete(o),"title"===n.key)return void setTitle(o,null,n.value);if("quote"===n.key)return void setQuote(o,null,n.value);if("list"===n.key)return void setList(o,null,n.value)}n=t.split(".");if(2===n.length&&/^\+?[1-9][0-9]*$/.test(n[0])){t=parseInt(n[0]);if(0<t)return Transforms.select(o,a),Transforms.delete(o),setList(o,null,"ol"),void setListOrder(o,null,t)}}}if(!r&&0===e.indexOf("&_FORMAT_CACHE")){n=JSON.parse(e.split("&_FORMAT_CACHE")[1]);if(n)return void formatPrinter(o,n)}i(e)},o.insertData=function(e){var t=e.getData("text/plain"),n=o.selection;if(!Range.isCollapsed(n)&&0===t.indexOf("&_FORMAT_CACHE")){n=JSON.parse(t.split("&_FORMAT_CACHE")[1]);if(n)return void formatPrinter(o,n)}r(e)},o.insertBreak=function(){var e=Editor.above(o,{match:function(e){return Editor.isBlock(o,e)}});if(e){var e=_slicedToArray(e,2),t=e[0],e=e[1];if("paragraph"===t.type){var n=o.selection;if(t.list&&n&&Range.isCollapsed(n)){var r=n.anchor,a=Editor.start(o,e);if(Range.isCollapsed({anchor:r,focus:a}))return void(!t.indentation||t.indentation<=0?setList(o,null,null):setIndentation(o,null,t.indentation-1,e))}r=Editor.end(o,e);if(t.list&&"ol"===t.list)return Point.equals(n.anchor,r)?insertEndBreak(o,t,e):u(),void setListOrder(o,null,t.listOrder+1);if(Point.equals(n.anchor,r))return void insertEndBreak(o,t,e)}}u()},o.deleteBackward=function(){var e=Editor.above(o,{match:function(e){return Editor.isBlock(o,e)}});if(e){var e=_slicedToArray(e,2),t=e[0],e=e[1];if("paragraph"===t.type){var n=o.selection;if(n&&Range.isCollapsed(n)){var n=n.anchor,r=Editor.start(o,e);if(Range.isCollapsed({anchor:n,focus:r})){if(t.list)return void setList(o,null,null);if(t.indentation&&0<t.indentation)return void setIndentation(o,null,t.indentation-1,e)}}}}a.apply(void 0,arguments)},o.isEmpty=function(e){var t;return"paragraph"===e.type?(t=ReactEditor.findPath(o,e),""===Editor.string(o,t)&&!(e.list||e.quote||e.title||e.textAlign||e.indentation||e.listOrder||e.children&&1<e.children.length)):n(e)},o.onTabDown=function(){var e=Editor.above(o,{match:function(e){return Editor.isBlock(o,e)}});if(e){var e=_slicedToArray(e,2),t=e[0],e=e[1];if(!t.type||"paragraph"===t.type)return t=t.indentation||0,setIndentation(o,null,t+1,e),!0}return!!l&&l()},o},withLink=function(e){var t=e.isInline;return e.isInline=function(e){return"link"===e.type||t(e)},e},withStar=function(e){var t=e.isInline,n=e.isVoid,r=e.isEmpty;return e.isInline=function(e){return"star"===e.type||t(e)},e.isVoid=function(e){return"star"===e.type||n(e)},e.isEmpty=function(e){return"star"!==e.type&&r(e)},e},markdownKeys={"#":{key:"title",value:"h1"},"##":{key:"title",value:"h2"},"###":{key:"title",value:"h3"},"####":{key:"title",value:"h4"},"#####":{key:"title",value:"h5"},">":{key:"quote",value:"quote"},"》":{key:"quote",value:"quote"},"*":{key:"list",value:"ul"},"+":{key:"list",value:"ul"},"-":{key:"list",value:"ul"},"[]":{key:"list",value:"checkbox"},"【】":{key:"list",value:"checkbox"}},Menu$1=function(e){var t=e.element,n=useSlate();return React.createElement(React.Fragment,null,React.createElement(Select,{selected:t.title,buttons:titleButtonList,onChange:function(e){setTitle(n,t,e)}}),React.createElement("hr",{style:{border:"1px solid #f5f5f5"}}),React.createElement(Select,{selected:t.list,buttons:listButtonList,onChange:function(e){setList(n,t,e),"ol"===e&&setListOrder(n,t,1)}}),"    ",React.createElement(Select,{selected:t.quote,buttons:quoteButtonList,onChange:function(e){setQuote(n,t,e)}}),React.createElement("hr",{style:{border:"1px solid #f5f5f5"}}),React.createElement(Select,{selected:t.textAlign,buttons:textAlignButtonList$3,onChange:function(e){setTextAlign$3(n,t,e)}}))},titleButtonList=[{key:"h1",content:"h1",description:"标题1; MarkDown:#"},{key:"h2",content:"h2",description:"标题2; MarkDown:##"},{key:"h3",content:"h3",description:"标题3; MarkDown:###"},{key:"h4",content:"h4",description:"标题4; MarkDown:####"},{key:"h5",content:"h5",description:"标题5; MarkDown:#####"}],listButtonList=[{key:"ul",content:React.createElement(UnorderedListOutlined,null),description:"无序列表; MarkDown:-/+/*"},{key:"ol",content:React.createElement(OrderedListOutlined,null),description:"有序列表; MarkDown:1."},{key:"checkbox",content:React.createElement(CheckSquareOutlined,null),description:"checkbox; MarkDown:[]"}],quoteButtonList=[{key:"quote",content:React.createElement(InfoCircleOutlined,null),description:"引用; MarkDown:>"}],textAlignButtonList$3=[{key:"left",content:React.createElement(AlignLeftOutlined,null),description:"左对齐"},{key:"center",content:React.createElement(AlignCenterOutlined,null),description:"居中"},{key:"right",content:React.createElement(AlignRightOutlined,null),description:"右对齐"}],Paragraph={type:"paragraph",IsBlock:!0,AddMenu:Menu$1,EditMenu:Menu$1,Element:Element$8,Leaf:Leaf$1,LeafBar:LeafBar$1,Plugin:withParagraph},Link={type:"link",IsBlock:!1,Element:LinkElement,Plugin:withLink,LeafBar:LinkBar},Star={type:"star",IsBlock:!1,Element:StarElement,Plugin:withStar,LeafBar:StarBar},setNodeTag$5=function(e,t,n,r){var a=4<arguments.length&&void 0!==arguments[4]?arguments[4]:null;a?Transforms.setNodes(e,_defineProperty$2({},n,r),{at:a}):t?(a=ReactEditor.findPath(e,t),Transforms.setNodes(e,_defineProperty$2({},n,r),{at:a})):Transforms.setNodes(e,_defineProperty$2({},n,r))},setIcon=function(e,t,n){setNodeTag$5(e,t,"icon",n)},setIconColor=function(e,t,n){setNodeTag$5(e,t,"iconColor",n)},setCardType=function(e,t,n){setNodeTag$5(e,t,"cardType",n)},setCard=function(e,t){t&&(t=ReactEditor.findPath(e,t),Transforms.removeNodes(e,{at:t}),Transforms.insertNodes(e,{type:"card",cardType:"success",icon:"tag",children:[{type:"paragraph",children:[{text:""}]}]},{at:t}))},iconMap={tag:function(e){return React.createElement(TagOutlined,{style:{color:e}})},tags:function(e){return React.createElement(TagsOutlined,{style:{color:e}})},sound:function(e){return React.createElement(SoundOutlined,{style:{color:e}})},question:function(e){return React.createElement(QuestionCircleOutlined,{style:{color:e}})},thunderbolt:function(e){return React.createElement(ThunderboltOutlined,{style:{color:e}})},star:function(e){return React.createElement(StarOutlined,{style:{color:e}})},setting:function(e){return React.createElement(SettingOutlined,{style:{color:e}})},schedule:function(e){return React.createElement(ScheduleOutlined,{style:{color:e}})},pushpin:function(e){return React.createElement(PushpinOutlined,{style:{color:e}})},message:function(e){return React.createElement(MessageOutlined,{style:{color:e}})},heart:function(e){return React.createElement(HeartOutlined,{style:{color:e}})},edit:function(e){return React.createElement(EditOutlined,{style:{color:e}})},snipets:function(e){return React.createElement(SnippetsOutlined,{style:{color:e}})},aliwangwang:function(e){return React.createElement(AliwangwangOutlined,{style:{color:e}})},wechat:function(e){return React.createElement(WechatOutlined,{style:{color:e}})},weibo:function(e){return React.createElement(WeiboOutlined,{style:{color:e}})},warning:function(e){return React.createElement(WarningOutlined,{style:{color:e}})},careUP:function(e){return React.createElement(CaretUpOutlined,{style:{color:e}})},careDown:function(e){return React.createElement(CaretDownOutlined,{style:{color:e}})},smile:function(e){return React.createElement(SmileOutlined,{style:{color:e}})}},iconColorList=["#cf1322","#fadb14","#08979c","#096dd9","#000000"],cardTypeList=[{key:"success",content:React.createElement(CheckCircleOutlined,null),description:"success"},{key:"info",content:React.createElement(InfoCircleOutlined,null),description:"info"},{key:"warning",content:React.createElement(ExclamationCircleOutlined,null),description:"warning"},{key:"error",content:React.createElement(CloseCircleOutlined,null),description:"error"}],EditMenu$4=function(e){var n=e.element,r=useSlate();return React.createElement(React.Fragment,null,React.createElement(Select,{selected:n.cardType,notNull:!0,onChange:function(e){setCardType(r,n,e)},buttons:cardTypeList}),React.createElement("hr",{style:{border:"1px solid #f5f5f5"}}),function(){var e,t=[];for(e in iconMap)t.push({key:e,content:iconMap[e](n.iconColor),description:e});return React.createElement(Select,{selected:n.icon,notNull:!1,onChange:function(e){setIcon(r,n,e)},buttons:t})}(),React.createElement("hr",{style:{border:"1px solid #f5f5f5"}}),function(){for(var e=[],t=0;t<iconColorList.length;t++)e.push({key:iconColorList[t],content:React.createElement(FontSizeOutlined,{style:{color:iconColorList[t]}}),description:iconColorList[t]});return React.createElement(Select,{selected:n.iconColor,notNull:!1,onChange:function(e){setIconColor(r,n,e)},buttons:e})}())},AddMenu$6=function(e){var t=useSlate(),n=e.element;return React.createElement(Button,{type:"text",icon:React.createElement(CreditCardOutlined,{style:{color:"#ad4e00"}}),style:{width:"100%",textAlign:"left"},onMouseDown:function(){setCard(t,n)}},"卡片")},Element$7=memo(function(e){var t=e.attributes,n=e.children,e=e.element,r=null;return e.icon&&iconMap[e.icon]&&(r=iconMap[e.icon](e.iconColor)),React.createElement("div",_extends({},t,{style:{paddingTop:"5px",paddingBottom:"5px"}}),React.createElement(Alert,{type:e.cardType,message:n,icon:r,showIcon:!!r}))}),withCard=function(e){var t=e.isEmpty;return e.isEmpty=function(e){return"card"!==e.type&&t(e)},e},Card={type:"card",IsBlock:!0,AddMenu:AddMenu$6,EditMenu:EditMenu$4,Element:Element$7,Plugin:withCard},setNodeTag$4=function(e,t,n,r){var a=4<arguments.length&&void 0!==arguments[4]?arguments[4]:null;a?Transforms.setNodes(e,_defineProperty$2({},n,r),{at:a}):t?(a=ReactEditor.findPath(e,t),Transforms.setNodes(e,_defineProperty$2({},n,r),{at:a})):Transforms.setNodes(e,_defineProperty$2({},n,r))},setImage=function(e,t,n){t&&(t=ReactEditor.findPath(e,t),Transforms.setNodes(e,{type:"image",src:n,width:300,children:[{text:""}]},{at:t}))},insertImage=function(t,e){var n=Editor.above(t,{match:function(e){return Editor.isBlock(t,e)}});n&&(n=_slicedToArray(n,1)[0],e={type:"image",width:300,src:e,children:[{text:""}]},t.isEmpty(n)?Transforms.setNodes(t,e):Transforms.insertNodes(t,e))},getInsertImageCallBack=function(t,e){return function(e){insertImage(t,e)}},setTextAlign$2=function(e,t,n){setNodeTag$4(e,t,"textAlign",n)},setWidth$1=function(e,t,n){n<40||2e3<n||setNodeTag$4(e,t,"width",n)},imageExtensions=["ase","art","bmp","blp","cd5","cit","cpt","cr2","cut","dds","dib","djvu","egt","exif","gif","gpl","grf","icns","ico","iff","jng","jpeg","jpg","jfif","jp2","jps","lbm","max","miff","mng","msp","nitf","ota","pbm","pc1","pc2","pc3","pcf","pcx","pdn","pgm","PI1","PI2","PI3","pict","pct","pnm","pns","ppm","psb","psd","pdd","psp","px","pxm","pxr","qfx","raw","rle","sct","sgi","rgb","int","bw","tga","tiff","tif","vtf","xbm","xcf","xpm","3dv","amf","ai","awg","cgm","cdr","cmx","dxf","e2d","egt","eps","fs","gbr","odg","svg","stl","vrml","x3d","sxd","v2d","vnd","wmf","emf","art","xar","png","webp","jxr","hdp","wdp","cur","ecw","iff","lbm","liff","nrrd","pam","pcx","pgf","sgi","rgb","rgba","bw","int","inta","sid","ras","sun","tga"],isImageUrl=function(e){return!!e&&!!isUrl_1(e)&&(e=new URL(e).pathname.split(".").pop(),imageExtensions.includes(e))},EditMenu$3=function(e){var t=useSlate(),n=e.element;return React.createElement(React.Fragment,null,React.createElement(Select,{selected:n.textAlign,buttons:textAlignButtonList$2,onChange:function(e){setTextAlign$2(t,n,e)}}),React.createElement("hr",{style:{border:"1px solid #f5f5f5"}}),React.createElement(Button,{size:"small",type:"text",icon:React.createElement(MinusCircleOutlined,{style:{color:"#389e0d"}}),onMouseDown:function(){setWidth$1(t,n,n.width-20)}}),React.createElement(Button,{size:"small",type:"text",icon:React.createElement(PlusCircleOutlined,{style:{color:"#f5222d"}}),onMouseDown:function(){setWidth$1(t,n,n.width+20)}}))},AddMenu$5=function(e){var a=useSlate(),o=e.element;return React.createElement(Popover,{content:React.createElement(React.Fragment,null,React.createElement(function(e){var t=_slicedToArray(useState(""),2),n=t[0],r=t[1];return React.createElement(React.Fragment,null,React.createElement("div",{style:{display:"inline-block",width:"280px"}},React.createElement(Input,{value:n,placeholder:"输入图片地址",onChange:function(e){return r(e.target.value)}}))," ",React.createElement(Single,{selected:!0,description:"使用图片的url",content:"确认",onClick:function(){isImageUrl(n)?setImage(a,o,n):message.error("输入有效的图片地址")}}))},null)),placement:"topRight"},React.createElement(Button,{type:"text",icon:React.createElement(PictureOutlined,{style:{color:"#fadb14"}}),style:{width:"100%",textAlign:"left"}},"图片"))},textAlignButtonList$2=[{key:"left",content:React.createElement(AlignLeftOutlined,null),description:"左对齐"},{key:"center",content:React.createElement(AlignCenterOutlined,null),description:"居中"},{key:"right",content:React.createElement(AlignRightOutlined,null),description:"右对齐"}],config={fallback:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMIAAADDCAYAAADQvc6UAAABRWlDQ1BJQ0MgUHJvZmlsZQAAKJFjYGASSSwoyGFhYGDIzSspCnJ3UoiIjFJgf8LAwSDCIMogwMCcmFxc4BgQ4ANUwgCjUcG3awyMIPqyLsis7PPOq3QdDFcvjV3jOD1boQVTPQrgSkktTgbSf4A4LbmgqISBgTEFyFYuLykAsTuAbJEioKOA7DkgdjqEvQHEToKwj4DVhAQ5A9k3gGyB5IxEoBmML4BsnSQk8XQkNtReEOBxcfXxUQg1Mjc0dyHgXNJBSWpFCYh2zi+oLMpMzyhRcASGUqqCZ16yno6CkYGRAQMDKMwhqj/fAIcloxgHQqxAjIHBEugw5sUIsSQpBobtQPdLciLEVJYzMPBHMDBsayhILEqEO4DxG0txmrERhM29nYGBddr//5/DGRjYNRkY/l7////39v///y4Dmn+LgeHANwDrkl1AuO+pmgAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAwqADAAQAAAABAAAAwwAAAAD9b/HnAAAHlklEQVR4Ae3dP3PTWBSGcbGzM6GCKqlIBRV0dHRJFarQ0eUT8LH4BnRU0NHR0UEFVdIlFRV7TzRksomPY8uykTk/zewQfKw/9znv4yvJynLv4uLiV2dBoDiBf4qP3/ARuCRABEFAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghggQAQZQKAnYEaQBAQaASKIAQJEkAEEegJmBElAoBEgghgg0Aj8i0JO4OzsrPv69Wv+hi2qPHr0qNvf39+iI97soRIh4f3z58/u7du3SXX7Xt7Z2enevHmzfQe+oSN2apSAPj09TSrb+XKI/f379+08+A0cNRE2ANkupk+ACNPvkSPcAAEibACyXUyfABGm3yNHuAECRNgAZLuYPgEirKlHu7u7XdyytGwHAd8jjNyng4OD7vnz51dbPT8/7z58+NB9+/bt6jU/TI+AGWHEnrx48eJ/EsSmHzx40L18+fLyzxF3ZVMjEyDCiEDjMYZZS5wiPXnyZFbJaxMhQIQRGzHvWR7XCyOCXsOmiDAi1HmPMMQjDpbpEiDCiL358eNHurW/5SnWdIBbXiDCiA38/Pnzrce2YyZ4//59F3ePLNMl4PbpiL2J0L979+7yDtHDhw8vtzzvdGnEXdvUigSIsCLAWavHp/+qM0BcXMd/q25n1vF57TYBp0a3mUzilePj4+7k5KSLb6gt6ydAhPUzXnoPR0dHl79WGTNCfBnn1uvSCJdegQhLI1vvCk+fPu2ePXt2tZOYEV6/fn31dz+shwAR1sP1cqvLntbEN9MxA9xcYjsxS1jWR4AIa2Ibzx0tc44fYX/16lV6NDFLXH+YL32jwiACRBiEbf5KcXoTIsQSpzXx4N28Ja4BQoK7rgXiydbHjx/P25TaQAJEGAguWy0+2Q8PD6/Ki4R8EVl+bzBOnZY95fq9rj9zAkTI2SxdidBHqG9+skdw43borCXO/ZcJdraPWdv22uIEiLA4q7nvvCug8WTqzQveOH26fodo7g6uFe/a17W3+nFBAkRYENRdb1vkkz1CH9cPsVy/jrhr27PqMYvENYNlHAIesRiBYwRy0V+8iXP8+/fvX11Mr7L7ECueb/r48eMqm7FuI2BGWDEG8cm+7G3NEOfmdcTQw4h9/55lhm7DekRYKQPZF2ArbXTAyu4kDYB2YxUzwg0gi/41ztHnfQG26HbGel/crVrm7tNY+/1btkOEAZ2M05r4FB7r9GbAIdxaZYrHdOsgJ/wCEQY0J74TmOKnbxxT9n3FgGGWWsVdowHtjt9Nnvf7yQM2aZU/TIAIAxrw6dOnAWtZZcoEnBpNuTuObWMEiLAx1HY0ZQJEmHJ3HNvGCBBhY6jtaMoEiJB0Z29vL6ls58vxPcO8/zfrdo5qvKO+d3Fx8Wu8zf1dW4p/cPzLly/dtv9Ts/EbcvGAHhHyfBIhZ6NSiIBTo0LNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiECRCjUbEPNCRAhZ6NSiAARCjXbUHMCRMjZqBQiQIRCzTbUnAARcjYqhQgQoVCzDTUnQIScjUohAkQo1GxDzQkQIWejUogAEQo121BzAkTI2agUIkCEQs021JwAEXI2KoUIEKFQsw01J0CEnI1KIQJEKNRsQ80JECFno1KIABEKNdtQcwJEyNmoFCJAhELNNtScABFyNiqFCBChULMNNSdAhJyNSiEC/wGgKKC4YMA4TAAAAABJRU5ErkJggg=="},Element$6=memo(function(e){var t=e.attributes,n=e.children,e=e.element;return React.createElement("div",_extends({},t,{style:{textAlign:e.textAlign||"left"}}),React.createElement(Image$1,{src:e.src,style:{maxWidth:"100%",width:"".concat(e.width,"px")},fallback:config.fallback}),n)}),withImage=function(s){var t=s.isEmpty,n=s.isVoid,l=s.insertData;return s.isEmpty=function(e){return"image"!==e.type&&t(e)},s.isVoid=function(e){return"image"===e.type||n(e)},s.insertData=function(e){var t=e.files;if(t&&0<t.length){var n,r=_createForOfIteratorHelper(t);try{for(r.s();!(n=r.n()).done;){var a,o,i,u=n.value;if("image"===_slicedToArray(u.type.split("/"),1)[0])return void((a=s.param.onUploadImage)&&(o=Editor.above(s,{match:function(e){return Editor.isBlock(s,e)}}))&&(i=_slicedToArray(o,1)[0],a(u,getInsertImageCallBack(s,i))))}}catch(e){r.e(e)}finally{r.f()}}l(e)},s},Image={type:"image",IsBlock:!0,AddMenu:AddMenu$5,EditMenu:EditMenu$3,Element:Element$6,Plugin:withImage},setTable=function(e,t,n,r){if(t){for(var t=ReactEditor.findPath(e,t),a=[],o=0;o<n;o++){for(var i=[],u=0;u<r;u++)i.push({type:"table-cell",width:100,children:[{type:"paragraph",children:[{text:""}]}]});a.push({type:"table-row",children:i})}var s={type:"table",children:a};Transforms.removeNodes(e,{at:t}),Transforms.insertNodes(e,s,{at:t})}},addRow=function(e,t){for(var n=!(2<arguments.length&&void 0!==arguments[2])||arguments[2],r=getTableFromCell(e,t),a=Path.parent(t),o=(n&&(a=Path.next(a)),Path.parent(a)),i=a[a.length-1],u=[],s=0;s<i;s++)for(var l=r.children[s],c=0;c<l.children.length;c++){var d=l.children[c];if(d.rowSpan&&!(s+d.rowSpan<=i)){Transforms.setNodes(e,_defineProperty$2({},"rowSpan",d.rowSpan+1),{at:[].concat(_toConsumableArray(o),[s,c])});var f=1;d.colSpan&&(f=d.colSpan);for(var p=0;p<f;p++)u.push(c+p)}}var h,E=[],g=0,m=_createForOfIteratorHelper(r.children[0].children);try{for(m.s();!(h=m.n()).done;){var D=h.value,C={type:"table-cell",width:D.width,children:[{type:"paragraph",children:[{text:""}]}]};-1<u.indexOf(g)&&(C={type:"table-cell-merged",width:D.width,children:[{text:""}]}),E.push(C),g++}}catch(e){m.e(e)}finally{m.f()}Transforms.insertNodes(e,{type:"table-row",children:E},{at:a})},deleteRow=function(e,t){var n=getTableFromCell(e,t);if(!(n.children.length<=1)){for(var t=Path.parent(t),r=t[t.length-1],a=Path.parent(t),o=0;o<=r;o++)for(var i=n.children[o],u=0;u<i.children.length;u++){var s,l,c=i.children[u];!c.rowSpan||o+c.rowSpan<=r||(1===(s=c.rowSpan-1)&&(s=null),o===r?(l={type:"table-cell",width:c.width,children:c.children},s&&(l.rowSpan=s),c.colSpan&&(l.colSpan=c.colSpan),Transforms.removeNodes(e,{at:[].concat(_toConsumableArray(a),[o+1,u])}),Transforms.insertNodes(e,l,{at:[].concat(_toConsumableArray(a),[o+1,u])})):Transforms.setNodes(e,_defineProperty$2({},"rowSpan",s),{at:[].concat(_toConsumableArray(a),[o,u])}))}Transforms.removeNodes(e,{at:t})}},addCol=function(e,t){for(var n=!(2<arguments.length&&void 0!==arguments[2])||arguments[2],r=getTableFromCell(e,t),a=_slicedToArray(getCellPathInTable(t),2)[1],o=Path.parent(Path.parent(t)),i=(n&&a++,[]),u=0;u<r.children.length;u++)for(var s=r.children[u],l=0;l<a;l++){var c=s.children[l];if(c.colSpan&&!(l+c.colSpan<=a)){Transforms.setNodes(e,_defineProperty$2({},"colSpan",c.colSpan+1),{at:[].concat(_toConsumableArray(o),[u,l])});var d=1;c.rowSpan&&(d=c.rowSpan);for(var f=0;f<d;f++)i.push(u+f)}}for(var p=0;p<r.children.length;p++){var h=[].concat(_toConsumableArray(o),[p,a]),E={type:"table-cell",width:100,children:[{type:"paragraph",children:[{text:""}]}]};-1<i.indexOf(p)&&(E={type:"table-cell-merged",width:100,children:[{text:""}]}),Transforms.insertNodes(e,E,{at:h})}},deleteCol=function(e,t){var n=getRowFromCell(e,t);if(!(n.children.length<=1)){for(var r=getTableFromCell(e,t),a=_slicedToArray(getCellPathInTable(t),2)[1],o=Path.parent(Path.parent(t)),i=0;i<r.children.length;i++)for(var u=r.children[i],s=0;s<=a;s++){var l,c,d=u.children[s];!d.colSpan||s+d.colSpan<=a||(1===(l=d.colSpan-1)&&(l=null),s===a?(c={type:"table-cell",width:d.width,children:d.children},l&&(c.colSpan=l),d.rowSpan&&(c.rowSpan=d.rowSpan),Transforms.removeNodes(e,{at:[].concat(_toConsumableArray(o),[i,s+1])}),Transforms.insertNodes(e,c,{at:[].concat(_toConsumableArray(o),[i,s+1])})):Transforms.setNodes(e,_defineProperty$2({},"colSpan",l),{at:[].concat(_toConsumableArray(o),[i,s])}))}for(var f=0;f<r.children.length;f++){var p=[].concat(_toConsumableArray(o),[f,a]);Transforms.removeNodes(e,{at:p})}}},setColWidth=function(e,t,n){if(!(n<40))for(var r=getTableFromCell(e,t),a=_slicedToArray(getCellPathInTable(t),2)[1],o=Path.parent(Path.parent(t)),i=0;i<r.children.length;i++){var u=[].concat(_toConsumableArray(o),[i,a]);Transforms.setNodes(e,_defineProperty$2({},"width",n),{at:u})}},splitCells=function(e){var t=e.selection;if(t&&Range.isCollapsed(t)){for(var n=t.anchor,t=t.focus,r=_slicedToArray(Editor.node(e,{}),1)[0],a=_toConsumableArray(_slicedToArray(Node.common(r,n.path,t.path),2)[1]);;){if(a.length<3)return;var o=Node.get(r,a);if(o.type&&"table-cell"==o.type)break;a=Path.parent(a)}var i=Path.parent(Path.parent(a)),u=getCellPathInTable(a),s=Node.get(r,i),n=Node.get(s,u);if(n.rowSpan||n.colSpan){Transforms.setNodes(e,_defineProperty$2(_defineProperty$2({},"rowSpan",null),"colSpan",null),{at:a});for(var l=n.rowSpan||1,c=n.colSpan||1,d=u[0];d<=u[0]+l-1;d++)for(var f,p=u[1];p<=u[1]+c-1;p++)d===u[0]&&p===u[1]||(f={type:"table-cell",width:Node.get(s,[d,p]).width,children:[{type:"paragraph",children:[{text:""}]}]},Transforms.removeNodes(e,{at:[].concat(_toConsumableArray(i),[d,p])}),Transforms.insertNodes(e,f,{at:[].concat(_toConsumableArray(i),[d,p])}))}}},mergeCells=function(e){var t=e.tableSelection;if(t){var n=t.start,t=t.end,r=getCellPathInTable(n),a=getCellPathInTable(t),o=Path.parent(Path.parent(n)),t=_slicedToArray(Editor.node(e,{}),1)[0],i=Node.get(t,o),u=[],t=Node.get(i,r);u.push.apply(u,_toConsumableArray(t.children));for(var s=r[0];s<=a[0];s++)for(var l,c=r[1];c<=a[1];c++)s===r[0]&&c===r[1]||("table-cell"===(l=Node.get(i,[s,c])).type&&0<Node.string(l).length&&u.push.apply(u,_toConsumableArray(l.children)),l={type:"table-cell-merged",width:l.width,children:[{text:""}]},Transforms.removeNodes(e,{at:[].concat(_toConsumableArray(o),[s,c])}),Transforms.insertNodes(e,l,{at:[].concat(_toConsumableArray(o),[s,c])}));var d=a[0]-r[0]+1,f=a[1]-r[1]+1,t={type:"table-cell",width:t.width,children:u};1<d&&(t.rowSpan=d),1<f&&(t.colSpan=f),Transforms.removeNodes(e,{at:n}),Transforms.insertNodes(e,t,{at:n})}},clearTableSelection=function(e,t){for(var n=t.start,t=t.end,r=getCellPathInTable(n),a=getCellPathInTable(t),o=Path.parent(Path.parent(n)),i=Node.get(e,o),u=r[0];u<=a[0];u++)for(var s=r[1];s<=a[1];s++){var l=_objectSpread2({},Node.get(i,[u,s]));"table-cell"===l.type?l.children=[{type:"paragraph",children:[{text:""}]}]:l.children=[{text:""}],Transforms.removeNodes(e,{at:[].concat(_toConsumableArray(o),[u,s])}),Transforms.insertNodes(e,l,{at:[].concat(_toConsumableArray(o),[u,s])})}},getAllSpanCells=function(e){for(var t=[],n=0;n<e.children.length;n++)for(var r=e.children[n],a=0;a<r.children.length;a++){var o=r.children[a];(o.rowSpan||o.colSpan)&&t.push([[n-1,a-1],[n+(o.rowSpan||1)-1,a+(o.colSpan||1)-1]])}return t},getTableSelection=function(e){var t=e.selection;if(!t||Range.isCollapsed(t))return null;for(var n=t.anchor,t=t.focus,r=_slicedToArray(Editor.node(e,{}),1)[0],a=_toConsumableArray(_slicedToArray(Node.common(r,n.path,t.path),2)[1]);;){if(0==a.length)return null;var o=Node.get(r,a);if(o.type&&"table"==o.type)break;a=Path.parent(a)}var e=Node.get(r,a),i=getAllSpanCells(e),u=e.children.length,s=e.children[0].children.length,e=a.length,n=[n.path[e],n.path[e+1]],t=[t.path[e],t.path[e+1]];if(Path.equals(n,t))return null;var e=[n[0],t[0]],l=e[0],c=e[1],e=(t[0]<n[0]&&(l=(e=[t[0],n[0]])[0],c=e[1]),[n[1],t[1]]),d=e[0],f=e[1],t=(t[1]<n[1]&&(d=(e=[t[1],n[1]])[0],f=e[1]),[l-1,d-1]);for(l=t[0],d=t[1];;){var p=_slicedToArray(getCuerrentSelection([l,d,c,f],i,u,s),4),h=p[0],E=p[1],g=p[2],p=p[3],m=!1;if(h<l&&(l=h,m=!0),c<g&&(c=g,m=!0),E<d&&(d=E,m=!0),f<p&&(f=p,m=!0),!m)break}return{start:[].concat(_toConsumableArray(a),[l+1,d+1]),end:[].concat(_toConsumableArray(a),[c,f])}},isCellInTableSelection=function(e,t){var n=e.tableSelection;if(!n)return!1;for(var t=ReactEditor.findPath(e,t),r=n.start,n=n.end,a=_slicedToArray(Editor.node(e,{}),1)[0],o=_toConsumableArray(_slicedToArray(Node.common(a,t,r),2)[1]);;){if(0==o.length)return!1;var i=Node.get(a,o);if(i.type&&"table"==i.type)break;o=Path.parent(o)}return o.length+2==t.length&&o.length+2==r.length&&(e=getCellPathInTable(t),t=getCellPathInTable(r),r=getCellPathInTable(n),t[0]<=e[0])&&t[1]<=e[1]&&e[0]<=r[0]&&e[1]<=r[1]},getCuerrentSelection=function(e,t,n,r){for(var e=_slicedToArray(e,4),a=e[0],o=e[1],i=e[2],u=e[3],s=a;-1<=s&&isLineCrossAnyCells([[a=s,o],[s,u]],t);s--);for(var l=i;l<=n&&isLineCrossAnyCells([[i=l,o],[l,u]],t);l++);for(var c=o;-1<=c&&isLineCrossAnyCells([[a,o=c],[i,c]],t);c--);for(var d=u;d<=r&&isLineCrossAnyCells([[a,u=d],[i,d]],t);d++);return[a,o,i,u]},isLineCrossAnyCells=function(e,t){var n,r=_createForOfIteratorHelper(t);try{for(r.s();!(n=r.n()).done;){var a=n.value;if(isLineCrossCell(e,a))return!0}}catch(e){r.e(e)}finally{r.f()}return!1},isLineCrossCell=function(e,t){var e=_slicedToArray(e,2),n=e[0],e=e[1],t=_slicedToArray(t,2),r=t[0],t=t[1];return!(n[0]>=t[0]||e[0]<=r[0]||n[1]>=t[1]||e[1]<=r[1])},getRowFromCell=function(e,t){e=_slicedToArray(Editor.node(e,[]),1)[0],t=Path.parent(t);return Node.get(e,t)},getTableFromCell=function(e,t){e=_slicedToArray(Editor.node(e,[]),1)[0],t=Path.parent(t),t=Path.parent(t);return Node.get(e,t)},getCellPathInTable=function(e){var t=e.length;return[e[t-2],e[t-1]]},TableInput=function(e){function t(t){function e(e){n.push(React.createElement("div",{key:e,style:{backgroundColor:t<=s&&e<=c?h:E,height:"25px",width:"25px",margin:"3px",display:"inline-block"},onMouseOver:function(){g(t,e)},onClick:function(){return u&&u(t,e)}}))}for(var n=[],r=1;r<=p;r++)e(r);m.push(React.createElement("div",{key:t},n))}for(var n=e.rowLength,r=e.colLength,a=e.normalColor,o=e.selectedColor,i=e.onChange,u=e.onClick,e=_slicedToArray(useState(0),2),s=e[0],l=e[1],e=_slicedToArray(useState(0),2),c=e[0],d=e[1],f=n||9,p=r||9,h=o||"#A6E6F8",E=a||"#EDF1F1",g=function(e,t){l(e),d(t),i&&i(e,t)},m=[],D=1;D<=f;D++)t(D);return React.createElement(Card$1,null,React.createElement("div",{style:{cursor:"pointer",fontSize:0,height:31*p+3,width:31*f+3},onMouseLeave:function(){g(0,0)}},m))},AddMenu$4=function(e){var n=useSlate(),r=e.element,e=_slicedToArray(useState("0行0列"),2),t=e[0],a=e[1];return React.createElement(Popover,{title:t,content:React.createElement(TableInput,{onChange:function(e,t){a("".concat(e,"行").concat(t,"列"))},onClick:function(e,t){setTable(n,r,e,t)}}),placement:"topRight"},React.createElement(Button,{type:"text",icon:React.createElement(TableOutlined,{style:{color:"#91d5ff"}}),style:{width:"100%",textAlign:"left"}},"表格"))},Element$5=memo(function(e){for(var t=e.attributes,n=e.children,e=e.element,r=useSlate(),a=(r.tableSelection=getTableSelection(r),0),o=e.children[0],i=0;i<o.children.length;i++)a+=o.children[i].width;return React.createElement("div",{style:{marginTop:"10px",marginBottom:"10px",overflow:"auto"}},React.createElement("table",{style:{borderCollapse:"collapse",width:"".concat(a,"px")}},React.createElement("tbody",t,n)))}),RowElement=function(e){var t=e.attributes,n=e.children,r=e.element,a=useSlate(),o=ReactEditor.findPath(a,r),i=o[o.length-1];return React.createElement(React.Fragment,null,function(){if(0!==i)return null;for(var e=[React.createElement("td",{key:"-1",style:{width:"7px",height:"6px"}})],t=0;t<r.children.length;t++){var n=r.children[t].width;e.push(React.createElement(Popover,{key:t,content:function(e,t){return React.createElement(React.Fragment,null,React.createElement(Button,{size:"small",type:"text",icon:React.createElement(InsertRowLeftOutlined,{style:{color:"#096dd9"}}),onMouseDown:function(){addCol(a,[].concat(_toConsumableArray(o),[e]),!1)}}),React.createElement(Button,{size:"small",type:"text",icon:React.createElement(MinusCircleOutlined,{style:{color:"#389e0d"}}),onMouseDown:function(){setColWidth(a,[].concat(_toConsumableArray(o),[e]),t-20)}}),React.createElement(Button,{size:"small",type:"text",icon:React.createElement(DeleteColumnOutlined,{style:{color:"#f5222d"}}),onMouseDown:function(){deleteCol(a,[].concat(_toConsumableArray(o),[e]))}}),React.createElement(Button,{size:"small",type:"text",icon:React.createElement(PlusCircleOutlined,{style:{color:"#389e0d"}}),onMouseDown:function(){setColWidth(a,[].concat(_toConsumableArray(o),[e]),t+20)}}),React.createElement(Button,{size:"small",type:"text",icon:React.createElement(InsertRowRightOutlined,{style:{color:"#096dd9"}}),onMouseDown:function(){addCol(a,[].concat(_toConsumableArray(o),[e]),!0)}}),React.createElement("br",null))}(t,n),placement:"topLeft"},React.createElement("td",{key:t,style:{width:"".concat(n,"px"),border:"1px solid #d9d9d9",backgroundColor:"#f0f0f0",cursor:"pointer"}},React.createElement("div",{style:{height:"6px"}}))))}return React.createElement("tr",{contentEditable:!1},e)}(),React.createElement("tr",_extends({},t,{style:{textAlign:"left",border:"1px solid #d9d9d9"}}),n))},RowEditor=function(e){var e=e.element,t=useSlate(),n=ReactEditor.findPath(t,e);return 0!==_slicedToArray(getCellPathInTable(n),2)[1]?null:React.createElement(Popover,{content:React.createElement(React.Fragment,null,React.createElement(Button,{size:"small",type:"text",icon:React.createElement(InsertRowAboveOutlined,{style:{color:"#096dd9"}}),onMouseDown:function(){return addRow(t,n,!1)}}),React.createElement("br",null),React.createElement(Button,{size:"small",type:"text",icon:React.createElement(DeleteRowOutlined,{style:{color:"#f5222d"}}),onMouseDown:function(){return deleteRow(t,n)}}),React.createElement("br",null),React.createElement(Button,{size:"small",type:"text",icon:React.createElement(InsertRowBelowOutlined,{style:{color:"#096dd9"}}),onMouseDown:function(){return addRow(t,n,!0)}})),placement:"leftTop"},React.createElement("td",{contentEditable:!1,style:{border:"1px solid #d9d9d9",backgroundColor:"#f0f0f0",cursor:"pointer"}},React.createElement("div",{style:{width:"6px"}})))},CellElement=function(e){var t=e.attributes,n=e.children,r=e.element,a=r.colSpan,o=r.rowSpan,i=useSlate(),u={border:"1px solid #d9d9d9",verticalAlign:"top",textAlign:"left"},u=(isCellInTableSelection(i,r)&&(u.backgroundColor="#f0f5ff"),{style:u}),s=r.width;if(a){u.colSpan=a;for(var l=_slicedToArray(Editor.node(i,{}),1)[0],c=ReactEditor.findPath(i,r),d=2;d<=a;d++){c=Path.next(c);s+=Node.get(l,c).width+1}}return o&&(u.rowSpan=o),React.createElement(React.Fragment,null,React.createElement(RowEditor,e),React.createElement("td",u,React.createElement("div",_extends({},t,{style:{padding:"8px",width:"".concat(s,"px"),overflow:"auto"}}),n)))},MergedElement=function(e){var t=e.attributes,n=e.children;return React.createElement(React.Fragment,null,React.createElement(RowEditor,e),React.createElement("td",_extends({},t,{style:{display:"none"}}),n))},withTable=function(E){var t=E.isEmpty,g=E.getFragment,o=E.insertFragment,n=E.deleteFragment;return E.tableSelection=null,E.deleteFragment=function(){var e=E.tableSelection;if(e)clearTableSelection(E,e);else{e=E.selection;if(e){var t=e.anchor,e=e.focus;if(2<Node.common(E,t.path,e.path)[1].length)return void n();t=Node.get(E,[t.path[0]]),e=Node.get(E,[e.path[0]]);if("table"===t.type||"table"===e.type)return void message.error("选中区域边缘包含表格，无法删除")}n()}},E.insertFragment=function(e){if(E.tableSelection)message.error("禁止向table拷贝");else if(Array.isArray(e)){var t,n,r=!1,a=_createForOfIteratorHelper(e);try{for(a.s();!(t=a.n()).done;)"table"===t.value.type&&(r=!0)}catch(e){a.e(e)}finally{a.f()}r?(n=E.selection)&&!Range.isCollapsed(n)?message.error("拷贝内容含有表格，只能粘贴到光标上"):(n=n.anchor,Transforms.insertNodes(E,e,{at:[n.path[0]+1]})):o(e)}else o(e)},E.getFragment=function(){if(E.tableSelection){for(var e=E.tableSelection,t=e.start,e=e.end,n=Path.parent(Path.parent(t)),t=_slicedToArray(getCellPathInTable(t),2),r=t[0],a=t[1],t=_slicedToArray(getCellPathInTable(e),2),o=t[0],i=t[1],u=[],s=r;s<=o;s++){for(var l=[],c=a;c<=i;c++){var d=Node.get(E,[].concat(_toConsumableArray(n),[s,c]));l.push(d)}u.push({type:"table-row",children:l})}return[{type:"table",children:u}]}var f=g();if(f.length<2)return f;if("table"!==f[0].type&&"table"!==f[f.length-1].type)return f;for(var p=[],h=0;h<f.length;h++)(0!=h&&h!=f.length-1||"table"!==f[h].type)&&p.push(f[h]);return p},E.isEmpty=function(e){return"table"!==e.type&&t(e)},E},withTableRow=function(e){return e},withTableCell=function(r){var a=r.deleteBackward,o=r.deleteForward;return r.deleteBackward=function(e){var t=r.selection;if(t&&Range.isCollapsed(t)){var n=_slicedToArray(Editor.nodes(r,{match:function(e){return!Editor.isEditor(e)&&Element$a.isElement(e)&&"table-cell"===e.type}}),1)[0];if(n){n=_slicedToArray(n,2)[1],n=Editor.start(r,n);if(Point.equals(t.anchor,n))return}}a(e)},r.deleteForward=function(e){var t=r.selection;if(t&&Range.isCollapsed(t)){var n=_slicedToArray(Editor.nodes(r,{match:function(e){return!Editor.isEditor(e)&&Element$a.isElement(e)&&"table-cell"===e.type}}),1)[0];if(n){n=_slicedToArray(n,2)[1],n=Editor.end(r,n);if(Point.equals(t.anchor,n))return}}o(e)},r},withTableCellMerged=function(e){var t=e.isVoid;return e.isVoid=function(e){return"table-cell-merged"===e.type||t(e)},e},LeafBar=function(e){var t=useSlate();return React.createElement(React.Fragment,null,React.createElement(Single,{selected:!1,description:"合并单元格",content:React.createElement(MergeCellsOutlined,{style:{color:"#237804"}}),onClick:function(){mergeCells(t)}}),React.createElement(Single,{selected:!1,description:"拆分单元格",content:React.createElement(SplitCellsOutlined,{style:{color:"#237804"}}),onClick:function(){splitCells(t)}}))},Table={type:"table",IsBlock:!0,Level:1,AddMenu:AddMenu$4,Element:Element$5,Plugin:withTable,LeafBar:LeafBar},TableRow={type:"table-row",IsBlock:!1,Element:RowElement,Plugin:withTableRow},TableCell={type:"table-cell",IsBlock:!1,Element:CellElement,Plugin:withTableCell},TableCellMerged={type:"table-cell-merged",IsBlock:!1,Element:MergedElement,Plugin:withTableCellMerged},setNodeTag$3=function(e,t,n,r){var a=4<arguments.length&&void 0!==arguments[4]?arguments[4]:null;a?Transforms.setNodes(e,_defineProperty$2({},n,r),{at:a}):t?(a=ReactEditor.findPath(e,t),Transforms.setNodes(e,_defineProperty$2({},n,r),{at:a})):Transforms.setNodes(e,_defineProperty$2({},n,r))},setDivider=function(e,t){setNodeTag$3(e,t,"type","divider")},setTextAlign$1=function(e,t,n){setNodeTag$3(e,t,"textAlign",n)},EditMenu$2=function(e){var t=useSlate(),n=e.element;return React.createElement(Select,{selected:n.textAlign,buttons:textAlignButtonList$1,onChange:function(e){setTextAlign$1(t,n,e)}})},AddMenu$3=function(e){var t=useSlate(),n=e.element;return React.createElement(Button,{type:"text",icon:React.createElement(MinusSquareOutlined,{style:{color:"#237804"}}),style:{width:"100%",textAlign:"left"},onMouseDown:function(){setDivider(t,n)}},"文字分割线")},textAlignButtonList$1=[{key:"left",content:React.createElement(AlignLeftOutlined,null),description:"左对齐"},{key:"center",content:React.createElement(AlignCenterOutlined,null),description:"居中"},{key:"right",content:React.createElement(AlignRightOutlined,null),description:"右对齐"}],Element$4=memo(function(e){var t=e.attributes,n=e.children,e=e.element;return React.createElement("div",t,React.createElement(Divider$1,{orientation:e.textAlign||"center",style:{color:"#262626"}},n))}),withDivider=function(e){var t=e.isEmpty;return e.isEmpty=function(e){return"divider"!==e.type&&t(e)},e},Divider={type:"divider",IsBlock:!0,Level:1,AddMenu:AddMenu$3,EditMenu:EditMenu$2,Element:Element$4,Plugin:withDivider},setNodeTag$2=function(e,t,n,r){var a=4<arguments.length&&void 0!==arguments[4]?arguments[4]:null;a?Transforms.setNodes(e,_defineProperty$2({},n,r),{at:a}):t?(a=ReactEditor.findPath(e,t),Transforms.setNodes(e,_defineProperty$2({},n,r),{at:a})):Transforms.setNodes(e,_defineProperty$2({},n,r))},setHr=function(e,t){setNodeTag$2(e,t,"type","hr")},AddMenu$2=function(e){var t=useSlate(),n=e.element;return React.createElement(Button,{type:"text",icon:React.createElement(MinusCircleOutlined,{style:{color:"#d48806"}}),style:{width:"100%",textAlign:"left"},onMouseDown:function(){setHr(t,n)}},"纯分割线")},Element$3=memo(function(e){var t=e.attributes,e=e.children;return React.createElement("div",_extends({},t,{style:{height:"10px"}}),React.createElement(Divider$1,null),e)}),withHr=function(e){var t=e.isEmpty,n=e.isVoid;return e.isEmpty=function(e){return"hr"!==e.type&&t(e)},e.isVoid=function(e){return"hr"===e.type||n(e)},e},Hr={type:"hr",IsBlock:!0,Level:1,AddMenu:AddMenu$2,Element:Element$3,Plugin:withHr},execCoy=function(e){var t=document.createElement("TEXTAREA");t.style.opacity=0,t.style.position="absolute",t.style.left="-100000px",document.body.appendChild(t),t.value=e,t.select(),t.setSelectionRange(0,e.length),document.execCommand("copy"),document.body.removeChild(t)},Element$2=memo(function(e){var o=e.element,t=e.children,e=e.attributes,n=_slicedToArray(useState(),2),r=n[0],a=n[1],i=useSlate();return React.createElement("div",_extends({style:{backgroundColor:"#fafafa",width:"100%",padding:"10px",color:"#000000",fontSize:"1em",tabSize:4,marginTop:"10px",marginBottom:"10px",position:"relative"},onMouseOver:function(){a(!0)},onMouseLeave:function(){a(!1)}},e),React.createElement("div",{contentEditable:!1,onClick:function(){var e,t=[],n=_createForOfIteratorHelper(o.children);try{for(n.s();!(e=n.n()).done;){var r=e.value,a=ReactEditor.findPath(i,r);t.push(Editor.string(i,a))}}catch(e){n.e(e)}finally{n.f()}execCoy(t.join("\n")),message.success("代码拷贝成功～")},style:{display:r?"inline":"none",position:"absolute",top:"0.5em",right:"0.5em"}},React.createElement(Button,{icon:React.createElement(CopyOutlined,{style:{color:"#5b8c00"}})},o.language)),React.createElement("div",{style:{overflowX:"auto"}},t))}),CodeLineElement=function(e){var t=e.children,e=e.attributes;return React.createElement("div",_extends({style:{minWidth:"3000px",fontFamily:"monospace"}},e),t)},setNodeTag$1=function(e,t,n,r){var a=4<arguments.length&&void 0!==arguments[4]?arguments[4]:null;a?Transforms.setNodes(e,_defineProperty$2({},n,r),{at:a}):t?(a=ReactEditor.findPath(e,t),Transforms.setNodes(e,_defineProperty$2({},n,r),{at:a})):Transforms.setNodes(e,_defineProperty$2({},n,r))},setLanguage=function(e,t,n){setNodeTag$1(e,t,["language"],n)},setCode=function(e,t){t=ReactEditor.findPath(e,t);Transforms.removeNodes(e,{at:t}),Transforms.insertNodes(e,{type:"code",language:"",children:[{type:"codeLine",children:[{text:""}]}]},{at:t})},prism=createCommonjsModule(function(e){var s,n,t,S,r,l,c,d,a,o="undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{},f=(n=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,t=0,r={},S={manual:(s=o).Prism&&s.Prism.manual,disableWorkerMessageHandler:s.Prism&&s.Prism.disableWorkerMessageHandler,util:{encode:function e(t){return t instanceof P?new P(t.type,e(t.content),t.alias):Array.isArray(t)?t.map(e):t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).slice(8,-1)},objId:function(e){return e.__id||Object.defineProperty(e,"__id",{value:++t}),e.__id},clone:function n(e,r){var a,t;switch(r=r||{},S.util.type(e)){case"Object":if(t=S.util.objId(e),r[t])return r[t];for(var o in a={},r[t]=a,e)e.hasOwnProperty(o)&&(a[o]=n(e[o],r));return a;case"Array":return(t=S.util.objId(e),r[t])?r[t]:(a=[],r[t]=a,e.forEach(function(e,t){a[t]=n(e,r)}),a);default:return e}},getLanguage:function(e){for(;e;){var t=n.exec(e.className);if(t)return t[1].toLowerCase();e=e.parentElement}return"none"},setLanguage:function(e,t){e.className=e.className.replace(RegExp(n,"gi"),""),e.classList.add("language-"+t)},currentScript:function(){if("undefined"==typeof document)return null;if("currentScript"in document)return document.currentScript;try{throw new Error}catch(e){var t=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(e.stack)||[])[1];if(t){var n,r=document.getElementsByTagName("script");for(n in r)if(r[n].src==t)return r[n]}return null}},isActive:function(e,t,n){for(var r="no-"+t;e;){var a=e.classList;if(a.contains(t))return!0;if(a.contains(r))return!1;e=e.parentElement}return!!n}},languages:{plain:r,plaintext:r,text:r,txt:r,extend:function(e,t){var n,r=S.util.clone(S.languages[e]);for(n in t)r[n]=t[n];return r},insertBefore:function(n,e,t,r){var a,o=(r=r||S.languages)[n],i={};for(a in o)if(o.hasOwnProperty(a)){if(a==e)for(var u in t)t.hasOwnProperty(u)&&(i[u]=t[u]);t.hasOwnProperty(a)||(i[a]=o[a])}var s=r[n];return r[n]=i,S.languages.DFS(S.languages,function(e,t){t===s&&e!=n&&(this[e]=i)}),i},DFS:function e(t,n,r,a){a=a||{};var o,i,u,s=S.util.objId;for(o in t)t.hasOwnProperty(o)&&(n.call(t,o,t[o],r||o),i=t[o],"Object"!==(u=S.util.type(i))||a[s(i)]?"Array"!==u||a[s(i)]||(a[s(i)]=!0,e(i,n,o,a)):(a[s(i)]=!0,e(i,n,null,a)))}},plugins:{},highlightAll:function(e,t){S.highlightAllUnder(document,e,t)},highlightAllUnder:function(e,t,n){var r={callback:n,container:e,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};S.hooks.run("before-highlightall",r),r.elements=Array.prototype.slice.apply(r.container.querySelectorAll(r.selector)),S.hooks.run("before-all-elements-highlight",r);for(var a,o=0;a=r.elements[o++];)S.highlightElement(a,!0===t,r.callback)},highlightElement:function(e,t,n){var r=S.util.getLanguage(e),a=S.languages[r],o=(S.util.setLanguage(e,r),e.parentElement);o&&"pre"===o.nodeName.toLowerCase()&&S.util.setLanguage(o,r);var i={element:e,language:r,grammar:a,code:e.textContent};function u(e){i.highlightedCode=e,S.hooks.run("before-insert",i),i.element.innerHTML=i.highlightedCode,S.hooks.run("after-highlight",i),S.hooks.run("complete",i),n&&n.call(i.element)}S.hooks.run("before-sanity-check",i),(o=i.element.parentElement)&&"pre"===o.nodeName.toLowerCase()&&!o.hasAttribute("tabindex")&&o.setAttribute("tabindex","0"),i.code?(S.hooks.run("before-highlight",i),i.grammar?t&&s.Worker?((r=new Worker(S.filename)).onmessage=function(e){u(e.data)},r.postMessage(JSON.stringify({language:i.language,code:i.code,immediateClose:!0}))):u(S.highlight(i.code,i.grammar,i.language)):u(S.util.encode(i.code))):(S.hooks.run("complete",i),n&&n.call(i.element))},highlight:function(e,t,n){e={code:e,grammar:t,language:n};if(S.hooks.run("before-tokenize",e),e.grammar)return e.tokens=S.tokenize(e.code,e.grammar),S.hooks.run("after-tokenize",e),P.stringify(S.util.encode(e.tokens),e.language);throw new Error('The language "'+e.language+'" has no grammar.')},tokenize:function(e,t){var n=t.rest;if(n){for(var r in n)t[r]=n[r];delete t.rest}for(var a=new p,o=(_(a,a.head,e),!function e(t,n,r,a,o,i){for(var u in r)if(r.hasOwnProperty(u)&&r[u]){var s=r[u];s=Array.isArray(s)?s:[s];for(var l=0;l<s.length;++l){if(i&&i.cause==u+","+l)return;for(var c,d=s[l],f=d.inside,p=!!d.lookbehind,h=!!d.greedy,E=d.alias,g=(h&&!d.pattern.global&&(c=d.pattern.toString().match(/[imsuy]*$/)[0],d.pattern=RegExp(d.pattern.source,c+"g")),d.pattern||d),m=a.next,D=o;m!==n.tail&&!(i&&D>=i.reach);D+=m.value.length,m=m.next){var C=m.value;if(n.length>t.length)return;if(!(C instanceof P)){var y,v=1;if(h){if(!(y=x(g,D,t,p))||y.index>=t.length)break;var A=y.index,b=y.index+y[0].length,B=D;for(B+=m.value.length;B<=A;)m=m.next,B+=m.value.length;if(B-=m.value.length,D=B,m.value instanceof P)continue;for(var R=m;R!==n.tail&&(B<b||"string"==typeof R.value);R=R.next)v++,B+=R.value.length;v--,C=t.slice(D,B),y.index-=D}else if(!(y=x(g,0,C,p)))continue;var A=y.index,w=y[0],F=C.slice(0,A),T=C.slice(A+w.length),C=D+C.length,O=(i&&C>i.reach&&(i.reach=C),m.prev),F=(F&&(O=_(n,O,F),D+=F.length),k(n,O,v),new P(u,f?S.tokenize(w,f):w,E,w));m=_(n,O,F),T&&_(n,m,T),1<v&&(w={cause:u+","+l,reach:C},e(t,n,r,m.prev,D,w),i)&&w.reach>i.reach&&(i.reach=w.reach)}}}}}(e,a,t,a.head,0),a),i=[],u=o.head.next;u!==o.tail;)i.push(u.value),u=u.next;return i},hooks:{all:{},add:function(e,t){var n=S.hooks.all;n[e]=n[e]||[],n[e].push(t)},run:function(e,t){var n=S.hooks.all[e];if(n&&n.length)for(var r,a=0;r=n[a++];)r(t)}},Token:P},s.Prism=S,P.stringify=function t(e,n){if("string"==typeof e)return e;var r;if(Array.isArray(e))return r="",e.forEach(function(e){r+=t(e,n)}),r;var a,o={type:e.type,content:t(e.content,n),tag:"span",classes:["token",e.type],attributes:{},language:n},e=e.alias,i=(e&&(Array.isArray(e)?Array.prototype.push.apply(o.classes,e):o.classes.push(e)),S.hooks.run("wrap",o),"");for(a in o.attributes)i+=" "+a+'="'+(o.attributes[a]||"").replace(/"/g,"&quot;")+'"';return"<"+o.tag+' class="'+o.classes.join(" ")+'"'+i+">"+o.content+"</"+o.tag+">"},s.document?((r=S.util.currentScript())&&(S.filename=r.src,r.hasAttribute("data-manual"))&&(S.manual=!0),S.manual||("loading"===(o=document.readyState)||"interactive"===o&&r&&r.defer?document.addEventListener("DOMContentLoaded",i):window.requestAnimationFrame?window.requestAnimationFrame(i):window.setTimeout(i,16))):s.addEventListener&&!S.disableWorkerMessageHandler&&s.addEventListener("message",function(e){var e=JSON.parse(e.data),t=e.language,n=e.code,e=e.immediateClose;s.postMessage(S.highlight(n,S.languages[t],t)),e&&s.close()},!1),S);function P(e,t,n,r){this.type=e,this.content=t,this.alias=n,this.length=0|(r||"").length}function x(e,t,n,r){e.lastIndex=t;t=e.exec(n);return t&&r&&t[1]&&(e=t[1].length,t.index+=e,t[0]=t[0].slice(e)),t}function p(){var e={value:null,prev:null,next:null},t={value:null,prev:e,next:null};e.next=t,this.head=e,this.tail=t,this.length=0}function _(e,t,n){var r=t.next,n={value:n,prev:t,next:r};return t.next=n,r.prev=n,e.length++,n}function k(e,t,n){for(var r=t.next,a=0;a<n&&r!==e.tail;a++)r=r.next;(t.next=r).prev=t,e.length-=a}function i(){S.manual||S.highlightAll()}e.exports&&(e.exports=f),void 0!==commonjsGlobal&&(commonjsGlobal.Prism=f),f.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},f.languages.markup.tag.inside["attr-value"].inside.entity=f.languages.markup.entity,f.languages.markup.doctype.inside["internal-subset"].inside=f.languages.markup,f.hooks.add("wrap",function(e){"entity"===e.type&&(e.attributes.title=e.content.replace(/&amp;/,"&"))}),Object.defineProperty(f.languages.markup.tag,"addInlined",{value:function(e,t){var n={},n=(n["language-"+t]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:f.languages[t]},n.cdata=/^<!\[CDATA\[|\]\]>$/i,{"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:n}}),t=(n["language-"+t]={pattern:/[\s\S]+/,inside:f.languages[t]},{});t[e]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return e}),"i"),lookbehind:!0,greedy:!0,inside:n},f.languages.insertBefore("markup","cdata",t)}}),Object.defineProperty(f.languages.markup.tag,"addAttribute",{value:function(e,t){f.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+e+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[t,"language-"+t],inside:f.languages[t]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),f.languages.html=f.languages.markup,f.languages.mathml=f.languages.markup,f.languages.svg=f.languages.markup,f.languages.xml=f.languages.extend("markup",{}),f.languages.ssml=f.languages.xml,f.languages.atom=f.languages.xml,f.languages.rss=f.languages.xml,o=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/,(r=f).languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+o.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+o.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+o.source+"$"),alias:"url"}}},selector:{pattern:RegExp("(^|[{}\\s])[^{}\\s](?:[^{};\"'\\s]|\\s+(?![\\s{])|"+o.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:o,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},r.languages.css.atrule.inside.rest=r.languages.css,(o=r.languages.markup)&&(o.tag.addInlined("style","css"),o.tag.addAttribute("style","css")),f.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},f.languages.javascript=f.languages.extend("clike",{"class-name":[f.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),f.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,f.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:f.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:f.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:f.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:f.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:f.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),f.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:f.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),f.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),f.languages.markup&&(f.languages.markup.tag.addInlined("script","javascript"),f.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),f.languages.js=f.languages.javascript,void 0!==f&&"undefined"!=typeof document&&(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),l={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},d="pre[data-src]:not(["+(c="data-src-status")+'="loaded"]):not(['+c+'="loading"])',f.hooks.add("before-highlightall",function(e){e.selector+=", "+d}),f.hooks.add("before-sanity-check",function(e){var a,t,n,r,o,i,u=e.element;u.matches(d)&&(e.code="",u.setAttribute(c,"loading"),(a=u.appendChild(document.createElement("CODE"))).textContent="Loading…",t=u.getAttribute("data-src"),"none"===(e=e.language)&&(n=(/\.(\w+)$/.exec(t)||[,"none"])[1],e=l[n]||n),f.util.setLanguage(a,e),f.util.setLanguage(u,e),(n=f.plugins.autoloader)&&n.loadLanguages(e),n=t,r=function(e){u.setAttribute(c,"loaded");var t,n,r=function(e){var t,n;if(e=/^\s*(\d+)\s*(?:(,)\s*(?:(\d+)\s*)?)?$/.exec(e||""))return t=Number(e[1]),n=e[2],e=e[3],n?e?[t,Number(e)]:[t,void 0]:[t,t]}(u.getAttribute("data-range"));r&&(t=e.split(/\r\n?|\n/g),n=r[0],r=null==r[1]?t.length:r[1],n<0&&(n+=t.length),n=Math.max(0,Math.min(n-1,t.length)),r<0&&(r+=t.length),r=Math.max(0,Math.min(r,t.length)),e=t.slice(n,r).join("\n"),u.hasAttribute("data-start")||u.setAttribute("data-start",String(n+1))),a.textContent=e,f.highlightElement(a)},o=function(e){u.setAttribute(c,"failed"),a.textContent=e},(i=new XMLHttpRequest).open("GET",n,!0),i.onreadystatechange=function(){4==i.readyState&&(i.status<400&&i.responseText?r(i.responseText):400<=i.status?o("✖ Error "+i.status+" while fetching file: "+i.statusText):o("✖ Error: File does not exist or is empty"))},i.send(null))}),a=!(f.plugins.fileHighlight={highlight:function(e){for(var t,n=(e||document).querySelectorAll(d),r=0;t=n[r++];)f.highlightElement(t)}}),f.fileHighlight=function(){a||(console.warn("Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead."),a=!0),f.plugins.fileHighlight.highlight.apply(this,arguments)})}),Option=(Prism.languages.sql={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|(?:--|\/\/|#).*)/,lookbehind:!0},variable:[{pattern:/@(["'`])(?:\\[\s\S]|(?!\1)[^\\])+\1/,greedy:!0},/@[\w.$]+/],string:{pattern:/(^|[^@\\])("|')(?:\\[\s\S]|(?!\2)[^\\]|\2\2)*\2/,greedy:!0,lookbehind:!0},identifier:{pattern:/(^|[^@\\])`(?:\\[\s\S]|[^`\\]|``)*`/,greedy:!0,lookbehind:!0,inside:{punctuation:/^`|`$/}},function:/\b(?:AVG|COUNT|FIRST|FORMAT|LAST|LCASE|LEN|MAX|MID|MIN|MOD|NOW|ROUND|SUM|UCASE)(?=\s*\()/i,keyword:/\b(?:ACTION|ADD|AFTER|ALGORITHM|ALL|ALTER|ANALYZE|ANY|APPLY|AS|ASC|AUTHORIZATION|AUTO_INCREMENT|BACKUP|BDB|BEGIN|BERKELEYDB|BIGINT|BINARY|BIT|BLOB|BOOL|BOOLEAN|BREAK|BROWSE|BTREE|BULK|BY|CALL|CASCADED?|CASE|CHAIN|CHAR(?:ACTER|SET)?|CHECK(?:POINT)?|CLOSE|CLUSTERED|COALESCE|COLLATE|COLUMNS?|COMMENT|COMMIT(?:TED)?|COMPUTE|CONNECT|CONSISTENT|CONSTRAINT|CONTAINS(?:TABLE)?|CONTINUE|CONVERT|CREATE|CROSS|CURRENT(?:_DATE|_TIME|_TIMESTAMP|_USER)?|CURSOR|CYCLE|DATA(?:BASES?)?|DATE(?:TIME)?|DAY|DBCC|DEALLOCATE|DEC|DECIMAL|DECLARE|DEFAULT|DEFINER|DELAYED|DELETE|DELIMITERS?|DENY|DESC|DESCRIBE|DETERMINISTIC|DISABLE|DISCARD|DISK|DISTINCT|DISTINCTROW|DISTRIBUTED|DO|DOUBLE|DROP|DUMMY|DUMP(?:FILE)?|DUPLICATE|ELSE(?:IF)?|ENABLE|ENCLOSED|END|ENGINE|ENUM|ERRLVL|ERRORS|ESCAPED?|EXCEPT|EXEC(?:UTE)?|EXISTS|EXIT|EXPLAIN|EXTENDED|FETCH|FIELDS|FILE|FILLFACTOR|FIRST|FIXED|FLOAT|FOLLOWING|FOR(?: EACH ROW)?|FORCE|FOREIGN|FREETEXT(?:TABLE)?|FROM|FULL|FUNCTION|GEOMETRY(?:COLLECTION)?|GLOBAL|GOTO|GRANT|GROUP|HANDLER|HASH|HAVING|HOLDLOCK|HOUR|IDENTITY(?:COL|_INSERT)?|IF|IGNORE|IMPORT|INDEX|INFILE|INNER|INNODB|INOUT|INSERT|INT|INTEGER|INTERSECT|INTERVAL|INTO|INVOKER|ISOLATION|ITERATE|JOIN|KEYS?|KILL|LANGUAGE|LAST|LEAVE|LEFT|LEVEL|LIMIT|LINENO|LINES|LINESTRING|LOAD|LOCAL|LOCK|LONG(?:BLOB|TEXT)|LOOP|MATCH(?:ED)?|MEDIUM(?:BLOB|INT|TEXT)|MERGE|MIDDLEINT|MINUTE|MODE|MODIFIES|MODIFY|MONTH|MULTI(?:LINESTRING|POINT|POLYGON)|NATIONAL|NATURAL|NCHAR|NEXT|NO|NONCLUSTERED|NULLIF|NUMERIC|OFF?|OFFSETS?|ON|OPEN(?:DATASOURCE|QUERY|ROWSET)?|OPTIMIZE|OPTION(?:ALLY)?|ORDER|OUT(?:ER|FILE)?|OVER|PARTIAL|PARTITION|PERCENT|PIVOT|PLAN|POINT|POLYGON|PRECEDING|PRECISION|PREPARE|PREV|PRIMARY|PRINT|PRIVILEGES|PROC(?:EDURE)?|PUBLIC|PURGE|QUICK|RAISERROR|READS?|REAL|RECONFIGURE|REFERENCES|RELEASE|RENAME|REPEAT(?:ABLE)?|REPLACE|REPLICATION|REQUIRE|RESIGNAL|RESTORE|RESTRICT|RETURN(?:ING|S)?|REVOKE|RIGHT|ROLLBACK|ROUTINE|ROW(?:COUNT|GUIDCOL|S)?|RTREE|RULE|SAVE(?:POINT)?|SCHEMA|SECOND|SELECT|SERIAL(?:IZABLE)?|SESSION(?:_USER)?|SET(?:USER)?|SHARE|SHOW|SHUTDOWN|SIMPLE|SMALLINT|SNAPSHOT|SOME|SONAME|SQL|START(?:ING)?|STATISTICS|STATUS|STRIPED|SYSTEM_USER|TABLES?|TABLESPACE|TEMP(?:ORARY|TABLE)?|TERMINATED|TEXT(?:SIZE)?|THEN|TIME(?:STAMP)?|TINY(?:BLOB|INT|TEXT)|TOP?|TRAN(?:SACTIONS?)?|TRIGGER|TRUNCATE|TSEQUAL|TYPES?|UNBOUNDED|UNCOMMITTED|UNDEFINED|UNION|UNIQUE|UNLOCK|UNPIVOT|UNSIGNED|UPDATE(?:TEXT)?|USAGE|USE|USER|USING|VALUES?|VAR(?:BINARY|CHAR|CHARACTER|YING)|VIEW|WAITFOR|WARNINGS|WHEN|WHERE|WHILE|WITH(?: ROLLUP|IN)?|WORK|WRITE(?:TEXT)?|YEAR)\b/i,boolean:/\b(?:FALSE|NULL|TRUE)\b/i,number:/\b0x[\da-f]+\b|\b\d+(?:\.\d*)?|\B\.\d+\b/i,operator:/[-+*\/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?|\b(?:AND|BETWEEN|DIV|ILIKE|IN|IS|LIKE|NOT|OR|REGEXP|RLIKE|SOUNDS LIKE|XOR)\b/i,punctuation:/[;[\]()`,.]/},Prism.languages.go=Prism.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"|`[^`]*`/,lookbehind:!0,greedy:!0},keyword:/\b(?:break|case|chan|const|continue|default|defer|else|fallthrough|for|func|go(?:to)?|if|import|interface|map|package|range|return|select|struct|switch|type|var)\b/,boolean:/\b(?:_|false|iota|nil|true)\b/,number:[/\b0(?:b[01_]+|o[0-7_]+)i?\b/i,/\b0x(?:[a-f\d_]+(?:\.[a-f\d_]*)?|\.[a-f\d_]+)(?:p[+-]?\d+(?:_\d+)*)?i?(?!\w)/i,/(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?[\d_]+)?i?(?!\w)/i],operator:/[*\/%^!=]=?|\+[=+]?|-[=-]?|\|[=|]?|&(?:=|&|\^=?)?|>(?:>=?|=)?|<(?:<=?|=|-)?|:=|\.\.\./,builtin:/\b(?:append|bool|byte|cap|close|complex|complex(?:64|128)|copy|delete|error|float(?:32|64)|u?int(?:8|16|32|64)?|imag|len|make|new|panic|print(?:ln)?|real|recover|rune|string|uintptr)\b/}),Prism.languages.insertBefore("go","string",{char:{pattern:/'(?:\\.|[^'\\\r\n]){0,10}'/,greedy:!0}}),delete Prism.languages.go["class-name"],Prism.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0,greedy:!0},"string-interpolation":{pattern:/(?:f|fr|rf)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:\{\{)*)\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}])+\})+\})+\}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=\}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|br|rb)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|br|rb)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^[\t ]*)@\w+(?:\.\w+)*/m,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:_(?=\s*:)|and|as|assert|async|await|break|case|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|match|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:False|None|True)\b/,number:/\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:e[+-]?\d+(?:_\d+)*)?j?(?!\w)/i,operator:/[-+%=]=?|!=|:=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/},Prism.languages.python["string-interpolation"].inside.interpolation.inside.rest=Prism.languages.python,Prism.languages.py=Prism.languages.python,!function(e){e.languages.typescript=e.languages.extend("javascript",{"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|type)\s+)(?!keyof\b)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?:\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>)?/,lookbehind:!0,greedy:!0,inside:null},builtin:/\b(?:Array|Function|Promise|any|boolean|console|never|number|string|symbol|unknown)\b/}),e.languages.typescript.keyword.push(/\b(?:abstract|declare|is|keyof|readonly|require)\b/,/\b(?:asserts|infer|interface|module|namespace|type)\b(?=\s*(?:[{_$a-zA-Z\xA0-\uFFFF]|$))/,/\btype\b(?=\s*(?:[\{*]|$))/),delete e.languages.typescript.parameter,delete e.languages.typescript["literal-property"];var t=e.languages.extend("typescript",{});delete t["class-name"],e.languages.typescript["class-name"].inside=t,e.languages.insertBefore("typescript","function",{decorator:{pattern:/@[$\w\xA0-\uFFFF]+/,inside:{at:{pattern:/^@/,alias:"operator"},function:/^[\s\S]+/}},"generic-function":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>(?=\s*\()/,greedy:!0,inside:{function:/^#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:t}}}}),e.languages.ts=e.languages.typescript}(Prism),!function(t){var e=/\/\*[\s\S]*?\*\/|\/\/.*|#(?!\[).*/,n=[{pattern:/\b(?:false|true)\b/i,alias:"boolean"},{pattern:/(::\s*)\b[a-z_]\w*\b(?!\s*\()/i,greedy:!0,lookbehind:!0},{pattern:/(\b(?:case|const)\s+)\b[a-z_]\w*(?=\s*[;=])/i,greedy:!0,lookbehind:!0},/\b(?:null)\b/i,/\b[A-Z_][A-Z0-9_]*\b(?!\s*\()/],r=/\b0b[01]+(?:_[01]+)*\b|\b0o[0-7]+(?:_[0-7]+)*\b|\b0x[\da-f]+(?:_[\da-f]+)*\b|(?:\b\d+(?:_\d+)*\.?(?:\d+(?:_\d+)*)?|\B\.\d+)(?:e[+-]?\d+)?/i,a=/<?=>|\?\?=?|\.{3}|\??->|[!=]=?=?|::|\*\*=?|--|\+\+|&&|\|\||<<|>>|[?~]|[/^|%*&<>.+-]=?/,o=/[{}\[\](),:;]/,i=(t.languages.php={delimiter:{pattern:/\?>$|^<\?(?:php(?=\s)|=)?/i,alias:"important"},comment:e,variable:/\$+(?:\w+\b|(?=\{))/,package:{pattern:/(namespace\s+|use\s+(?:function\s+)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,lookbehind:!0,inside:{punctuation:/\\/}},"class-name-definition":{pattern:/(\b(?:class|enum|interface|trait)\s+)\b[a-z_]\w*(?!\\)\b/i,lookbehind:!0,alias:"class-name"},"function-definition":{pattern:/(\bfunction\s+)[a-z_]\w*(?=\s*\()/i,lookbehind:!0,alias:"function"},keyword:[{pattern:/(\(\s*)\b(?:array|bool|boolean|float|int|integer|object|string)\b(?=\s*\))/i,alias:"type-casting",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)\b(?:array(?!\s*\()|bool|callable|(?:false|null)(?=\s*\|)|float|int|iterable|mixed|object|self|static|string)\b(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b(?:array(?!\s*\()|bool|callable|(?:false|null)(?=\s*\|)|float|int|iterable|mixed|never|object|self|static|string|void)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/\b(?:array(?!\s*\()|bool|float|int|iterable|mixed|object|string|void)\b/i,alias:"type-declaration",greedy:!0},{pattern:/(\|\s*)(?:false|null)\b|\b(?:false|null)(?=\s*\|)/i,alias:"type-declaration",greedy:!0,lookbehind:!0},{pattern:/\b(?:parent|self|static)(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(\byield\s+)from\b/i,lookbehind:!0},/\bclass\b/i,{pattern:/((?:^|[^\s>:]|(?:^|[^-])>|(?:^|[^:]):)\s*)\b(?:abstract|and|array|as|break|callable|case|catch|clone|const|continue|declare|default|die|do|echo|else|elseif|empty|enddeclare|endfor|endforeach|endif|endswitch|endwhile|enum|eval|exit|extends|final|finally|fn|for|foreach|function|global|goto|if|implements|include|include_once|instanceof|insteadof|interface|isset|list|match|namespace|never|new|or|parent|print|private|protected|public|readonly|require|require_once|return|self|static|switch|throw|trait|try|unset|use|var|while|xor|yield|__halt_compiler)\b/i,lookbehind:!0}],"argument-name":{pattern:/([(,]\s*)\b[a-z_]\w*(?=\s*:(?!:))/i,lookbehind:!0},"class-name":[{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self|\s+static))\s+|\bcatch\s*\()\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/(\|\s*)\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/\b[a-z_]\w*(?!\\)\b(?=\s*\|)/i,greedy:!0},{pattern:/(\|\s*)(?:\\?\b[a-z_]\w*)+\b/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(?:\\?\b[a-z_]\w*)+\b(?=\s*\|)/i,alias:"class-name-fully-qualified",greedy:!0,inside:{punctuation:/\\/}},{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self\b|\s+static\b))\s+|\bcatch\s*\()(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*\$)/i,alias:"type-declaration",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-declaration"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*::)/i,alias:["class-name-fully-qualified","static-context"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/([(,?]\s*)[a-z_]\w*(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-hint"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b[a-z_]\w*(?!\\)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:["class-name-fully-qualified","return-type"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:n,function:{pattern:/(^|[^\\\w])\\?[a-z_](?:[\w\\]*\w)?(?=\s*\()/i,lookbehind:!0,inside:{punctuation:/\\/}},property:{pattern:/(->\s*)\w+/,lookbehind:!0},number:r,operator:a,punctuation:o},{pattern:/\{\$(?:\{(?:\{[^{}]+\}|[^{}]+)\}|[^{}])+\}|(^|[^\\{])\$+(?:\w+(?:\[[^\r\n\[\]]+\]|->\w+)?)/,lookbehind:!0,inside:t.languages.php}),i=[{pattern:/<<<'([^']+)'[\r\n](?:.*[\r\n])*?\1;/,alias:"nowdoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<'[^']+'|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<'?|[';]$/}}}},{pattern:/<<<(?:"([^"]+)"[\r\n](?:.*[\r\n])*?\1;|([a-z_]\w*)[\r\n](?:.*[\r\n])*?\2;)/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<(?:"[^"]+"|[a-z_]\w*)|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<"?|[";]$/}},interpolation:i}},{pattern:/`(?:\\[\s\S]|[^\\`])*`/,alias:"backtick-quoted-string",greedy:!0},{pattern:/'(?:\\[\s\S]|[^\\'])*'/,alias:"single-quoted-string",greedy:!0},{pattern:/"(?:\\[\s\S]|[^\\"])*"/,alias:"double-quoted-string",greedy:!0,inside:{interpolation:i}}];t.languages.insertBefore("php","variable",{string:i,attribute:{pattern:/#\[(?:[^"'\/#]|\/(?![*/])|\/\/.*$|#(?!\[).*$|\/\*(?:[^*]|\*(?!\/))*\*\/|"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*')+\](?=\s*[a-z$#])/im,greedy:!0,inside:{"attribute-content":{pattern:/^(#\[)[\s\S]+(?=\]$)/,lookbehind:!0,inside:{comment:e,string:i,"attribute-class-name":[{pattern:/([^:]|^)\b[a-z_]\w*(?!\\)\b/i,alias:"class-name",greedy:!0,lookbehind:!0},{pattern:/([^:]|^)(?:\\?\b[a-z_]\w*)+/i,alias:["class-name","class-name-fully-qualified"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:n,number:r,operator:a,punctuation:o}},delimiter:{pattern:/^#\[|\]$/,alias:"punctuation"}}}}),t.hooks.add("before-tokenize",function(e){/<\?/.test(e.code)&&t.languages["markup-templating"].buildPlaceholders(e,"php",/<\?(?:[^"'/#]|\/(?![*/])|("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|(?:\/\/|#(?!\[))(?:[^?\n\r]|\?(?!>))*(?=$|\?>|[\r\n])|#\[|\/\*(?:[^*]|\*(?!\/))*(?:\*\/|$))*?(?:\?>|$)/g)}),t.hooks.add("after-tokenize",function(e){t.languages["markup-templating"].tokenizePlaceholders(e,"php")})}(Prism),Prism.languages.c=Prism.languages.extend("clike",{comment:{pattern:/\/\/(?:[^\r\n\\]|\\(?:\r\n?|\n|(?![\r\n])))*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},"class-name":{pattern:/(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([\s\S]*?\)\)\s*)?)\w+|\b[a-z]\w*_t\b/,lookbehind:!0},keyword:/\b(?:_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|__attribute__|asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|inline|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|typeof|union|unsigned|void|volatile|while)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/}),Prism.languages.insertBefore("c","string",{char:{pattern:/'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n]){0,32}'/,greedy:!0}}),Prism.languages.insertBefore("c","string",{macro:{pattern:/(^[\t ]*)#\s*[a-z](?:[^\r\n\\/]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{string:[{pattern:/^(#\s*include\s*)<[^>]+>/,lookbehind:!0},Prism.languages.c.string],char:Prism.languages.c.char,comment:Prism.languages.c.comment,"macro-name":[{pattern:/(^#\s*define\s+)\w+\b(?!\()/i,lookbehind:!0},{pattern:/(^#\s*define\s+)\w+\b(?=\()/i,lookbehind:!0,alias:"function"}],directive:{pattern:/^(#\s*)[a-z]+/,lookbehind:!0,alias:"keyword"},"directive-hash":/^#/,punctuation:/##|\\(?=[\r\n])/,expression:{pattern:/\S[\s\S]*/,inside:Prism.languages.c}}}}),Prism.languages.insertBefore("c","function",{constant:/\b(?:EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|__DATE__|__FILE__|__LINE__|__TIMESTAMP__|__TIME__|__func__|stderr|stdin|stdout)\b/}),delete Prism.languages.c.boolean,!function(e){var t=/\b(?:abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|exports|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|module|native|new|non-sealed|null|open|opens|package|permits|private|protected|provides|public|record(?!\s*[(){}[\]<>=%~.:,;?+\-*/&|^])|requires|return|sealed|short|static|strictfp|super|switch|synchronized|this|throw|throws|to|transient|transitive|try|uses|var|void|volatile|while|with|yield)\b/,n=/(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source,r={pattern:RegExp(/(^|[^\w.])/.source+n+/[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}},punctuation:/\./}};e.languages.java=e.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"/,lookbehind:!0,greedy:!0},"class-name":[r,{pattern:RegExp(/(^|[^\w.])/.source+n+/[A-Z]\w*(?=\s+\w+\s*[;,=()]|\s*(?:\[[\s,]*\]\s*)?::\s*new\b)/.source),lookbehind:!0,inside:r.inside},{pattern:RegExp(/(\b(?:class|enum|extends|implements|instanceof|interface|new|record|throws)\s+)/.source+n+/[A-Z]\w*\b/.source),lookbehind:!0,inside:r.inside}],keyword:t,function:[e.languages.clike.function,{pattern:/(::\s*)[a-z_]\w*/,lookbehind:!0}],number:/\b0b[01][01_]*L?\b|\b0x(?:\.[\da-f_p+-]+|[\da-f_]+(?:\.[\da-f_p+-]+)?)\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfl]?/i,operator:{pattern:/(^|[^.])(?:<<=?|>>>?=?|->|--|\+\+|&&|\|\||::|[?:~]|[-+*/%&|^!=<>]=?)/m,lookbehind:!0},constant:/\b[A-Z][A-Z_\d]+\b/}),e.languages.insertBefore("java","string",{"triple-quoted-string":{pattern:/"""[ \t]*[\r\n](?:(?:"|"")?(?:\\.|[^"\\]))*"""/,greedy:!0,alias:"string"},char:{pattern:/'(?:\\.|[^'\\\r\n]){1,6}'/,greedy:!0}}),e.languages.insertBefore("java","class-name",{annotation:{pattern:/(^|[^.])@\w+(?:\s*\.\s*\w+)*/,lookbehind:!0,alias:"punctuation"},generics:{pattern:/<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&))*>)*>)*>)*>/,inside:{"class-name":r,keyword:t,punctuation:/[<>(),.:]/,operator:/[?&|]/}},import:[{pattern:RegExp(/(\bimport\s+)/.source+n+/(?:[A-Z]\w*|\*)(?=\s*;)/.source),lookbehind:!0,inside:{namespace:r.inside.namespace,punctuation:/\./,operator:/\*/,"class-name":/\w+/}},{pattern:RegExp(/(\bimport\s+static\s+)/.source+n+/(?:\w+|\*)(?=\s*;)/.source),lookbehind:!0,alias:"static",inside:{namespace:r.inside.namespace,static:/\b\w+$/,punctuation:/\./,operator:/\*/,"class-name":/\w+/}}],namespace:{pattern:RegExp(/(\b(?:exports|import(?:\s+static)?|module|open|opens|package|provides|requires|to|transitive|uses|with)\s+)(?!<keyword>)[a-z]\w*(?:\.[a-z]\w*)*\.?/.source.replace(/<keyword>/g,function(){return t.source})),lookbehind:!0,inside:{punctuation:/\./}}})}(Prism),!function(e){e.languages.ruby=e.languages.extend("clike",{comment:{pattern:/#.*|^=begin\s[\s\S]*?^=end/m,greedy:!0},"class-name":{pattern:/(\b(?:class|module)\s+|\bcatch\s+\()[\w.\\]+|\b[A-Z_]\w*(?=\s*\.\s*new\b)/,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:BEGIN|END|alias|and|begin|break|case|class|def|define_method|defined|do|each|else|elsif|end|ensure|extend|for|if|in|include|module|new|next|nil|not|or|prepend|private|protected|public|raise|redo|require|rescue|retry|return|self|super|then|throw|undef|unless|until|when|while|yield)\b/,operator:/\.{2,3}|&\.|===|<?=>|[!=]?~|(?:&&|\|\||<<|>>|\*\*|[+\-*/%<>!^&|=])=?|[?:]/,punctuation:/[(){}[\].,;]/}),e.languages.insertBefore("ruby","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}});var t={pattern:/((?:^|[^\\])(?:\\{2})*)#\{(?:[^{}]|\{[^{}]*\})*\}/,lookbehind:!0,inside:{content:{pattern:/^(#\{)[\s\S]+(?=\}$)/,lookbehind:!0,inside:e.languages.ruby},delimiter:{pattern:/^#\{|\}$/,alias:"punctuation"}}},n=(delete e.languages.ruby.function,"(?:"+[/([^a-zA-Z0-9\s{(\[<=])(?:(?!\1)[^\\]|\\[\s\S])*\1/.source,/\((?:[^()\\]|\\[\s\S]|\((?:[^()\\]|\\[\s\S])*\))*\)/.source,/\{(?:[^{}\\]|\\[\s\S]|\{(?:[^{}\\]|\\[\s\S])*\})*\}/.source,/\[(?:[^\[\]\\]|\\[\s\S]|\[(?:[^\[\]\\]|\\[\s\S])*\])*\]/.source,/<(?:[^<>\\]|\\[\s\S]|<(?:[^<>\\]|\\[\s\S])*>)*>/.source].join("|")+")"),r=/(?:"(?:\\.|[^"\\\r\n])*"|(?:\b[a-zA-Z_]\w*|[^\s\0-\x7F]+)[?!]?|\$.)/.source;e.languages.insertBefore("ruby","keyword",{"regex-literal":[{pattern:RegExp(/%r/.source+n+/[egimnosux]{0,6}/.source),greedy:!0,inside:{interpolation:t,regex:/[\s\S]+/}},{pattern:/(^|[^/])\/(?!\/)(?:\[[^\r\n\]]+\]|\\.|[^[/\\\r\n])+\/[egimnosux]{0,6}(?=\s*(?:$|[\r\n,.;})#]))/,lookbehind:!0,greedy:!0,inside:{interpolation:t,regex:/[\s\S]+/}}],variable:/[@$]+[a-zA-Z_]\w*(?:[?!]|\b)/,symbol:[{pattern:RegExp(/(^|[^:]):/.source+r),lookbehind:!0,greedy:!0},{pattern:RegExp(/([\r\n{(,][ \t]*)/.source+r+/(?=:(?!:))/.source),lookbehind:!0,greedy:!0}],"method-definition":{pattern:/(\bdef\s+)\w+(?:\s*\.\s*\w+)?/,lookbehind:!0,inside:{function:/\b\w+$/,keyword:/^self\b/,"class-name":/^\w+/,punctuation:/\./}}}),e.languages.insertBefore("ruby","string",{"string-literal":[{pattern:RegExp(/%[qQiIwWs]?/.source+n),greedy:!0,inside:{interpolation:t,string:/[\s\S]+/}},{pattern:/("|')(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|(?!\1)[^\\#\r\n])*\1/,greedy:!0,inside:{interpolation:t,string:/[\s\S]+/}},{pattern:/<<[-~]?([a-z_]\w*)[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?[a-z_]\w*|\b[a-z_]\w*$/i,inside:{symbol:/\b\w+/,punctuation:/^<<[-~]?/}},interpolation:t,string:/[\s\S]+/}},{pattern:/<<[-~]?'([a-z_]\w*)'[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?'[a-z_]\w*'|\b[a-z_]\w*$/i,inside:{symbol:/\b\w+/,punctuation:/^<<[-~]?'|'$/}},string:/[\s\S]+/}}],"command-literal":[{pattern:RegExp(/%x/.source+n),greedy:!0,inside:{interpolation:t,command:{pattern:/[\s\S]+/,alias:"string"}}},{pattern:/`(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|[^\\`#\r\n])*`/,greedy:!0,inside:{interpolation:t,command:{pattern:/[\s\S]+/,alias:"string"}}}]}),delete e.languages.ruby.string,e.languages.insertBefore("ruby","number",{builtin:/\b(?:Array|Bignum|Binding|Class|Continuation|Dir|Exception|FalseClass|File|Fixnum|Float|Hash|IO|Integer|MatchData|Method|Module|NilClass|Numeric|Object|Proc|Range|Regexp|Stat|String|Struct|Symbol|TMS|Thread|ThreadGroup|Time|TrueClass)\b/,constant:/\b[A-Z][A-Z0-9_]*(?:[?!]|\b)/}),e.languages.rb=e.languages.ruby}(Prism),Prism.languages.json={property:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?=\s*:)/,lookbehind:!0,greedy:!0},string:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?!\s*:)/,lookbehind:!0,greedy:!0},comment:{pattern:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},number:/-?\b\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,punctuation:/[{}[\],]/,operator:/:/,boolean:/\b(?:false|true)\b/,null:{pattern:/\bnull\b/,alias:"keyword"}},Prism.languages.webmanifest=Prism.languages.json,!function(u){var t=/(?:\\.|[^\\\n\r]|(?:\n|\r\n?)(?![\r\n]))/.source;function e(e){return e=e.replace(/<inner>/g,function(){return t}),RegExp(/((?:^|[^\\])(?:\\{2})*)/.source+"(?:"+e+")")}var n=/(?:\\.|``(?:[^`\r\n]|`(?!`))+``|`[^`\r\n]+`|[^\\|\r\n`])+/.source,r=/\|?__(?:\|__)+\|?(?:(?:\n|\r\n?)|(?![\s\S]))/.source.replace(/__/g,function(){return n}),a=/\|?[ \t]*:?-{3,}:?[ \t]*(?:\|[ \t]*:?-{3,}:?[ \t]*)+\|?(?:\n|\r\n?)/.source,s=(u.languages.markdown=u.languages.extend("markup",{}),u.languages.insertBefore("markdown","prolog",{"front-matter-block":{pattern:/(^(?:\s*[\r\n])?)---(?!.)[\s\S]*?[\r\n]---(?!.)/,lookbehind:!0,greedy:!0,inside:{punctuation:/^---|---$/,"front-matter":{pattern:/\S+(?:\s+\S+)*/,alias:["yaml","language-yaml"],inside:u.languages.yaml}}},blockquote:{pattern:/^>(?:[\t ]*>)*/m,alias:"punctuation"},table:{pattern:RegExp("^"+r+a+"(?:"+r+")*","m"),inside:{"table-data-rows":{pattern:RegExp("^("+r+a+")(?:"+r+")*$"),lookbehind:!0,inside:{"table-data":{pattern:RegExp(n),inside:u.languages.markdown},punctuation:/\|/}},"table-line":{pattern:RegExp("^("+r+")"+a+"$"),lookbehind:!0,inside:{punctuation:/\||:?-{3,}:?/}},"table-header-row":{pattern:RegExp("^"+r+"$"),inside:{"table-header":{pattern:RegExp(n),alias:"important",inside:u.languages.markdown},punctuation:/\|/}}}},code:[{pattern:/((?:^|\n)[ \t]*\n|(?:^|\r\n?)[ \t]*\r\n?)(?: {4}|\t).+(?:(?:\n|\r\n?)(?: {4}|\t).+)*/,lookbehind:!0,alias:"keyword"},{pattern:/^```[\s\S]*?^```$/m,greedy:!0,inside:{"code-block":{pattern:/^(```.*(?:\n|\r\n?))[\s\S]+?(?=(?:\n|\r\n?)^```$)/m,lookbehind:!0},"code-language":{pattern:/^(```).+/,lookbehind:!0},punctuation:/```/}}],title:[{pattern:/\S.*(?:\n|\r\n?)(?:==+|--+)(?=[ \t]*$)/m,alias:"important",inside:{punctuation:/==+$|--+$/}},{pattern:/(^\s*)#.+/m,lookbehind:!0,alias:"important",inside:{punctuation:/^#+|#+$/}}],hr:{pattern:/(^\s*)([*-])(?:[\t ]*\2){2,}(?=\s*$)/m,lookbehind:!0,alias:"punctuation"},list:{pattern:/(^\s*)(?:[*+-]|\d+\.)(?=[\t ].)/m,lookbehind:!0,alias:"punctuation"},"url-reference":{pattern:/!?\[[^\]]+\]:[\t ]+(?:\S+|<(?:\\.|[^>\\])+>)(?:[\t ]+(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\)))?/,inside:{variable:{pattern:/^(!?\[)[^\]]+/,lookbehind:!0},string:/(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\))$/,punctuation:/^[\[\]!:]|[<>]/},alias:"url"},bold:{pattern:e(/\b__(?:(?!_)<inner>|_(?:(?!_)<inner>)+_)+__\b|\*\*(?:(?!\*)<inner>|\*(?:(?!\*)<inner>)+\*)+\*\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^..)[\s\S]+(?=..$)/,lookbehind:!0,inside:{}},punctuation:/\*\*|__/}},italic:{pattern:e(/\b_(?:(?!_)<inner>|__(?:(?!_)<inner>)+__)+_\b|\*(?:(?!\*)<inner>|\*\*(?:(?!\*)<inner>)+\*\*)+\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^.)[\s\S]+(?=.$)/,lookbehind:!0,inside:{}},punctuation:/[*_]/}},strike:{pattern:e(/(~~?)(?:(?!~)<inner>)+\2/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^~~?)[\s\S]+(?=\1$)/,lookbehind:!0,inside:{}},punctuation:/~~?/}},"code-snippet":{pattern:/(^|[^\\`])(?:``[^`\r\n]+(?:`[^`\r\n]+)*``(?!`)|`[^`\r\n]+`(?!`))/,lookbehind:!0,greedy:!0,alias:["code","keyword"]},url:{pattern:e(/!?\[(?:(?!\])<inner>)+\](?:\([^\s)]+(?:[\t ]+"(?:\\.|[^"\\])*")?\)|[ \t]?\[(?:(?!\])<inner>)+\])/.source),lookbehind:!0,greedy:!0,inside:{operator:/^!/,content:{pattern:/(^\[)[^\]]+(?=\])/,lookbehind:!0,inside:{}},variable:{pattern:/(^\][ \t]?\[)[^\]]+(?=\]$)/,lookbehind:!0},url:{pattern:/(^\]\()[^\s)]+/,lookbehind:!0},string:{pattern:/(^[ \t]+)"(?:\\.|[^"\\])*"(?=\)$)/,lookbehind:!0}}}}),["url","bold","italic","strike"].forEach(function(t){["url","bold","italic","strike","code-snippet"].forEach(function(e){t!==e&&(u.languages.markdown[t].inside.content.inside[e]=u.languages.markdown[e])})}),u.hooks.add("after-tokenize",function(e){"markdown"!==e.language&&"md"!==e.language||!function e(t){if(t&&"string"!=typeof t)for(var n=0,r=t.length;n<r;n++){var a,o=t[n];"code"!==o.type?e(o.content):(a=o.content[1],o=o.content[3],a&&o&&"code-language"===a.type&&"code-block"===o.type&&"string"==typeof a.content&&(a=a.content.replace(/\b#/g,"sharp").replace(/\b\+\+/g,"pp"),a="language-"+(a=(/[a-z][\w-]*/i.exec(a)||[""])[0].toLowerCase()),o.alias?"string"==typeof o.alias?o.alias=[o.alias,a]:o.alias.push(a):o.alias=[a]))}}(e.tokens)}),u.hooks.add("wrap",function(e){if("code-block"===e.type){for(var t="",n=0,r=e.classes.length;n<r;n++){var a=e.classes[n],a=/language-(.+)/.exec(a);if(a){t=a[1];break}}var o,i=u.languages[t];i?e.content=u.highlight(function(e){e=e.replace(s,"");return e=e.replace(/&(\w{1,8}|#x?[\da-f]{1,8});/gi,function(e,t){var n;return"#"===(t=t.toLowerCase())[0]?(n="x"===t[1]?parseInt(t.slice(2),16):Number(t.slice(1)),c(n)):l[t]||e})}(e.content),i,t):t&&"none"!==t&&u.plugins.autoloader&&(o="md-"+(new Date).valueOf()+"-"+Math.floor(1e16*Math.random()),e.attributes.id=o,u.plugins.autoloader.loadLanguages(t,function(){var e=document.getElementById(o);e&&(e.innerHTML=u.highlight(e.textContent,u.languages[t],t))}))}}),RegExp(u.languages.markup.tag.pattern.source,"gi")),l={amp:"&",lt:"<",gt:">",quot:'"'},c=String.fromCodePoint||String.fromCharCode;u.languages.md=u.languages.markdown}(Prism),Select$1.Option),EditMenu$1=function(e){var t,n=e.element,r=useSlate(),a=[];for(t in prism.languages)a.push(React.createElement(Option,{key:t,value:t},t));return React.createElement(Select$1,{value:n.language,onChange:function(e){setLanguage(r,n,e)},showSearch:!0,style:{width:"100%"},placeholder:"搜索语言",optionFilterProp:"children",filterOption:function(e,t){return 0<=t.children.toLowerCase().indexOf(e.toLowerCase())},filterSort:function(e,t){return e.children.toLowerCase().localeCompare(t.children.toLowerCase())}},a)},AddMenu$1=function(e){var t=useSlate(),n=e.element;return React.createElement(Button,{type:"text",icon:React.createElement(CodepenOutlined,{style:{color:"#262626"}}),style:{width:"100%",textAlign:"left"},onMouseDown:function(){setCode(t,n)}},"代码块")},withCode=function(f){var t=f.isEmpty,a=f.deleteBackward,p=f.insertFragment;return f.isEmpty=function(e){return"code"!==e.type&&t(e)},f.insertFragment=function(e){if(Array.isArray(e)){var t=f.selection;if(!t)return p(e);for(var n=t.anchor,t=t.focus,r=_toConsumableArray(Node.common(f,n.path,t.path)[1]);;){if(0==r.length)return p(e);var a=Node.get(f,r);if(a.type&&"code"==a.type)break;r=Path.parent(r)}var o,i=[],u=_createForOfIteratorHelper(e);try{for(u.s();!(o=u.n()).done;){var s=o.value;if("code"===s.type){var l,c=_createForOfIteratorHelper(s.children);try{for(c.s();!(l=c.n()).done;){var d=l.value;i.push({type:"codeLine",children:[{text:Node.string(d)}]})}}catch(e){c.e(e)}finally{c.f()}}else i.push({type:"codeLine",children:[{text:Node.string(s)}]})}}catch(e){u.e(e)}finally{u.f()}Transforms.insertNodes(f,i)}else p(e)},f.deleteBackward=function(e){var t=f.selection;if(t&&Range.isCollapsed(t)){var n=_slicedToArray(Editor.nodes(f,{match:function(e){return!Editor.isEditor(e)&&Element$a.isElement(e)&&"code"===e.type}}),1)[0];if(n){var n=_slicedToArray(n,2)[1],r=Editor.start(f,n);if(Point.equals(t.anchor,r))return Transforms.setNodes(f,{type:"paragraph"},{at:[].concat(_toConsumableArray(n),[0])}),void a(e)}}a(e)},f},withCodeLine=function(o){var t=o.isEmpty,i=o.insertBreak,u=o.insertText,n=o.onTabDown;return o.isEmpty=function(e){return"codeLine"!==e.type&&t(e)},o.onTabDown=function(){var e=Editor.above(o,{match:function(e){return Editor.isBlock(o,e)}});if(e){var e=_slicedToArray(e,2),t=e[0];if(e[1],!t.type||"codeLine"===t.type)return u("\t"),!0}return!!n&&n()},o.insertBreak=function(){var e=Editor.above(o,{match:function(e){return Editor.isBlock(o,e)}});if(e){var e=_slicedToArray(e,2),t=e[0],e=e[1];if(t.type&&"codeLine"==t.type){var n=Editor.string(o,e).split(/\t/);if(1===n.length)i();else{for(var r=[],a=0;a<n.length-1&&""==n[a];a++)r.push("\t");i(),0<r.length&&u(r.join(""))}return}}i()},o},CodeDcorate=function(e,t){var t=_slicedToArray(t,2),n=t[0],s=t[1];if(!n.language)return[];t=prism.languages[n.language];if(!t)return[];if(!n.children)return[];for(var r=[],a=0;a<n.children.length;a++)var o=s.concat(a),r=r.concat(Editor.string(e,o));var t=prism.tokenize(r.join("\n"),t),l=[],c=0,d=0;return function i(e){var u=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;e.forEach(function(e,t){if("string"==typeof e)-1<e.indexOf("\n")?(n=e.split(/\n/),c=n[n.length-1].length,d+=n.length-1):(u&&(n=s.concat(d),l.push({anchor:{path:n,offset:c},focus:{path:n,offset:c+e.length},codeType:u})),c+=e.length);else if("string"==typeof e.content){var n=e.content;if(-1<n.indexOf("\n"))for(var r=n.split(/\n/),a=0;a<r.length;a++){var o=s.concat(d);0===a?l.push({anchor:{path:o,offset:c},focus:{path:o,offset:c+r[a].length},codeType:e.type}):(l.push({anchor:{path:o,offset:0},focus:{path:o,offset:c+r[a].length},codeType:e.type}),c=r[a].length),a<r.length-1&&d++}else{n=s.concat(d);l.push({anchor:{path:n,offset:c},focus:{path:n,offset:c+e.length},codeType:e.type}),c+=e.length}}else i(e.content,e.alias||e.type)})}(t),l},codeColorConfig={comment:"slategray",operator:"#9a6e3a",url:"#9a6e3a",keyword:"#07a",variable:"#e90",regex:"#e90",number:"#905",boolean:"#905",tag:"#905",constant:"#905",symbol:"#905",selector:"#905","attr-name":"#905",punctuation:"#999",string:"#690",char:"#690",function:"#dd4a68","class-name":"#dd4a68",builtin:"#1d39c4"},Leaf=function(e){var t=e.attributes,n=e.children,e=e.leaf;return e.codeType&&codeColorConfig[e.codeType]?React.createElement("span",_extends({style:{color:codeColorConfig[e.codeType]}},t),n):React.createElement("span",t,n)},Code={type:"code",IsBlock:!0,AddMenu:AddMenu$1,EditMenu:EditMenu$1,Element:Element$2,Plugin:withCode,Decorate:CodeDcorate,Leaf:Leaf},CodeLine={type:"codeLine",IsBlock:!1,Element:CodeLineElement,Plugin:withCodeLine},setNodeTag=function(e,t,n,r){var a=4<arguments.length&&void 0!==arguments[4]?arguments[4]:null;a?Transforms.setNodes(e,_defineProperty$2({},n,r),{at:a}):t?(a=ReactEditor.findPath(e,t),Transforms.setNodes(e,_defineProperty$2({},n,r),{at:a})):Transforms.setNodes(e,_defineProperty$2({},n,r))},setVideo=function(e,t,n){t&&(t=ReactEditor.findPath(e,t),Transforms.setNodes(e,{type:"video",src:n,width:700,children:[{text:""}]},{at:t}))},setTextAlign=function(e,t,n){setNodeTag(e,t,"textAlign",n)},setWidth=function(e,t,n){n<40||2e3<n||setNodeTag(e,t,"width",n)},EditMenu=function(e){var t=useSlate(),n=e.element;return React.createElement(React.Fragment,null,React.createElement(Select,{selected:n.textAlign,buttons:textAlignButtonList,onChange:function(e){setTextAlign(t,n,e)}}),React.createElement("hr",{style:{border:"1px solid #f5f5f5"}}),React.createElement(Button,{size:"small",type:"text",icon:React.createElement(MinusCircleOutlined,{style:{color:"#389e0d"}}),onMouseDown:function(){setWidth(t,n,n.width-20)}}),React.createElement(Button,{size:"small",type:"text",icon:React.createElement(PlusCircleOutlined,{style:{color:"#f5222d"}}),onMouseDown:function(){setWidth(t,n,n.width+20)}}))},AddMenu=function(e){var a=useSlate(),o=e.element;return React.createElement(Popover,{content:React.createElement(React.Fragment,null,React.createElement(function(e){var t=_slicedToArray(useState(""),2),n=t[0],r=t[1];return React.createElement(React.Fragment,null,React.createElement("div",{style:{display:"inline-block",width:"280px"}},React.createElement(Input,{value:n,placeholder:"输入视频地址",onChange:function(e){return r(e.target.value)}}))," ",React.createElement(Single,{selected:!0,description:"video的url",content:"确认",onClick:function(){setVideo(a,o,n)}}))},null)),placement:"topRight"},React.createElement(Button,{type:"text",icon:React.createElement(VideoCameraOutlined,{style:{color:"#00474f"}}),style:{width:"100%",textAlign:"left"}},"视频"))},textAlignButtonList=[{key:"left",content:React.createElement(AlignLeftOutlined,null),description:"左对齐"},{key:"center",content:React.createElement(AlignCenterOutlined,null),description:"居中"},{key:"right",content:React.createElement(AlignRightOutlined,null),description:"右对齐"}],Element$1=memo(function(e){var t=e.attributes,n=e.children,e=e.element;return React.createElement("div",_extends({},t,{style:{width:"100%",textAlign:e.textAlign||"left"}}),React.createElement("iframe",{src:e.src,scrolling:"no",border:0,frameBorder:"no",framespacing:0,allowFullScreen:!0,style:{width:"".concat(e.width,"px"),height:"".concat(.7*e.width,"px"),maxWidth:"100%"}}),n)}),withVideo=function(e){var t=e.isEmpty,n=e.isVoid;return e.isEmpty=function(e){return"video"!==e.type&&t(e)},e.isVoid=function(e){return"video"===e.type||n(e)},e},Video={type:"video",IsBlock:!0,AddMenu:AddMenu,EditMenu:EditMenu,Element:Element$1,Plugin:withVideo},deleteNode=function(e,t){var n=(n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)||ReactEditor.findPath(e,t),r=_slicedToArray(Editor.node(e,{}),1)[0];1<getFromNodeEntry(r,Path.parent(n)).children.length?Transforms.removeNodes(e,{at:n}):(Transforms.removeNodes(e,{at:n}),Transforms.insertNodes(e,{type:"paragraph",children:[{text:""}]},{at:n}))},insertNextEmptyNode=function(e,t){t=ReactEditor.findPath(e,t);Transforms.insertNodes(e,{type:"paragraph",children:[{text:""}]},{at:Path.next(t)})},insertPreviousEmptyNode=function(e,t){t=ReactEditor.findPath(e,t);Transforms.insertNodes(e,{type:"paragraph",children:[{text:""}]},{at:t})},getFromNodeEntry=function(e,t){var n,r=e,a=_createForOfIteratorHelper(t);try{for(a.s();!(n=a.n()).done;)var o=n.value,r=r.children[o]}catch(e){a.e(e)}finally{a.f()}return r},Menu=function(e){function t(){return s?React.createElement(PlusCircleOutlined,null):React.createElement(EditOutlined,null)}function n(){return s?React.createElement(l,e):React.createElement(c,e)}var a=e.element,r=e.children,o=e.plugins,i=e.editMenu,u=useSlate(),s=u.isEmpty(a),l=function(e){for(var t=ReactEditor.findPath(u,a).length,n=[],r=0;r<o.length;r++)!o[r].IsBlock||o[r].Level&&o[r].Level<t||(n.push(React.createElement("span",{key:r},o[r].AddMenu(e))),n.push(React.createElement("hr",{key:"".concat(r,"hr"),style:{border:"1px solid #f5f5f5"}})));return React.createElement("div",{style:{width:"200px"}},n)},c=function(e){return React.createElement("div",{style:{width:"200px"}},i?i(e):null,i?React.createElement("hr",{style:{border:"1px solid #f5f5f5"}}):null,React.createElement(Button,{type:"text",icon:React.createElement(DeleteOutlined,{style:{color:"red"}}),style:{width:"100%",textAlign:"left"},onMouseDown:function(){return deleteNode(u,a)}},"清空当前行"),React.createElement("hr",{style:{border:"1px solid #f5f5f5"}}),React.createElement(Button,{type:"text",icon:React.createElement(UpCircleOutlined,{style:{color:"#096dd9"}}),style:{width:"100%",textAlign:"left"},onMouseDown:function(){return insertPreviousEmptyNode(u,a)}},"上方插入空白行"),React.createElement("hr",{style:{border:"1px solid #f5f5f5"}}),React.createElement(Button,{type:"text",icon:React.createElement(DownCircleOutlined,{style:{color:"#237804"}}),style:{width:"100%",textAlign:"left"},onMouseDown:function(){return insertNextEmptyNode(u,a)}},"下方插入空白行"))},d=_slicedToArray(useState(!1),2),f=d[0],p=d[1];return React.createElement(Popover,{content:React.createElement(function(){return React.createElement("div",{onMouseOver:function(){return p(!0)},onMouseLeave:function(){return p(!1)}},f?React.createElement(n,null):React.createElement(t,null))},null),placement:"leftTop"},React.createElement("div",{style:{backgroundColor:f?"#e6f7ff":""}},r))},defaultPlugins=[Paragraph,Link,Star,Card,Image,Table,TableRow,TableCell,TableCellMerged,Code,CodeLine,Divider,Hr,Video],withCommon=function(e){e.readOnly=!1,e.param={};var t=e.onChange,n=_$1.throttle(t,16);return e.onChange=function(){n()},e},SEditor=function(e){function t(e){for(var t=[],n=0;n<i.length;n++)i[n].LeafBar&&t.push(React.createElement("span",{key:i[n].type},i[n].LeafBar(e)));return React.createElement("div",null,t)}var n=e.value,r=e.onChange,a=e.plugins,o=e.param,e=!!e.readOnly,i=[].concat(defaultPlugins,_toConsumableArray(a)),u=useMemo(function(){for(var e=withCommon(withHistory(withReact(createEditor()))),t=i.length-1;0<=t;t--)i[t].Plugin&&(e=i[t].Plugin(e));return e},[]),a=(u.readOnly=e,u.param=o,useCallback(function(e){var t=e.attributes,n=e.children,r=e.element;r.type||(r.type="paragraph");for(var a=0;a<i.length;a++){var o=i[a].Element;if(i[a].type===r.type)return i[a].IsBlock?React.createElement(Menu,{element:r,plugins:i,editMenu:i[a].EditMenu},React.createElement(o,{attributes:t,children:n,element:r})):React.createElement(o,{attributes:t,children:n,element:r})}return React.createElement("span",t,n)},[])),o=useCallback(function(e){var t=e.attributes,n=e.children,r=e.element;r.type||(r.type="paragraph");for(var a=0;a<i.length;a++)if(i[a].type===r.type)return i[a].Element({attributes:t,children:n,element:r});return React.createElement("span",t,n)},[]),s=useCallback(function(e){for(var t=e.attributes,n=e.children,r=e.leaf,a=0;a<i.length;a++)i[a].Leaf&&(n=i[a].Leaf({attributes:t,children:n,leaf:r}));return React.createElement("span",t,n)},[]),l=useCallback(function(e){"Tab"==e.key&&u.onTabDown&&u.onTabDown()&&e.preventDefault()},[]),c=useCallback(function(e){for(var e=_slicedToArray(e,2),t=e[0],n=e[1],r=0;r<i.length;r++)if(i[r].Decorate&&i[r].type===t.type)return i[r].Decorate(u,[t,n]);return[]},[]);return React.createElement(Slate,{editor:u,value:n,onChange:r},e?null:React.createElement(React.Fragment,null,React.createElement(Affix,{offsetTop:0},React.createElement("div",{style:{padding:"10px",background:"#bae7ff"}},React.createElement(t,null))),React.createElement("br",null)),React.createElement(Editable,{style:{fontSize:"16px",fontFamily:"-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial,\n                    'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',\n                    'Noto Color Emoji'"},renderElement:e?o:a,renderLeaf:s,onKeyDown:l,decorate:c,spellCheck:!1,readOnly:e,scrollSelectionIntoView:function(e,t){},placeholder:"输入文本"}))};export{SEditor as default};
//# sourceMappingURL=index.js.map
