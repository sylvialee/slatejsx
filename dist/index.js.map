{"version":3,"file":"index.js","sources":["../node_modules/is-plain-object/dist/is-plain-object.mjs","../node_modules/immer/dist/immer.esm.mjs","../node_modules/slate/dist/index.es.js","../node_modules/direction/index.js","../node_modules/compute-scroll-into-view/dist/index.module.js","../node_modules/scroll-into-view-if-needed/es/index.js","../node_modules/is-hotkey/lib/index.js","../node_modules/slate-react/dist/index.es.js","../node_modules/slate-history/dist/index.es.js","../src/plugins/paragraph/utils/list.jsx","../src/plugins/paragraph/utils/node.jsx","../node_modules/is-url/index.js","../src/components/button/single.jsx","../src/components/button/select.jsx","../src/plugins/paragraph/element.jsx","../src/plugins/paragraph/leaf.jsx","../src/plugins/paragraph/utils/active.jsx","../src/components/button/muti.jsx","../src/plugins/paragraph/toolbar.jsx","../src/plugins/paragraph/plugin.jsx","../src/plugins/paragraph/menu.jsx","../src/plugins/paragraph/index.jsx","../src/plugins/card/utils/node.jsx","../src/plugins/card/utils/icon.jsx","../src/plugins/card/menu.jsx","../src/plugins/card/element.jsx","../src/plugins/card/plugin.jsx","../src/plugins/card/index.jsx","../src/plugins/image/utils/node.jsx","../src/util/imgExt.js","../src/plugins/image/menu.jsx","../src/plugins/image/utils/config.jsx","../src/plugins/image/element.jsx","../src/plugins/image/plugin.jsx","../src/plugins/image/index.jsx","../src/plugins/table/utils/node.jsx","../src/components/table-input/index.jsx","../src/plugins/table/menu.jsx","../src/plugins/table/element.jsx","../src/plugins/table/plugin.jsx","../src/plugins/table/toolbar.jsx","../src/plugins/table/index.jsx","../src/plugins/divider/utils/node.jsx","../src/plugins/divider/menu.jsx","../src/plugins/divider/element.jsx","../src/plugins/divider/plugin.jsx","../src/plugins/divider/index.jsx","../src/plugins/hr/utils/node.jsx","../src/plugins/hr/menu.jsx","../src/plugins/hr/element.jsx","../src/plugins/hr/plugin.jsx","../src/plugins/hr/index.jsx","../src/plugins/code/element.jsx","../src/plugins/code/utils/node.jsx","../node_modules/prismjs/prism.js","../src/plugins/code/menu.jsx","../node_modules/prismjs/components/prism-sql.js","../node_modules/prismjs/components/prism-go.js","../node_modules/prismjs/components/prism-python.js","../node_modules/prismjs/components/prism-typescript.js","../node_modules/prismjs/components/prism-php.js","../node_modules/prismjs/components/prism-c.js","../node_modules/prismjs/components/prism-java.js","../node_modules/prismjs/components/prism-ruby.js","../node_modules/prismjs/components/prism-json.js","../node_modules/prismjs/components/prism-markdown.js","../src/plugins/code/plugin.jsx","../src/plugins/code/deorate.jsx","../src/plugins/code/utils/config.jsx","../src/plugins/code/leaf.jsx","../src/plugins/code/index.jsx","../src/plugins/video/utils/node.jsx","../src/plugins/video/menu.jsx","../src/plugins/video/element.jsx","../src/plugins/video/plugin.jsx","../src/plugins/video/index.jsx","../src/node.js","../src/menu.jsx","../src/index.jsx"],"sourcesContent":["/*!\n * is-plain-object <https://github.com/jonschlinkert/is-plain-object>\n *\n * Copyright (c) 2014-2017, Jon Schlinkert.\n * Released under the MIT License.\n */\n\nfunction isObject(o) {\n  return Object.prototype.toString.call(o) === '[object Object]';\n}\n\nfunction isPlainObject(o) {\n  var ctor,prot;\n\n  if (isObject(o) === false) return false;\n\n  // If has modified constructor\n  ctor = o.constructor;\n  if (ctor === undefined) return true;\n\n  // If has modified prototype\n  prot = ctor.prototype;\n  if (isObject(prot) === false) return false;\n\n  // If constructor does not have an Object-specific method\n  if (prot.hasOwnProperty('isPrototypeOf') === false) {\n    return false;\n  }\n\n  // Most likely a plain Object\n  return true;\n}\n\nexport { isPlainObject };\n","function n(n){for(var r=arguments.length,t=Array(r>1?r-1:0),e=1;e<r;e++)t[e-1]=arguments[e];if(\"production\"!==process.env.NODE_ENV){var i=Y[n],o=i?\"function\"==typeof i?i.apply(null,t):i:\"unknown error nr: \"+n;throw Error(\"[Immer] \"+o)}throw Error(\"[Immer] minified error nr: \"+n+(t.length?\" \"+t.map((function(n){return\"'\"+n+\"'\"})).join(\",\"):\"\")+\". Find the full error at: https://bit.ly/3cXEKWf\")}function r(n){return!!n&&!!n[Q]}function t(n){var r;return!!n&&(function(n){if(!n||\"object\"!=typeof n)return!1;var r=Object.getPrototypeOf(n);if(null===r)return!0;var t=Object.hasOwnProperty.call(r,\"constructor\")&&r.constructor;return t===Object||\"function\"==typeof t&&Function.toString.call(t)===Z}(n)||Array.isArray(n)||!!n[L]||!!(null===(r=n.constructor)||void 0===r?void 0:r[L])||s(n)||v(n))}function e(t){return r(t)||n(23,t),t[Q].t}function i(n,r,t){void 0===t&&(t=!1),0===o(n)?(t?Object.keys:nn)(n).forEach((function(e){t&&\"symbol\"==typeof e||r(e,n[e],n)})):n.forEach((function(t,e){return r(e,t,n)}))}function o(n){var r=n[Q];return r?r.i>3?r.i-4:r.i:Array.isArray(n)?1:s(n)?2:v(n)?3:0}function u(n,r){return 2===o(n)?n.has(r):Object.prototype.hasOwnProperty.call(n,r)}function a(n,r){return 2===o(n)?n.get(r):n[r]}function f(n,r,t){var e=o(n);2===e?n.set(r,t):3===e?n.add(t):n[r]=t}function c(n,r){return n===r?0!==n||1/n==1/r:n!=n&&r!=r}function s(n){return X&&n instanceof Map}function v(n){return q&&n instanceof Set}function p(n){return n.o||n.t}function l(n){if(Array.isArray(n))return Array.prototype.slice.call(n);var r=rn(n);delete r[Q];for(var t=nn(r),e=0;e<t.length;e++){var i=t[e],o=r[i];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(r[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:n[i]})}return Object.create(Object.getPrototypeOf(n),r)}function d(n,e){return void 0===e&&(e=!1),y(n)||r(n)||!t(n)||(o(n)>1&&(n.set=n.add=n.clear=n.delete=h),Object.freeze(n),e&&i(n,(function(n,r){return d(r,!0)}),!0)),n}function h(){n(2)}function y(n){return null==n||\"object\"!=typeof n||Object.isFrozen(n)}function b(r){var t=tn[r];return t||n(18,r),t}function m(n,r){tn[n]||(tn[n]=r)}function _(){return\"production\"===process.env.NODE_ENV||U||n(0),U}function j(n,r){r&&(b(\"Patches\"),n.u=[],n.s=[],n.v=r)}function g(n){O(n),n.p.forEach(S),n.p=null}function O(n){n===U&&(U=n.l)}function w(n){return U={p:[],l:U,h:n,m:!0,_:0}}function S(n){var r=n[Q];0===r.i||1===r.i?r.j():r.g=!0}function P(r,e){e._=e.p.length;var i=e.p[0],o=void 0!==r&&r!==i;return e.h.O||b(\"ES5\").S(e,r,o),o?(i[Q].P&&(g(e),n(4)),t(r)&&(r=M(e,r),e.l||x(e,r)),e.u&&b(\"Patches\").M(i[Q].t,r,e.u,e.s)):r=M(e,i,[]),g(e),e.u&&e.v(e.u,e.s),r!==H?r:void 0}function M(n,r,t){if(y(r))return r;var e=r[Q];if(!e)return i(r,(function(i,o){return A(n,e,r,i,o,t)}),!0),r;if(e.A!==n)return r;if(!e.P)return x(n,e.t,!0),e.t;if(!e.I){e.I=!0,e.A._--;var o=4===e.i||5===e.i?e.o=l(e.k):e.o,u=o,a=!1;3===e.i&&(u=new Set(o),o.clear(),a=!0),i(u,(function(r,i){return A(n,e,o,r,i,t,a)})),x(n,o,!1),t&&n.u&&b(\"Patches\").N(e,t,n.u,n.s)}return e.o}function A(e,i,o,a,c,s,v){if(\"production\"!==process.env.NODE_ENV&&c===o&&n(5),r(c)){var p=M(e,c,s&&i&&3!==i.i&&!u(i.R,a)?s.concat(a):void 0);if(f(o,a,p),!r(p))return;e.m=!1}else v&&o.add(c);if(t(c)&&!y(c)){if(!e.h.D&&e._<1)return;M(e,c),i&&i.A.l||x(e,c)}}function x(n,r,t){void 0===t&&(t=!1),!n.l&&n.h.D&&n.m&&d(r,t)}function z(n,r){var t=n[Q];return(t?p(t):n)[r]}function I(n,r){if(r in n)for(var t=Object.getPrototypeOf(n);t;){var e=Object.getOwnPropertyDescriptor(t,r);if(e)return e;t=Object.getPrototypeOf(t)}}function k(n){n.P||(n.P=!0,n.l&&k(n.l))}function E(n){n.o||(n.o=l(n.t))}function N(n,r,t){var e=s(r)?b(\"MapSet\").F(r,t):v(r)?b(\"MapSet\").T(r,t):n.O?function(n,r){var t=Array.isArray(n),e={i:t?1:0,A:r?r.A:_(),P:!1,I:!1,R:{},l:r,t:n,k:null,o:null,j:null,C:!1},i=e,o=en;t&&(i=[e],o=on);var u=Proxy.revocable(i,o),a=u.revoke,f=u.proxy;return e.k=f,e.j=a,f}(r,t):b(\"ES5\").J(r,t);return(t?t.A:_()).p.push(e),e}function R(e){return r(e)||n(22,e),function n(r){if(!t(r))return r;var e,u=r[Q],c=o(r);if(u){if(!u.P&&(u.i<4||!b(\"ES5\").K(u)))return u.t;u.I=!0,e=D(r,c),u.I=!1}else e=D(r,c);return i(e,(function(r,t){u&&a(u.t,r)===t||f(e,r,n(t))})),3===c?new Set(e):e}(e)}function D(n,r){switch(r){case 2:return new Map(n);case 3:return Array.from(n)}return l(n)}function F(){function t(n,r){var t=s[n];return t?t.enumerable=r:s[n]=t={configurable:!0,enumerable:r,get:function(){var r=this[Q];return\"production\"!==process.env.NODE_ENV&&f(r),en.get(r,n)},set:function(r){var t=this[Q];\"production\"!==process.env.NODE_ENV&&f(t),en.set(t,n,r)}},t}function e(n){for(var r=n.length-1;r>=0;r--){var t=n[r][Q];if(!t.P)switch(t.i){case 5:a(t)&&k(t);break;case 4:o(t)&&k(t)}}}function o(n){for(var r=n.t,t=n.k,e=nn(t),i=e.length-1;i>=0;i--){var o=e[i];if(o!==Q){var a=r[o];if(void 0===a&&!u(r,o))return!0;var f=t[o],s=f&&f[Q];if(s?s.t!==a:!c(f,a))return!0}}var v=!!r[Q];return e.length!==nn(r).length+(v?0:1)}function a(n){var r=n.k;if(r.length!==n.t.length)return!0;var t=Object.getOwnPropertyDescriptor(r,r.length-1);if(t&&!t.get)return!0;for(var e=0;e<r.length;e++)if(!r.hasOwnProperty(e))return!0;return!1}function f(r){r.g&&n(3,JSON.stringify(p(r)))}var s={};m(\"ES5\",{J:function(n,r){var e=Array.isArray(n),i=function(n,r){if(n){for(var e=Array(r.length),i=0;i<r.length;i++)Object.defineProperty(e,\"\"+i,t(i,!0));return e}var o=rn(r);delete o[Q];for(var u=nn(o),a=0;a<u.length;a++){var f=u[a];o[f]=t(f,n||!!o[f].enumerable)}return Object.create(Object.getPrototypeOf(r),o)}(e,n),o={i:e?5:4,A:r?r.A:_(),P:!1,I:!1,R:{},l:r,t:n,k:i,o:null,g:!1,C:!1};return Object.defineProperty(i,Q,{value:o,writable:!0}),i},S:function(n,t,o){o?r(t)&&t[Q].A===n&&e(n.p):(n.u&&function n(r){if(r&&\"object\"==typeof r){var t=r[Q];if(t){var e=t.t,o=t.k,f=t.R,c=t.i;if(4===c)i(o,(function(r){r!==Q&&(void 0!==e[r]||u(e,r)?f[r]||n(o[r]):(f[r]=!0,k(t)))})),i(e,(function(n){void 0!==o[n]||u(o,n)||(f[n]=!1,k(t))}));else if(5===c){if(a(t)&&(k(t),f.length=!0),o.length<e.length)for(var s=o.length;s<e.length;s++)f[s]=!1;else for(var v=e.length;v<o.length;v++)f[v]=!0;for(var p=Math.min(o.length,e.length),l=0;l<p;l++)o.hasOwnProperty(l)||(f[l]=!0),void 0===f[l]&&n(o[l])}}}}(n.p[0]),e(n.p))},K:function(n){return 4===n.i?o(n):a(n)}})}function T(){function e(n){if(!t(n))return n;if(Array.isArray(n))return n.map(e);if(s(n))return new Map(Array.from(n.entries()).map((function(n){return[n[0],e(n[1])]})));if(v(n))return new Set(Array.from(n).map(e));var r=Object.create(Object.getPrototypeOf(n));for(var i in n)r[i]=e(n[i]);return u(n,L)&&(r[L]=n[L]),r}function f(n){return r(n)?e(n):n}var c=\"add\";m(\"Patches\",{$:function(r,t){return t.forEach((function(t){for(var i=t.path,u=t.op,f=r,s=0;s<i.length-1;s++){var v=o(f),p=i[s];\"string\"!=typeof p&&\"number\"!=typeof p&&(p=\"\"+p),0!==v&&1!==v||\"__proto__\"!==p&&\"constructor\"!==p||n(24),\"function\"==typeof f&&\"prototype\"===p&&n(24),\"object\"!=typeof(f=a(f,p))&&n(15,i.join(\"/\"))}var l=o(f),d=e(t.value),h=i[i.length-1];switch(u){case\"replace\":switch(l){case 2:return f.set(h,d);case 3:n(16);default:return f[h]=d}case c:switch(l){case 1:return\"-\"===h?f.push(d):f.splice(h,0,d);case 2:return f.set(h,d);case 3:return f.add(d);default:return f[h]=d}case\"remove\":switch(l){case 1:return f.splice(h,1);case 2:return f.delete(h);case 3:return f.delete(t.value);default:return delete f[h]}default:n(17,u)}})),r},N:function(n,r,t,e){switch(n.i){case 0:case 4:case 2:return function(n,r,t,e){var o=n.t,s=n.o;i(n.R,(function(n,i){var v=a(o,n),p=a(s,n),l=i?u(o,n)?\"replace\":c:\"remove\";if(v!==p||\"replace\"!==l){var d=r.concat(n);t.push(\"remove\"===l?{op:l,path:d}:{op:l,path:d,value:p}),e.push(l===c?{op:\"remove\",path:d}:\"remove\"===l?{op:c,path:d,value:f(v)}:{op:\"replace\",path:d,value:f(v)})}}))}(n,r,t,e);case 5:case 1:return function(n,r,t,e){var i=n.t,o=n.R,u=n.o;if(u.length<i.length){var a=[u,i];i=a[0],u=a[1];var s=[e,t];t=s[0],e=s[1]}for(var v=0;v<i.length;v++)if(o[v]&&u[v]!==i[v]){var p=r.concat([v]);t.push({op:\"replace\",path:p,value:f(u[v])}),e.push({op:\"replace\",path:p,value:f(i[v])})}for(var l=i.length;l<u.length;l++){var d=r.concat([l]);t.push({op:c,path:d,value:f(u[l])})}i.length<u.length&&e.push({op:\"replace\",path:r.concat([\"length\"]),value:i.length})}(n,r,t,e);case 3:return function(n,r,t,e){var i=n.t,o=n.o,u=0;i.forEach((function(n){if(!o.has(n)){var i=r.concat([u]);t.push({op:\"remove\",path:i,value:n}),e.unshift({op:c,path:i,value:n})}u++})),u=0,o.forEach((function(n){if(!i.has(n)){var o=r.concat([u]);t.push({op:c,path:o,value:n}),e.unshift({op:\"remove\",path:o,value:n})}u++}))}(n,r,t,e)}},M:function(n,r,t,e){t.push({op:\"replace\",path:[],value:r===H?void 0:r}),e.push({op:\"replace\",path:[],value:n})}})}function C(){function r(n,r){function t(){this.constructor=n}a(n,r),n.prototype=(t.prototype=r.prototype,new t)}function e(n){n.o||(n.R=new Map,n.o=new Map(n.t))}function o(n){n.o||(n.o=new Set,n.t.forEach((function(r){if(t(r)){var e=N(n.A.h,r,n);n.p.set(r,e),n.o.add(e)}else n.o.add(r)})))}function u(r){r.g&&n(3,JSON.stringify(p(r)))}var a=function(n,r){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var t in r)r.hasOwnProperty(t)&&(n[t]=r[t])})(n,r)},f=function(){function n(n,r){return this[Q]={i:2,l:r,A:r?r.A:_(),P:!1,I:!1,o:void 0,R:void 0,t:n,k:this,C:!1,g:!1},this}r(n,Map);var o=n.prototype;return Object.defineProperty(o,\"size\",{get:function(){return p(this[Q]).size}}),o.has=function(n){return p(this[Q]).has(n)},o.set=function(n,r){var t=this[Q];return u(t),p(t).has(n)&&p(t).get(n)===r||(e(t),k(t),t.R.set(n,!0),t.o.set(n,r),t.R.set(n,!0)),this},o.delete=function(n){if(!this.has(n))return!1;var r=this[Q];return u(r),e(r),k(r),r.t.has(n)?r.R.set(n,!1):r.R.delete(n),r.o.delete(n),!0},o.clear=function(){var n=this[Q];u(n),p(n).size&&(e(n),k(n),n.R=new Map,i(n.t,(function(r){n.R.set(r,!1)})),n.o.clear())},o.forEach=function(n,r){var t=this;p(this[Q]).forEach((function(e,i){n.call(r,t.get(i),i,t)}))},o.get=function(n){var r=this[Q];u(r);var i=p(r).get(n);if(r.I||!t(i))return i;if(i!==r.t.get(n))return i;var o=N(r.A.h,i,r);return e(r),r.o.set(n,o),o},o.keys=function(){return p(this[Q]).keys()},o.values=function(){var n,r=this,t=this.keys();return(n={})[V]=function(){return r.values()},n.next=function(){var n=t.next();return n.done?n:{done:!1,value:r.get(n.value)}},n},o.entries=function(){var n,r=this,t=this.keys();return(n={})[V]=function(){return r.entries()},n.next=function(){var n=t.next();if(n.done)return n;var e=r.get(n.value);return{done:!1,value:[n.value,e]}},n},o[V]=function(){return this.entries()},n}(),c=function(){function n(n,r){return this[Q]={i:3,l:r,A:r?r.A:_(),P:!1,I:!1,o:void 0,t:n,k:this,p:new Map,g:!1,C:!1},this}r(n,Set);var t=n.prototype;return Object.defineProperty(t,\"size\",{get:function(){return p(this[Q]).size}}),t.has=function(n){var r=this[Q];return u(r),r.o?!!r.o.has(n)||!(!r.p.has(n)||!r.o.has(r.p.get(n))):r.t.has(n)},t.add=function(n){var r=this[Q];return u(r),this.has(n)||(o(r),k(r),r.o.add(n)),this},t.delete=function(n){if(!this.has(n))return!1;var r=this[Q];return u(r),o(r),k(r),r.o.delete(n)||!!r.p.has(n)&&r.o.delete(r.p.get(n))},t.clear=function(){var n=this[Q];u(n),p(n).size&&(o(n),k(n),n.o.clear())},t.values=function(){var n=this[Q];return u(n),o(n),n.o.values()},t.entries=function(){var n=this[Q];return u(n),o(n),n.o.entries()},t.keys=function(){return this.values()},t[V]=function(){return this.values()},t.forEach=function(n,r){for(var t=this.values(),e=t.next();!e.done;)n.call(r,e.value,e.value,this),e=t.next()},n}();m(\"MapSet\",{F:function(n,r){return new f(n,r)},T:function(n,r){return new c(n,r)}})}function J(){F(),C(),T()}function K(n){return n}function $(n){return n}var G,U,W=\"undefined\"!=typeof Symbol&&\"symbol\"==typeof Symbol(\"x\"),X=\"undefined\"!=typeof Map,q=\"undefined\"!=typeof Set,B=\"undefined\"!=typeof Proxy&&void 0!==Proxy.revocable&&\"undefined\"!=typeof Reflect,H=W?Symbol.for(\"immer-nothing\"):((G={})[\"immer-nothing\"]=!0,G),L=W?Symbol.for(\"immer-draftable\"):\"__$immer_draftable\",Q=W?Symbol.for(\"immer-state\"):\"__$immer_state\",V=\"undefined\"!=typeof Symbol&&Symbol.iterator||\"@@iterator\",Y={0:\"Illegal state\",1:\"Immer drafts cannot have computed properties\",2:\"This object has been frozen and should not be mutated\",3:function(n){return\"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? \"+n},4:\"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.\",5:\"Immer forbids circular references\",6:\"The first or second argument to `produce` must be a function\",7:\"The third argument to `produce` must be a function or undefined\",8:\"First argument to `createDraft` must be a plain object, an array, or an immerable object\",9:\"First argument to `finishDraft` must be a draft returned by `createDraft`\",10:\"The given draft is already finalized\",11:\"Object.defineProperty() cannot be used on an Immer draft\",12:\"Object.setPrototypeOf() cannot be used on an Immer draft\",13:\"Immer only supports deleting array indices\",14:\"Immer only supports setting array indices and the 'length' property\",15:function(n){return\"Cannot apply patch, path doesn't resolve: \"+n},16:'Sets cannot have \"replace\" patches.',17:function(n){return\"Unsupported patch operation: \"+n},18:function(n){return\"The plugin for '\"+n+\"' has not been loaded into Immer. To enable the plugin, import and call `enable\"+n+\"()` when initializing your application.\"},20:\"Cannot use proxies if Proxy, Proxy.revocable or Reflect are not available\",21:function(n){return\"produce can only be called on things that are draftable: plain objects, arrays, Map, Set or classes that are marked with '[immerable]: true'. Got '\"+n+\"'\"},22:function(n){return\"'current' expects a draft, got: \"+n},23:function(n){return\"'original' expects a draft, got: \"+n},24:\"Patching reserved attributes like __proto__, prototype and constructor is not allowed\"},Z=\"\"+Object.prototype.constructor,nn=\"undefined\"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(n){return Object.getOwnPropertyNames(n).concat(Object.getOwnPropertySymbols(n))}:Object.getOwnPropertyNames,rn=Object.getOwnPropertyDescriptors||function(n){var r={};return nn(n).forEach((function(t){r[t]=Object.getOwnPropertyDescriptor(n,t)})),r},tn={},en={get:function(n,r){if(r===Q)return n;var e=p(n);if(!u(e,r))return function(n,r,t){var e,i=I(r,t);return i?\"value\"in i?i.value:null===(e=i.get)||void 0===e?void 0:e.call(n.k):void 0}(n,e,r);var i=e[r];return n.I||!t(i)?i:i===z(n.t,r)?(E(n),n.o[r]=N(n.A.h,i,n)):i},has:function(n,r){return r in p(n)},ownKeys:function(n){return Reflect.ownKeys(p(n))},set:function(n,r,t){var e=I(p(n),r);if(null==e?void 0:e.set)return e.set.call(n.k,t),!0;if(!n.P){var i=z(p(n),r),o=null==i?void 0:i[Q];if(o&&o.t===t)return n.o[r]=t,n.R[r]=!1,!0;if(c(t,i)&&(void 0!==t||u(n.t,r)))return!0;E(n),k(n)}return n.o[r]===t&&(void 0!==t||r in n.o)||Number.isNaN(t)&&Number.isNaN(n.o[r])||(n.o[r]=t,n.R[r]=!0),!0},deleteProperty:function(n,r){return void 0!==z(n.t,r)||r in n.t?(n.R[r]=!1,E(n),k(n)):delete n.R[r],n.o&&delete n.o[r],!0},getOwnPropertyDescriptor:function(n,r){var t=p(n),e=Reflect.getOwnPropertyDescriptor(t,r);return e?{writable:!0,configurable:1!==n.i||\"length\"!==r,enumerable:e.enumerable,value:t[r]}:e},defineProperty:function(){n(11)},getPrototypeOf:function(n){return Object.getPrototypeOf(n.t)},setPrototypeOf:function(){n(12)}},on={};i(en,(function(n,r){on[n]=function(){return arguments[0]=arguments[0][0],r.apply(this,arguments)}})),on.deleteProperty=function(r,t){return\"production\"!==process.env.NODE_ENV&&isNaN(parseInt(t))&&n(13),on.set.call(this,r,t,void 0)},on.set=function(r,t,e){return\"production\"!==process.env.NODE_ENV&&\"length\"!==t&&isNaN(parseInt(t))&&n(14),en.set.call(this,r[0],t,e,r[0])};var un=function(){function e(r){var e=this;this.O=B,this.D=!0,this.produce=function(r,i,o){if(\"function\"==typeof r&&\"function\"!=typeof i){var u=i;i=r;var a=e;return function(n){var r=this;void 0===n&&(n=u);for(var t=arguments.length,e=Array(t>1?t-1:0),o=1;o<t;o++)e[o-1]=arguments[o];return a.produce(n,(function(n){var t;return(t=i).call.apply(t,[r,n].concat(e))}))}}var f;if(\"function\"!=typeof i&&n(6),void 0!==o&&\"function\"!=typeof o&&n(7),t(r)){var c=w(e),s=N(e,r,void 0),v=!0;try{f=i(s),v=!1}finally{v?g(c):O(c)}return\"undefined\"!=typeof Promise&&f instanceof Promise?f.then((function(n){return j(c,o),P(n,c)}),(function(n){throw g(c),n})):(j(c,o),P(f,c))}if(!r||\"object\"!=typeof r){if(void 0===(f=i(r))&&(f=r),f===H&&(f=void 0),e.D&&d(f,!0),o){var p=[],l=[];b(\"Patches\").M(r,f,p,l),o(p,l)}return f}n(21,r)},this.produceWithPatches=function(n,r){if(\"function\"==typeof n)return function(r){for(var t=arguments.length,i=Array(t>1?t-1:0),o=1;o<t;o++)i[o-1]=arguments[o];return e.produceWithPatches(r,(function(r){return n.apply(void 0,[r].concat(i))}))};var t,i,o=e.produce(n,r,(function(n,r){t=n,i=r}));return\"undefined\"!=typeof Promise&&o instanceof Promise?o.then((function(n){return[n,t,i]})):[o,t,i]},\"boolean\"==typeof(null==r?void 0:r.useProxies)&&this.setUseProxies(r.useProxies),\"boolean\"==typeof(null==r?void 0:r.autoFreeze)&&this.setAutoFreeze(r.autoFreeze)}var i=e.prototype;return i.createDraft=function(e){t(e)||n(8),r(e)&&(e=R(e));var i=w(this),o=N(this,e,void 0);return o[Q].C=!0,O(i),o},i.finishDraft=function(r,t){var e=r&&r[Q];\"production\"!==process.env.NODE_ENV&&(e&&e.C||n(9),e.I&&n(10));var i=e.A;return j(i,t),P(void 0,i)},i.setAutoFreeze=function(n){this.D=n},i.setUseProxies=function(r){r&&!B&&n(20),this.O=r},i.applyPatches=function(n,t){var e;for(e=t.length-1;e>=0;e--){var i=t[e];if(0===i.path.length&&\"replace\"===i.op){n=i.value;break}}e>-1&&(t=t.slice(e+1));var o=b(\"Patches\").$;return r(n)?o(n,t):this.produce(n,(function(n){return o(n,t)}))},e}(),an=new un,fn=an.produce,cn=an.produceWithPatches.bind(an),sn=an.setAutoFreeze.bind(an),vn=an.setUseProxies.bind(an),pn=an.applyPatches.bind(an),ln=an.createDraft.bind(an),dn=an.finishDraft.bind(an);export default fn;export{un as Immer,pn as applyPatches,K as castDraft,$ as castImmutable,ln as createDraft,R as current,J as enableAllPlugins,F as enableES5,C as enableMapSet,T as enablePatches,dn as finishDraft,d as freeze,L as immerable,r as isDraft,t as isDraftable,H as nothing,e as original,fn as produce,cn as produceWithPatches,sn as setAutoFreeze,vn as setUseProxies};\n//# sourceMappingURL=immer.esm.js.map\n","import { isPlainObject } from 'is-plain-object';\nimport { produce, createDraft, finishDraft, isDraft } from 'immer';\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar DIRTY_PATHS = new WeakMap();\nvar DIRTY_PATH_KEYS = new WeakMap();\nvar FLUSHING = new WeakMap();\nvar NORMALIZING = new WeakMap();\nvar PATH_REFS = new WeakMap();\nvar POINT_REFS = new WeakMap();\nvar RANGE_REFS = new WeakMap();\n\nfunction ownKeys$9(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$9(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys$9(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys$9(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n/**\r\n * Create a new Slate `Editor` object.\r\n */\n\nvar createEditor = () => {\n  var editor = {\n    children: [],\n    operations: [],\n    selection: null,\n    marks: null,\n    isInline: () => false,\n    isVoid: () => false,\n    onChange: () => {},\n    apply: op => {\n      for (var ref of Editor.pathRefs(editor)) {\n        PathRef.transform(ref, op);\n      }\n\n      for (var _ref of Editor.pointRefs(editor)) {\n        PointRef.transform(_ref, op);\n      }\n\n      for (var _ref2 of Editor.rangeRefs(editor)) {\n        RangeRef.transform(_ref2, op);\n      }\n\n      var oldDirtyPaths = DIRTY_PATHS.get(editor) || [];\n      var oldDirtyPathKeys = DIRTY_PATH_KEYS.get(editor) || new Set();\n      var dirtyPaths;\n      var dirtyPathKeys;\n\n      var add = path => {\n        if (path) {\n          var key = path.join(',');\n\n          if (!dirtyPathKeys.has(key)) {\n            dirtyPathKeys.add(key);\n            dirtyPaths.push(path);\n          }\n        }\n      };\n\n      if (Path.operationCanTransformPath(op)) {\n        dirtyPaths = [];\n        dirtyPathKeys = new Set();\n\n        for (var path of oldDirtyPaths) {\n          var newPath = Path.transform(path, op);\n          add(newPath);\n        }\n      } else {\n        dirtyPaths = oldDirtyPaths;\n        dirtyPathKeys = oldDirtyPathKeys;\n      }\n\n      var newDirtyPaths = getDirtyPaths(op);\n\n      for (var _path of newDirtyPaths) {\n        add(_path);\n      }\n\n      DIRTY_PATHS.set(editor, dirtyPaths);\n      DIRTY_PATH_KEYS.set(editor, dirtyPathKeys);\n      Transforms.transform(editor, op);\n      editor.operations.push(op);\n      Editor.normalize(editor); // Clear any formats applied to the cursor if the selection changes.\n\n      if (op.type === 'set_selection') {\n        editor.marks = null;\n      }\n\n      if (!FLUSHING.get(editor)) {\n        FLUSHING.set(editor, true);\n        Promise.resolve().then(() => {\n          FLUSHING.set(editor, false);\n          editor.onChange();\n          editor.operations = [];\n        });\n      }\n    },\n    addMark: (key, value) => {\n      var {\n        selection\n      } = editor;\n\n      if (selection) {\n        if (Range.isExpanded(selection)) {\n          Transforms.setNodes(editor, {\n            [key]: value\n          }, {\n            match: Text.isText,\n            split: true\n          });\n        } else {\n          var marks = _objectSpread$9(_objectSpread$9({}, Editor.marks(editor) || {}), {}, {\n            [key]: value\n          });\n\n          editor.marks = marks;\n\n          if (!FLUSHING.get(editor)) {\n            editor.onChange();\n          }\n        }\n      }\n    },\n    deleteBackward: unit => {\n      var {\n        selection\n      } = editor;\n\n      if (selection && Range.isCollapsed(selection)) {\n        Transforms.delete(editor, {\n          unit,\n          reverse: true\n        });\n      }\n    },\n    deleteForward: unit => {\n      var {\n        selection\n      } = editor;\n\n      if (selection && Range.isCollapsed(selection)) {\n        Transforms.delete(editor, {\n          unit\n        });\n      }\n    },\n    deleteFragment: direction => {\n      var {\n        selection\n      } = editor;\n\n      if (selection && Range.isExpanded(selection)) {\n        Transforms.delete(editor, {\n          reverse: direction === 'backward'\n        });\n      }\n    },\n    getFragment: () => {\n      var {\n        selection\n      } = editor;\n\n      if (selection) {\n        return Node.fragment(editor, selection);\n      }\n\n      return [];\n    },\n    insertBreak: () => {\n      Transforms.splitNodes(editor, {\n        always: true\n      });\n    },\n    insertFragment: fragment => {\n      Transforms.insertFragment(editor, fragment);\n    },\n    insertNode: node => {\n      Transforms.insertNodes(editor, node);\n    },\n    insertText: text => {\n      var {\n        selection,\n        marks\n      } = editor;\n\n      if (selection) {\n        if (marks) {\n          var node = _objectSpread$9({\n            text\n          }, marks);\n\n          Transforms.insertNodes(editor, node);\n        } else {\n          Transforms.insertText(editor, text);\n        }\n\n        editor.marks = null;\n      }\n    },\n    normalizeNode: entry => {\n      var [node, path] = entry; // There are no core normalizations for text nodes.\n\n      if (Text.isText(node)) {\n        return;\n      } // Ensure that block and inline nodes have at least one text child.\n\n\n      if (Element.isElement(node) && node.children.length === 0) {\n        var child = {\n          text: ''\n        };\n        Transforms.insertNodes(editor, child, {\n          at: path.concat(0),\n          voids: true\n        });\n        return;\n      } // Determine whether the node should have block or inline children.\n\n\n      var shouldHaveInlines = Editor.isEditor(node) ? false : Element.isElement(node) && (editor.isInline(node) || node.children.length === 0 || Text.isText(node.children[0]) || editor.isInline(node.children[0])); // Since we'll be applying operations while iterating, keep track of an\n      // index that accounts for any added/removed nodes.\n\n      var n = 0;\n\n      for (var i = 0; i < node.children.length; i++, n++) {\n        var currentNode = Node.get(editor, path);\n        if (Text.isText(currentNode)) continue;\n        var _child = node.children[i];\n        var prev = currentNode.children[n - 1];\n        var isLast = i === node.children.length - 1;\n        var isInlineOrText = Text.isText(_child) || Element.isElement(_child) && editor.isInline(_child); // Only allow block nodes in the top-level children and parent blocks\n        // that only contain block nodes. Similarly, only allow inline nodes in\n        // other inline nodes, or parent blocks that only contain inlines and\n        // text.\n\n        if (isInlineOrText !== shouldHaveInlines) {\n          Transforms.removeNodes(editor, {\n            at: path.concat(n),\n            voids: true\n          });\n          n--;\n        } else if (Element.isElement(_child)) {\n          // Ensure that inline nodes are surrounded by text nodes.\n          if (editor.isInline(_child)) {\n            if (prev == null || !Text.isText(prev)) {\n              var newChild = {\n                text: ''\n              };\n              Transforms.insertNodes(editor, newChild, {\n                at: path.concat(n),\n                voids: true\n              });\n              n++;\n            } else if (isLast) {\n              var _newChild = {\n                text: ''\n              };\n              Transforms.insertNodes(editor, _newChild, {\n                at: path.concat(n + 1),\n                voids: true\n              });\n              n++;\n            }\n          }\n        } else {\n          // Merge adjacent text nodes that are empty or match.\n          if (prev != null && Text.isText(prev)) {\n            if (Text.equals(_child, prev, {\n              loose: true\n            })) {\n              Transforms.mergeNodes(editor, {\n                at: path.concat(n),\n                voids: true\n              });\n              n--;\n            } else if (prev.text === '') {\n              Transforms.removeNodes(editor, {\n                at: path.concat(n - 1),\n                voids: true\n              });\n              n--;\n            } else if (_child.text === '') {\n              Transforms.removeNodes(editor, {\n                at: path.concat(n),\n                voids: true\n              });\n              n--;\n            }\n          }\n        }\n      }\n    },\n    removeMark: key => {\n      var {\n        selection\n      } = editor;\n\n      if (selection) {\n        if (Range.isExpanded(selection)) {\n          Transforms.unsetNodes(editor, key, {\n            match: Text.isText,\n            split: true\n          });\n        } else {\n          var marks = _objectSpread$9({}, Editor.marks(editor) || {});\n\n          delete marks[key];\n          editor.marks = marks;\n\n          if (!FLUSHING.get(editor)) {\n            editor.onChange();\n          }\n        }\n      }\n    }\n  };\n  return editor;\n};\n/**\r\n * Get the \"dirty\" paths generated from an operation.\r\n */\n\nvar getDirtyPaths = op => {\n  switch (op.type) {\n    case 'insert_text':\n    case 'remove_text':\n    case 'set_node':\n      {\n        var {\n          path\n        } = op;\n        return Path.levels(path);\n      }\n\n    case 'insert_node':\n      {\n        var {\n          node,\n          path: _path2\n        } = op;\n        var levels = Path.levels(_path2);\n        var descendants = Text.isText(node) ? [] : Array.from(Node.nodes(node), _ref3 => {\n          var [, p] = _ref3;\n          return _path2.concat(p);\n        });\n        return [...levels, ...descendants];\n      }\n\n    case 'merge_node':\n      {\n        var {\n          path: _path3\n        } = op;\n        var ancestors = Path.ancestors(_path3);\n        var previousPath = Path.previous(_path3);\n        return [...ancestors, previousPath];\n      }\n\n    case 'move_node':\n      {\n        var {\n          path: _path4,\n          newPath\n        } = op;\n\n        if (Path.equals(_path4, newPath)) {\n          return [];\n        }\n\n        var oldAncestors = [];\n        var newAncestors = [];\n\n        for (var ancestor of Path.ancestors(_path4)) {\n          var p = Path.transform(ancestor, op);\n          oldAncestors.push(p);\n        }\n\n        for (var _ancestor of Path.ancestors(newPath)) {\n          var _p = Path.transform(_ancestor, op);\n\n          newAncestors.push(_p);\n        }\n\n        var newParent = newAncestors[newAncestors.length - 1];\n        var newIndex = newPath[newPath.length - 1];\n        var resultPath = newParent.concat(newIndex);\n        return [...oldAncestors, ...newAncestors, resultPath];\n      }\n\n    case 'remove_node':\n      {\n        var {\n          path: _path5\n        } = op;\n\n        var _ancestors = Path.ancestors(_path5);\n\n        return [..._ancestors];\n      }\n\n    case 'split_node':\n      {\n        var {\n          path: _path6\n        } = op;\n\n        var _levels = Path.levels(_path6);\n\n        var nextPath = Path.next(_path6);\n        return [..._levels, nextPath];\n      }\n\n    default:\n      {\n        return [];\n      }\n  }\n};\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\n// Character (grapheme cluster) boundaries are determined according to\n// the default grapheme cluster boundary specification, extended grapheme clusters variant[1].\n//\n// References:\n//\n// [1] https://www.unicode.org/reports/tr29/#Default_Grapheme_Cluster_Table\n// [2] https://www.unicode.org/Public/UCD/latest/ucd/auxiliary/GraphemeBreakProperty.txt\n// [3] https://www.unicode.org/Public/UCD/latest/ucd/auxiliary/GraphemeBreakTest.html\n// [4] https://www.unicode.org/Public/UCD/latest/ucd/auxiliary/GraphemeBreakTest.txt\n\n/**\r\n * Get the distance to the end of the first character in a string of text.\r\n */\nvar getCharacterDistance = function getCharacterDistance(str) {\n  var isRTL = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  var isLTR = !isRTL;\n  var codepoints = isRTL ? codepointsIteratorRTL(str) : str;\n  var left = CodepointType.None;\n  var right = CodepointType.None;\n  var distance = 0; // Evaluation of these conditions are deferred.\n\n  var gb11 = null; // Is GB11 applicable?\n\n  var gb12Or13 = null; // Is GB12 or GB13 applicable?\n\n  for (var char of codepoints) {\n    var code = char.codePointAt(0);\n    if (!code) break;\n    var type = getCodepointType(char, code);\n    [left, right] = isLTR ? [right, type] : [type, left];\n\n    if (intersects(left, CodepointType.ZWJ) && intersects(right, CodepointType.ExtPict)) {\n      if (isLTR) {\n        gb11 = endsWithEmojiZWJ(str.substring(0, distance));\n      } else {\n        gb11 = endsWithEmojiZWJ(str.substring(0, str.length - distance));\n      }\n\n      if (!gb11) break;\n    }\n\n    if (intersects(left, CodepointType.RI) && intersects(right, CodepointType.RI)) {\n      if (gb12Or13 !== null) {\n        gb12Or13 = !gb12Or13;\n      } else {\n        if (isLTR) {\n          gb12Or13 = true;\n        } else {\n          gb12Or13 = endsWithOddNumberOfRIs(str.substring(0, str.length - distance));\n        }\n      }\n\n      if (!gb12Or13) break;\n    }\n\n    if (left !== CodepointType.None && right !== CodepointType.None && isBoundaryPair(left, right)) {\n      break;\n    }\n\n    distance += char.length;\n  }\n\n  return distance || 1;\n};\nvar SPACE = /\\s/;\nvar PUNCTUATION = /[\\u0021-\\u0023\\u0025-\\u002A\\u002C-\\u002F\\u003A\\u003B\\u003F\\u0040\\u005B-\\u005D\\u005F\\u007B\\u007D\\u00A1\\u00A7\\u00AB\\u00B6\\u00B7\\u00BB\\u00BF\\u037E\\u0387\\u055A-\\u055F\\u0589\\u058A\\u05BE\\u05C0\\u05C3\\u05C6\\u05F3\\u05F4\\u0609\\u060A\\u060C\\u060D\\u061B\\u061E\\u061F\\u066A-\\u066D\\u06D4\\u0700-\\u070D\\u07F7-\\u07F9\\u0830-\\u083E\\u085E\\u0964\\u0965\\u0970\\u0AF0\\u0DF4\\u0E4F\\u0E5A\\u0E5B\\u0F04-\\u0F12\\u0F14\\u0F3A-\\u0F3D\\u0F85\\u0FD0-\\u0FD4\\u0FD9\\u0FDA\\u104A-\\u104F\\u10FB\\u1360-\\u1368\\u1400\\u166D\\u166E\\u169B\\u169C\\u16EB-\\u16ED\\u1735\\u1736\\u17D4-\\u17D6\\u17D8-\\u17DA\\u1800-\\u180A\\u1944\\u1945\\u1A1E\\u1A1F\\u1AA0-\\u1AA6\\u1AA8-\\u1AAD\\u1B5A-\\u1B60\\u1BFC-\\u1BFF\\u1C3B-\\u1C3F\\u1C7E\\u1C7F\\u1CC0-\\u1CC7\\u1CD3\\u2010-\\u2027\\u2030-\\u2043\\u2045-\\u2051\\u2053-\\u205E\\u207D\\u207E\\u208D\\u208E\\u2329\\u232A\\u2768-\\u2775\\u27C5\\u27C6\\u27E6-\\u27EF\\u2983-\\u2998\\u29D8-\\u29DB\\u29FC\\u29FD\\u2CF9-\\u2CFC\\u2CFE\\u2CFF\\u2D70\\u2E00-\\u2E2E\\u2E30-\\u2E3B\\u3001-\\u3003\\u3008-\\u3011\\u3014-\\u301F\\u3030\\u303D\\u30A0\\u30FB\\uA4FE\\uA4FF\\uA60D-\\uA60F\\uA673\\uA67E\\uA6F2-\\uA6F7\\uA874-\\uA877\\uA8CE\\uA8CF\\uA8F8-\\uA8FA\\uA92E\\uA92F\\uA95F\\uA9C1-\\uA9CD\\uA9DE\\uA9DF\\uAA5C-\\uAA5F\\uAADE\\uAADF\\uAAF0\\uAAF1\\uABEB\\uFD3E\\uFD3F\\uFE10-\\uFE19\\uFE30-\\uFE52\\uFE54-\\uFE61\\uFE63\\uFE68\\uFE6A\\uFE6B\\uFF01-\\uFF03\\uFF05-\\uFF0A\\uFF0C-\\uFF0F\\uFF1A\\uFF1B\\uFF1F\\uFF20\\uFF3B-\\uFF3D\\uFF3F\\uFF5B\\uFF5D\\uFF5F-\\uFF65]/;\nvar CHAMELEON = /['\\u2018\\u2019]/;\n/**\r\n * Get the distance to the end of the first word in a string of text.\r\n */\n\nvar getWordDistance = function getWordDistance(text) {\n  var isRTL = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  var dist = 0;\n  var started = false;\n\n  while (text.length > 0) {\n    var charDist = getCharacterDistance(text, isRTL);\n    var [char, remaining] = splitByCharacterDistance(text, charDist, isRTL);\n\n    if (isWordCharacter(char, remaining, isRTL)) {\n      started = true;\n      dist += charDist;\n    } else if (!started) {\n      dist += charDist;\n    } else {\n      break;\n    }\n\n    text = remaining;\n  }\n\n  return dist;\n};\n/**\r\n * Split a string in two parts at a given distance starting from the end when\r\n * `isRTL` is set to `true`.\r\n */\n\nvar splitByCharacterDistance = (str, dist, isRTL) => {\n  if (isRTL) {\n    var at = str.length - dist;\n    return [str.slice(at, str.length), str.slice(0, at)];\n  }\n\n  return [str.slice(0, dist), str.slice(dist)];\n};\n/**\r\n * Check if a character is a word character. The `remaining` argument is used\r\n * because sometimes you must read subsequent characters to truly determine it.\r\n */\n\nvar isWordCharacter = function isWordCharacter(char, remaining) {\n  var isRTL = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n  if (SPACE.test(char)) {\n    return false;\n  } // Chameleons count as word characters as long as they're in a word, so\n  // recurse to see if the next one is a word character or not.\n\n\n  if (CHAMELEON.test(char)) {\n    var charDist = getCharacterDistance(remaining, isRTL);\n    var [nextChar, nextRemaining] = splitByCharacterDistance(remaining, charDist, isRTL);\n\n    if (isWordCharacter(nextChar, nextRemaining, isRTL)) {\n      return true;\n    }\n  }\n\n  if (PUNCTUATION.test(char)) {\n    return false;\n  }\n\n  return true;\n};\n/**\r\n * Iterate on codepoints from right to left.\r\n */\n\n\nvar codepointsIteratorRTL = function* codepointsIteratorRTL(str) {\n  var end = str.length - 1;\n\n  for (var i = 0; i < str.length; i++) {\n    var char1 = str.charAt(end - i);\n\n    if (isLowSurrogate(char1.charCodeAt(0))) {\n      var char2 = str.charAt(end - i - 1);\n\n      if (isHighSurrogate(char2.charCodeAt(0))) {\n        yield char2 + char1;\n        i++;\n        continue;\n      }\n    }\n\n    yield char1;\n  }\n};\n/**\r\n * Is `charCode` a high surrogate.\r\n *\r\n * https://en.wikipedia.org/wiki/Universal_Character_Set_characters#Surrogates\r\n */\n\nvar isHighSurrogate = charCode => {\n  return charCode >= 0xd800 && charCode <= 0xdbff;\n};\n/**\r\n * Is `charCode` a low surrogate.\r\n *\r\n * https://en.wikipedia.org/wiki/Universal_Character_Set_characters#Surrogates\r\n */\n\n\nvar isLowSurrogate = charCode => {\n  return charCode >= 0xdc00 && charCode <= 0xdfff;\n};\n\nvar CodepointType;\n\n(function (CodepointType) {\n  CodepointType[CodepointType[\"None\"] = 0] = \"None\";\n  CodepointType[CodepointType[\"Extend\"] = 1] = \"Extend\";\n  CodepointType[CodepointType[\"ZWJ\"] = 2] = \"ZWJ\";\n  CodepointType[CodepointType[\"RI\"] = 4] = \"RI\";\n  CodepointType[CodepointType[\"Prepend\"] = 8] = \"Prepend\";\n  CodepointType[CodepointType[\"SpacingMark\"] = 16] = \"SpacingMark\";\n  CodepointType[CodepointType[\"L\"] = 32] = \"L\";\n  CodepointType[CodepointType[\"V\"] = 64] = \"V\";\n  CodepointType[CodepointType[\"T\"] = 128] = \"T\";\n  CodepointType[CodepointType[\"LV\"] = 256] = \"LV\";\n  CodepointType[CodepointType[\"LVT\"] = 512] = \"LVT\";\n  CodepointType[CodepointType[\"ExtPict\"] = 1024] = \"ExtPict\";\n  CodepointType[CodepointType[\"Any\"] = 2048] = \"Any\";\n})(CodepointType || (CodepointType = {}));\n\nvar reExtend = /^(?:[\\u0300-\\u036F\\u0483-\\u0489\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u0610-\\u061A\\u064B-\\u065F\\u0670\\u06D6-\\u06DC\\u06DF-\\u06E4\\u06E7\\u06E8\\u06EA-\\u06ED\\u0711\\u0730-\\u074A\\u07A6-\\u07B0\\u07EB-\\u07F3\\u07FD\\u0816-\\u0819\\u081B-\\u0823\\u0825-\\u0827\\u0829-\\u082D\\u0859-\\u085B\\u08D3-\\u08E1\\u08E3-\\u0902\\u093A\\u093C\\u0941-\\u0948\\u094D\\u0951-\\u0957\\u0962\\u0963\\u0981\\u09BC\\u09BE\\u09C1-\\u09C4\\u09CD\\u09D7\\u09E2\\u09E3\\u09FE\\u0A01\\u0A02\\u0A3C\\u0A41\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A70\\u0A71\\u0A75\\u0A81\\u0A82\\u0ABC\\u0AC1-\\u0AC5\\u0AC7\\u0AC8\\u0ACD\\u0AE2\\u0AE3\\u0AFA-\\u0AFF\\u0B01\\u0B3C\\u0B3E\\u0B3F\\u0B41-\\u0B44\\u0B4D\\u0B55-\\u0B57\\u0B62\\u0B63\\u0B82\\u0BBE\\u0BC0\\u0BCD\\u0BD7\\u0C00\\u0C04\\u0C3E-\\u0C40\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C62\\u0C63\\u0C81\\u0CBC\\u0CBF\\u0CC2\\u0CC6\\u0CCC\\u0CCD\\u0CD5\\u0CD6\\u0CE2\\u0CE3\\u0D00\\u0D01\\u0D3B\\u0D3C\\u0D3E\\u0D41-\\u0D44\\u0D4D\\u0D57\\u0D62\\u0D63\\u0D81\\u0DCA\\u0DCF\\u0DD2-\\u0DD4\\u0DD6\\u0DDF\\u0E31\\u0E34-\\u0E3A\\u0E47-\\u0E4E\\u0EB1\\u0EB4-\\u0EBC\\u0EC8-\\u0ECD\\u0F18\\u0F19\\u0F35\\u0F37\\u0F39\\u0F71-\\u0F7E\\u0F80-\\u0F84\\u0F86\\u0F87\\u0F8D-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u102D-\\u1030\\u1032-\\u1037\\u1039\\u103A\\u103D\\u103E\\u1058\\u1059\\u105E-\\u1060\\u1071-\\u1074\\u1082\\u1085\\u1086\\u108D\\u109D\\u135D-\\u135F\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17B4\\u17B5\\u17B7-\\u17BD\\u17C6\\u17C9-\\u17D3\\u17DD\\u180B-\\u180D\\u1885\\u1886\\u18A9\\u1920-\\u1922\\u1927\\u1928\\u1932\\u1939-\\u193B\\u1A17\\u1A18\\u1A1B\\u1A56\\u1A58-\\u1A5E\\u1A60\\u1A62\\u1A65-\\u1A6C\\u1A73-\\u1A7C\\u1A7F\\u1AB0-\\u1AC0\\u1B00-\\u1B03\\u1B34-\\u1B3A\\u1B3C\\u1B42\\u1B6B-\\u1B73\\u1B80\\u1B81\\u1BA2-\\u1BA5\\u1BA8\\u1BA9\\u1BAB-\\u1BAD\\u1BE6\\u1BE8\\u1BE9\\u1BED\\u1BEF-\\u1BF1\\u1C2C-\\u1C33\\u1C36\\u1C37\\u1CD0-\\u1CD2\\u1CD4-\\u1CE0\\u1CE2-\\u1CE8\\u1CED\\u1CF4\\u1CF8\\u1CF9\\u1DC0-\\u1DF9\\u1DFB-\\u1DFF\\u200C\\u20D0-\\u20F0\\u2CEF-\\u2CF1\\u2D7F\\u2DE0-\\u2DFF\\u302A-\\u302F\\u3099\\u309A\\uA66F-\\uA672\\uA674-\\uA67D\\uA69E\\uA69F\\uA6F0\\uA6F1\\uA802\\uA806\\uA80B\\uA825\\uA826\\uA82C\\uA8C4\\uA8C5\\uA8E0-\\uA8F1\\uA8FF\\uA926-\\uA92D\\uA947-\\uA951\\uA980-\\uA982\\uA9B3\\uA9B6-\\uA9B9\\uA9BC\\uA9BD\\uA9E5\\uAA29-\\uAA2E\\uAA31\\uAA32\\uAA35\\uAA36\\uAA43\\uAA4C\\uAA7C\\uAAB0\\uAAB2-\\uAAB4\\uAAB7\\uAAB8\\uAABE\\uAABF\\uAAC1\\uAAEC\\uAAED\\uAAF6\\uABE5\\uABE8\\uABED\\uFB1E\\uFE00-\\uFE0F\\uFE20-\\uFE2F\\uFF9E\\uFF9F]|\\uD800[\\uDDFD\\uDEE0\\uDF76-\\uDF7A]|\\uD802[\\uDE01-\\uDE03\\uDE05\\uDE06\\uDE0C-\\uDE0F\\uDE38-\\uDE3A\\uDE3F\\uDEE5\\uDEE6]|\\uD803[\\uDD24-\\uDD27\\uDEAB\\uDEAC\\uDF46-\\uDF50]|\\uD804[\\uDC01\\uDC38-\\uDC46\\uDC7F-\\uDC81\\uDCB3-\\uDCB6\\uDCB9\\uDCBA\\uDD00-\\uDD02\\uDD27-\\uDD2B\\uDD2D-\\uDD34\\uDD73\\uDD80\\uDD81\\uDDB6-\\uDDBE\\uDDC9-\\uDDCC\\uDDCF\\uDE2F-\\uDE31\\uDE34\\uDE36\\uDE37\\uDE3E\\uDEDF\\uDEE3-\\uDEEA\\uDF00\\uDF01\\uDF3B\\uDF3C\\uDF3E\\uDF40\\uDF57\\uDF66-\\uDF6C\\uDF70-\\uDF74]|\\uD805[\\uDC38-\\uDC3F\\uDC42-\\uDC44\\uDC46\\uDC5E\\uDCB0\\uDCB3-\\uDCB8\\uDCBA\\uDCBD\\uDCBF\\uDCC0\\uDCC2\\uDCC3\\uDDAF\\uDDB2-\\uDDB5\\uDDBC\\uDDBD\\uDDBF\\uDDC0\\uDDDC\\uDDDD\\uDE33-\\uDE3A\\uDE3D\\uDE3F\\uDE40\\uDEAB\\uDEAD\\uDEB0-\\uDEB5\\uDEB7\\uDF1D-\\uDF1F\\uDF22-\\uDF25\\uDF27-\\uDF2B]|\\uD806[\\uDC2F-\\uDC37\\uDC39\\uDC3A\\uDD30\\uDD3B\\uDD3C\\uDD3E\\uDD43\\uDDD4-\\uDDD7\\uDDDA\\uDDDB\\uDDE0\\uDE01-\\uDE0A\\uDE33-\\uDE38\\uDE3B-\\uDE3E\\uDE47\\uDE51-\\uDE56\\uDE59-\\uDE5B\\uDE8A-\\uDE96\\uDE98\\uDE99]|\\uD807[\\uDC30-\\uDC36\\uDC38-\\uDC3D\\uDC3F\\uDC92-\\uDCA7\\uDCAA-\\uDCB0\\uDCB2\\uDCB3\\uDCB5\\uDCB6\\uDD31-\\uDD36\\uDD3A\\uDD3C\\uDD3D\\uDD3F-\\uDD45\\uDD47\\uDD90\\uDD91\\uDD95\\uDD97\\uDEF3\\uDEF4]|\\uD81A[\\uDEF0-\\uDEF4\\uDF30-\\uDF36]|\\uD81B[\\uDF4F\\uDF8F-\\uDF92\\uDFE4]|\\uD82F[\\uDC9D\\uDC9E]|\\uD834[\\uDD65\\uDD67-\\uDD69\\uDD6E-\\uDD72\\uDD7B-\\uDD82\\uDD85-\\uDD8B\\uDDAA-\\uDDAD\\uDE42-\\uDE44]|\\uD836[\\uDE00-\\uDE36\\uDE3B-\\uDE6C\\uDE75\\uDE84\\uDE9B-\\uDE9F\\uDEA1-\\uDEAF]|\\uD838[\\uDC00-\\uDC06\\uDC08-\\uDC18\\uDC1B-\\uDC21\\uDC23\\uDC24\\uDC26-\\uDC2A\\uDD30-\\uDD36\\uDEEC-\\uDEEF]|\\uD83A[\\uDCD0-\\uDCD6\\uDD44-\\uDD4A]|\\uD83C[\\uDFFB-\\uDFFF]|\\uDB40[\\uDC20-\\uDC7F\\uDD00-\\uDDEF])$/;\nvar rePrepend = /^(?:[\\u0600-\\u0605\\u06DD\\u070F\\u0890\\u0891\\u08E2\\u0D4E]|\\uD804[\\uDCBD\\uDCCD\\uDDC2\\uDDC3]|\\uD806[\\uDD3F\\uDD41\\uDE3A\\uDE84-\\uDE89]|\\uD807\\uDD46)$/;\nvar reSpacingMark = /^(?:[\\u0903\\u093B\\u093E-\\u0940\\u0949-\\u094C\\u094E\\u094F\\u0982\\u0983\\u09BF\\u09C0\\u09C7\\u09C8\\u09CB\\u09CC\\u0A03\\u0A3E-\\u0A40\\u0A83\\u0ABE-\\u0AC0\\u0AC9\\u0ACB\\u0ACC\\u0B02\\u0B03\\u0B40\\u0B47\\u0B48\\u0B4B\\u0B4C\\u0BBF\\u0BC1\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCC\\u0C01-\\u0C03\\u0C41-\\u0C44\\u0C82\\u0C83\\u0CBE\\u0CC0\\u0CC1\\u0CC3\\u0CC4\\u0CC7\\u0CC8\\u0CCA\\u0CCB\\u0D02\\u0D03\\u0D3F\\u0D40\\u0D46-\\u0D48\\u0D4A-\\u0D4C\\u0D82\\u0D83\\u0DD0\\u0DD1\\u0DD8-\\u0DDE\\u0DF2\\u0DF3\\u0E33\\u0EB3\\u0F3E\\u0F3F\\u0F7F\\u1031\\u103B\\u103C\\u1056\\u1057\\u1084\\u1715\\u1734\\u17B6\\u17BE-\\u17C5\\u17C7\\u17C8\\u1923-\\u1926\\u1929-\\u192B\\u1930\\u1931\\u1933-\\u1938\\u1A19\\u1A1A\\u1A55\\u1A57\\u1A6D-\\u1A72\\u1B04\\u1B3B\\u1B3D-\\u1B41\\u1B43\\u1B44\\u1B82\\u1BA1\\u1BA6\\u1BA7\\u1BAA\\u1BE7\\u1BEA-\\u1BEC\\u1BEE\\u1BF2\\u1BF3\\u1C24-\\u1C2B\\u1C34\\u1C35\\u1CE1\\u1CF7\\uA823\\uA824\\uA827\\uA880\\uA881\\uA8B4-\\uA8C3\\uA952\\uA953\\uA983\\uA9B4\\uA9B5\\uA9BA\\uA9BB\\uA9BE-\\uA9C0\\uAA2F\\uAA30\\uAA33\\uAA34\\uAA4D\\uAAEB\\uAAEE\\uAAEF\\uAAF5\\uABE3\\uABE4\\uABE6\\uABE7\\uABE9\\uABEA\\uABEC]|\\uD804[\\uDC00\\uDC02\\uDC82\\uDCB0-\\uDCB2\\uDCB7\\uDCB8\\uDD2C\\uDD45\\uDD46\\uDD82\\uDDB3-\\uDDB5\\uDDBF\\uDDC0\\uDDCE\\uDE2C-\\uDE2E\\uDE32\\uDE33\\uDE35\\uDEE0-\\uDEE2\\uDF02\\uDF03\\uDF3F\\uDF41-\\uDF44\\uDF47\\uDF48\\uDF4B-\\uDF4D\\uDF62\\uDF63]|\\uD805[\\uDC35-\\uDC37\\uDC40\\uDC41\\uDC45\\uDCB1\\uDCB2\\uDCB9\\uDCBB\\uDCBC\\uDCBE\\uDCC1\\uDDB0\\uDDB1\\uDDB8-\\uDDBB\\uDDBE\\uDE30-\\uDE32\\uDE3B\\uDE3C\\uDE3E\\uDEAC\\uDEAE\\uDEAF\\uDEB6\\uDF26]|\\uD806[\\uDC2C-\\uDC2E\\uDC38\\uDD31-\\uDD35\\uDD37\\uDD38\\uDD3D\\uDD40\\uDD42\\uDDD1-\\uDDD3\\uDDDC-\\uDDDF\\uDDE4\\uDE39\\uDE57\\uDE58\\uDE97]|\\uD807[\\uDC2F\\uDC3E\\uDCA9\\uDCB1\\uDCB4\\uDD8A-\\uDD8E\\uDD93\\uDD94\\uDD96\\uDEF5\\uDEF6]|\\uD81B[\\uDF51-\\uDF87\\uDFF0\\uDFF1]|\\uD834[\\uDD66\\uDD6D])$/;\nvar reL = /^[\\u1100-\\u115F\\uA960-\\uA97C]$/;\nvar reV = /^[\\u1160-\\u11A7\\uD7B0-\\uD7C6]$/;\nvar reT = /^[\\u11A8-\\u11FF\\uD7CB-\\uD7FB]$/;\nvar reLV = /^[\\uAC00\\uAC1C\\uAC38\\uAC54\\uAC70\\uAC8C\\uACA8\\uACC4\\uACE0\\uACFC\\uAD18\\uAD34\\uAD50\\uAD6C\\uAD88\\uADA4\\uADC0\\uADDC\\uADF8\\uAE14\\uAE30\\uAE4C\\uAE68\\uAE84\\uAEA0\\uAEBC\\uAED8\\uAEF4\\uAF10\\uAF2C\\uAF48\\uAF64\\uAF80\\uAF9C\\uAFB8\\uAFD4\\uAFF0\\uB00C\\uB028\\uB044\\uB060\\uB07C\\uB098\\uB0B4\\uB0D0\\uB0EC\\uB108\\uB124\\uB140\\uB15C\\uB178\\uB194\\uB1B0\\uB1CC\\uB1E8\\uB204\\uB220\\uB23C\\uB258\\uB274\\uB290\\uB2AC\\uB2C8\\uB2E4\\uB300\\uB31C\\uB338\\uB354\\uB370\\uB38C\\uB3A8\\uB3C4\\uB3E0\\uB3FC\\uB418\\uB434\\uB450\\uB46C\\uB488\\uB4A4\\uB4C0\\uB4DC\\uB4F8\\uB514\\uB530\\uB54C\\uB568\\uB584\\uB5A0\\uB5BC\\uB5D8\\uB5F4\\uB610\\uB62C\\uB648\\uB664\\uB680\\uB69C\\uB6B8\\uB6D4\\uB6F0\\uB70C\\uB728\\uB744\\uB760\\uB77C\\uB798\\uB7B4\\uB7D0\\uB7EC\\uB808\\uB824\\uB840\\uB85C\\uB878\\uB894\\uB8B0\\uB8CC\\uB8E8\\uB904\\uB920\\uB93C\\uB958\\uB974\\uB990\\uB9AC\\uB9C8\\uB9E4\\uBA00\\uBA1C\\uBA38\\uBA54\\uBA70\\uBA8C\\uBAA8\\uBAC4\\uBAE0\\uBAFC\\uBB18\\uBB34\\uBB50\\uBB6C\\uBB88\\uBBA4\\uBBC0\\uBBDC\\uBBF8\\uBC14\\uBC30\\uBC4C\\uBC68\\uBC84\\uBCA0\\uBCBC\\uBCD8\\uBCF4\\uBD10\\uBD2C\\uBD48\\uBD64\\uBD80\\uBD9C\\uBDB8\\uBDD4\\uBDF0\\uBE0C\\uBE28\\uBE44\\uBE60\\uBE7C\\uBE98\\uBEB4\\uBED0\\uBEEC\\uBF08\\uBF24\\uBF40\\uBF5C\\uBF78\\uBF94\\uBFB0\\uBFCC\\uBFE8\\uC004\\uC020\\uC03C\\uC058\\uC074\\uC090\\uC0AC\\uC0C8\\uC0E4\\uC100\\uC11C\\uC138\\uC154\\uC170\\uC18C\\uC1A8\\uC1C4\\uC1E0\\uC1FC\\uC218\\uC234\\uC250\\uC26C\\uC288\\uC2A4\\uC2C0\\uC2DC\\uC2F8\\uC314\\uC330\\uC34C\\uC368\\uC384\\uC3A0\\uC3BC\\uC3D8\\uC3F4\\uC410\\uC42C\\uC448\\uC464\\uC480\\uC49C\\uC4B8\\uC4D4\\uC4F0\\uC50C\\uC528\\uC544\\uC560\\uC57C\\uC598\\uC5B4\\uC5D0\\uC5EC\\uC608\\uC624\\uC640\\uC65C\\uC678\\uC694\\uC6B0\\uC6CC\\uC6E8\\uC704\\uC720\\uC73C\\uC758\\uC774\\uC790\\uC7AC\\uC7C8\\uC7E4\\uC800\\uC81C\\uC838\\uC854\\uC870\\uC88C\\uC8A8\\uC8C4\\uC8E0\\uC8FC\\uC918\\uC934\\uC950\\uC96C\\uC988\\uC9A4\\uC9C0\\uC9DC\\uC9F8\\uCA14\\uCA30\\uCA4C\\uCA68\\uCA84\\uCAA0\\uCABC\\uCAD8\\uCAF4\\uCB10\\uCB2C\\uCB48\\uCB64\\uCB80\\uCB9C\\uCBB8\\uCBD4\\uCBF0\\uCC0C\\uCC28\\uCC44\\uCC60\\uCC7C\\uCC98\\uCCB4\\uCCD0\\uCCEC\\uCD08\\uCD24\\uCD40\\uCD5C\\uCD78\\uCD94\\uCDB0\\uCDCC\\uCDE8\\uCE04\\uCE20\\uCE3C\\uCE58\\uCE74\\uCE90\\uCEAC\\uCEC8\\uCEE4\\uCF00\\uCF1C\\uCF38\\uCF54\\uCF70\\uCF8C\\uCFA8\\uCFC4\\uCFE0\\uCFFC\\uD018\\uD034\\uD050\\uD06C\\uD088\\uD0A4\\uD0C0\\uD0DC\\uD0F8\\uD114\\uD130\\uD14C\\uD168\\uD184\\uD1A0\\uD1BC\\uD1D8\\uD1F4\\uD210\\uD22C\\uD248\\uD264\\uD280\\uD29C\\uD2B8\\uD2D4\\uD2F0\\uD30C\\uD328\\uD344\\uD360\\uD37C\\uD398\\uD3B4\\uD3D0\\uD3EC\\uD408\\uD424\\uD440\\uD45C\\uD478\\uD494\\uD4B0\\uD4CC\\uD4E8\\uD504\\uD520\\uD53C\\uD558\\uD574\\uD590\\uD5AC\\uD5C8\\uD5E4\\uD600\\uD61C\\uD638\\uD654\\uD670\\uD68C\\uD6A8\\uD6C4\\uD6E0\\uD6FC\\uD718\\uD734\\uD750\\uD76C\\uD788]$/;\nvar reLVT = /^[\\uAC01-\\uAC1B\\uAC1D-\\uAC37\\uAC39-\\uAC53\\uAC55-\\uAC6F\\uAC71-\\uAC8B\\uAC8D-\\uACA7\\uACA9-\\uACC3\\uACC5-\\uACDF\\uACE1-\\uACFB\\uACFD-\\uAD17\\uAD19-\\uAD33\\uAD35-\\uAD4F\\uAD51-\\uAD6B\\uAD6D-\\uAD87\\uAD89-\\uADA3\\uADA5-\\uADBF\\uADC1-\\uADDB\\uADDD-\\uADF7\\uADF9-\\uAE13\\uAE15-\\uAE2F\\uAE31-\\uAE4B\\uAE4D-\\uAE67\\uAE69-\\uAE83\\uAE85-\\uAE9F\\uAEA1-\\uAEBB\\uAEBD-\\uAED7\\uAED9-\\uAEF3\\uAEF5-\\uAF0F\\uAF11-\\uAF2B\\uAF2D-\\uAF47\\uAF49-\\uAF63\\uAF65-\\uAF7F\\uAF81-\\uAF9B\\uAF9D-\\uAFB7\\uAFB9-\\uAFD3\\uAFD5-\\uAFEF\\uAFF1-\\uB00B\\uB00D-\\uB027\\uB029-\\uB043\\uB045-\\uB05F\\uB061-\\uB07B\\uB07D-\\uB097\\uB099-\\uB0B3\\uB0B5-\\uB0CF\\uB0D1-\\uB0EB\\uB0ED-\\uB107\\uB109-\\uB123\\uB125-\\uB13F\\uB141-\\uB15B\\uB15D-\\uB177\\uB179-\\uB193\\uB195-\\uB1AF\\uB1B1-\\uB1CB\\uB1CD-\\uB1E7\\uB1E9-\\uB203\\uB205-\\uB21F\\uB221-\\uB23B\\uB23D-\\uB257\\uB259-\\uB273\\uB275-\\uB28F\\uB291-\\uB2AB\\uB2AD-\\uB2C7\\uB2C9-\\uB2E3\\uB2E5-\\uB2FF\\uB301-\\uB31B\\uB31D-\\uB337\\uB339-\\uB353\\uB355-\\uB36F\\uB371-\\uB38B\\uB38D-\\uB3A7\\uB3A9-\\uB3C3\\uB3C5-\\uB3DF\\uB3E1-\\uB3FB\\uB3FD-\\uB417\\uB419-\\uB433\\uB435-\\uB44F\\uB451-\\uB46B\\uB46D-\\uB487\\uB489-\\uB4A3\\uB4A5-\\uB4BF\\uB4C1-\\uB4DB\\uB4DD-\\uB4F7\\uB4F9-\\uB513\\uB515-\\uB52F\\uB531-\\uB54B\\uB54D-\\uB567\\uB569-\\uB583\\uB585-\\uB59F\\uB5A1-\\uB5BB\\uB5BD-\\uB5D7\\uB5D9-\\uB5F3\\uB5F5-\\uB60F\\uB611-\\uB62B\\uB62D-\\uB647\\uB649-\\uB663\\uB665-\\uB67F\\uB681-\\uB69B\\uB69D-\\uB6B7\\uB6B9-\\uB6D3\\uB6D5-\\uB6EF\\uB6F1-\\uB70B\\uB70D-\\uB727\\uB729-\\uB743\\uB745-\\uB75F\\uB761-\\uB77B\\uB77D-\\uB797\\uB799-\\uB7B3\\uB7B5-\\uB7CF\\uB7D1-\\uB7EB\\uB7ED-\\uB807\\uB809-\\uB823\\uB825-\\uB83F\\uB841-\\uB85B\\uB85D-\\uB877\\uB879-\\uB893\\uB895-\\uB8AF\\uB8B1-\\uB8CB\\uB8CD-\\uB8E7\\uB8E9-\\uB903\\uB905-\\uB91F\\uB921-\\uB93B\\uB93D-\\uB957\\uB959-\\uB973\\uB975-\\uB98F\\uB991-\\uB9AB\\uB9AD-\\uB9C7\\uB9C9-\\uB9E3\\uB9E5-\\uB9FF\\uBA01-\\uBA1B\\uBA1D-\\uBA37\\uBA39-\\uBA53\\uBA55-\\uBA6F\\uBA71-\\uBA8B\\uBA8D-\\uBAA7\\uBAA9-\\uBAC3\\uBAC5-\\uBADF\\uBAE1-\\uBAFB\\uBAFD-\\uBB17\\uBB19-\\uBB33\\uBB35-\\uBB4F\\uBB51-\\uBB6B\\uBB6D-\\uBB87\\uBB89-\\uBBA3\\uBBA5-\\uBBBF\\uBBC1-\\uBBDB\\uBBDD-\\uBBF7\\uBBF9-\\uBC13\\uBC15-\\uBC2F\\uBC31-\\uBC4B\\uBC4D-\\uBC67\\uBC69-\\uBC83\\uBC85-\\uBC9F\\uBCA1-\\uBCBB\\uBCBD-\\uBCD7\\uBCD9-\\uBCF3\\uBCF5-\\uBD0F\\uBD11-\\uBD2B\\uBD2D-\\uBD47\\uBD49-\\uBD63\\uBD65-\\uBD7F\\uBD81-\\uBD9B\\uBD9D-\\uBDB7\\uBDB9-\\uBDD3\\uBDD5-\\uBDEF\\uBDF1-\\uBE0B\\uBE0D-\\uBE27\\uBE29-\\uBE43\\uBE45-\\uBE5F\\uBE61-\\uBE7B\\uBE7D-\\uBE97\\uBE99-\\uBEB3\\uBEB5-\\uBECF\\uBED1-\\uBEEB\\uBEED-\\uBF07\\uBF09-\\uBF23\\uBF25-\\uBF3F\\uBF41-\\uBF5B\\uBF5D-\\uBF77\\uBF79-\\uBF93\\uBF95-\\uBFAF\\uBFB1-\\uBFCB\\uBFCD-\\uBFE7\\uBFE9-\\uC003\\uC005-\\uC01F\\uC021-\\uC03B\\uC03D-\\uC057\\uC059-\\uC073\\uC075-\\uC08F\\uC091-\\uC0AB\\uC0AD-\\uC0C7\\uC0C9-\\uC0E3\\uC0E5-\\uC0FF\\uC101-\\uC11B\\uC11D-\\uC137\\uC139-\\uC153\\uC155-\\uC16F\\uC171-\\uC18B\\uC18D-\\uC1A7\\uC1A9-\\uC1C3\\uC1C5-\\uC1DF\\uC1E1-\\uC1FB\\uC1FD-\\uC217\\uC219-\\uC233\\uC235-\\uC24F\\uC251-\\uC26B\\uC26D-\\uC287\\uC289-\\uC2A3\\uC2A5-\\uC2BF\\uC2C1-\\uC2DB\\uC2DD-\\uC2F7\\uC2F9-\\uC313\\uC315-\\uC32F\\uC331-\\uC34B\\uC34D-\\uC367\\uC369-\\uC383\\uC385-\\uC39F\\uC3A1-\\uC3BB\\uC3BD-\\uC3D7\\uC3D9-\\uC3F3\\uC3F5-\\uC40F\\uC411-\\uC42B\\uC42D-\\uC447\\uC449-\\uC463\\uC465-\\uC47F\\uC481-\\uC49B\\uC49D-\\uC4B7\\uC4B9-\\uC4D3\\uC4D5-\\uC4EF\\uC4F1-\\uC50B\\uC50D-\\uC527\\uC529-\\uC543\\uC545-\\uC55F\\uC561-\\uC57B\\uC57D-\\uC597\\uC599-\\uC5B3\\uC5B5-\\uC5CF\\uC5D1-\\uC5EB\\uC5ED-\\uC607\\uC609-\\uC623\\uC625-\\uC63F\\uC641-\\uC65B\\uC65D-\\uC677\\uC679-\\uC693\\uC695-\\uC6AF\\uC6B1-\\uC6CB\\uC6CD-\\uC6E7\\uC6E9-\\uC703\\uC705-\\uC71F\\uC721-\\uC73B\\uC73D-\\uC757\\uC759-\\uC773\\uC775-\\uC78F\\uC791-\\uC7AB\\uC7AD-\\uC7C7\\uC7C9-\\uC7E3\\uC7E5-\\uC7FF\\uC801-\\uC81B\\uC81D-\\uC837\\uC839-\\uC853\\uC855-\\uC86F\\uC871-\\uC88B\\uC88D-\\uC8A7\\uC8A9-\\uC8C3\\uC8C5-\\uC8DF\\uC8E1-\\uC8FB\\uC8FD-\\uC917\\uC919-\\uC933\\uC935-\\uC94F\\uC951-\\uC96B\\uC96D-\\uC987\\uC989-\\uC9A3\\uC9A5-\\uC9BF\\uC9C1-\\uC9DB\\uC9DD-\\uC9F7\\uC9F9-\\uCA13\\uCA15-\\uCA2F\\uCA31-\\uCA4B\\uCA4D-\\uCA67\\uCA69-\\uCA83\\uCA85-\\uCA9F\\uCAA1-\\uCABB\\uCABD-\\uCAD7\\uCAD9-\\uCAF3\\uCAF5-\\uCB0F\\uCB11-\\uCB2B\\uCB2D-\\uCB47\\uCB49-\\uCB63\\uCB65-\\uCB7F\\uCB81-\\uCB9B\\uCB9D-\\uCBB7\\uCBB9-\\uCBD3\\uCBD5-\\uCBEF\\uCBF1-\\uCC0B\\uCC0D-\\uCC27\\uCC29-\\uCC43\\uCC45-\\uCC5F\\uCC61-\\uCC7B\\uCC7D-\\uCC97\\uCC99-\\uCCB3\\uCCB5-\\uCCCF\\uCCD1-\\uCCEB\\uCCED-\\uCD07\\uCD09-\\uCD23\\uCD25-\\uCD3F\\uCD41-\\uCD5B\\uCD5D-\\uCD77\\uCD79-\\uCD93\\uCD95-\\uCDAF\\uCDB1-\\uCDCB\\uCDCD-\\uCDE7\\uCDE9-\\uCE03\\uCE05-\\uCE1F\\uCE21-\\uCE3B\\uCE3D-\\uCE57\\uCE59-\\uCE73\\uCE75-\\uCE8F\\uCE91-\\uCEAB\\uCEAD-\\uCEC7\\uCEC9-\\uCEE3\\uCEE5-\\uCEFF\\uCF01-\\uCF1B\\uCF1D-\\uCF37\\uCF39-\\uCF53\\uCF55-\\uCF6F\\uCF71-\\uCF8B\\uCF8D-\\uCFA7\\uCFA9-\\uCFC3\\uCFC5-\\uCFDF\\uCFE1-\\uCFFB\\uCFFD-\\uD017\\uD019-\\uD033\\uD035-\\uD04F\\uD051-\\uD06B\\uD06D-\\uD087\\uD089-\\uD0A3\\uD0A5-\\uD0BF\\uD0C1-\\uD0DB\\uD0DD-\\uD0F7\\uD0F9-\\uD113\\uD115-\\uD12F\\uD131-\\uD14B\\uD14D-\\uD167\\uD169-\\uD183\\uD185-\\uD19F\\uD1A1-\\uD1BB\\uD1BD-\\uD1D7\\uD1D9-\\uD1F3\\uD1F5-\\uD20F\\uD211-\\uD22B\\uD22D-\\uD247\\uD249-\\uD263\\uD265-\\uD27F\\uD281-\\uD29B\\uD29D-\\uD2B7\\uD2B9-\\uD2D3\\uD2D5-\\uD2EF\\uD2F1-\\uD30B\\uD30D-\\uD327\\uD329-\\uD343\\uD345-\\uD35F\\uD361-\\uD37B\\uD37D-\\uD397\\uD399-\\uD3B3\\uD3B5-\\uD3CF\\uD3D1-\\uD3EB\\uD3ED-\\uD407\\uD409-\\uD423\\uD425-\\uD43F\\uD441-\\uD45B\\uD45D-\\uD477\\uD479-\\uD493\\uD495-\\uD4AF\\uD4B1-\\uD4CB\\uD4CD-\\uD4E7\\uD4E9-\\uD503\\uD505-\\uD51F\\uD521-\\uD53B\\uD53D-\\uD557\\uD559-\\uD573\\uD575-\\uD58F\\uD591-\\uD5AB\\uD5AD-\\uD5C7\\uD5C9-\\uD5E3\\uD5E5-\\uD5FF\\uD601-\\uD61B\\uD61D-\\uD637\\uD639-\\uD653\\uD655-\\uD66F\\uD671-\\uD68B\\uD68D-\\uD6A7\\uD6A9-\\uD6C3\\uD6C5-\\uD6DF\\uD6E1-\\uD6FB\\uD6FD-\\uD717\\uD719-\\uD733\\uD735-\\uD74F\\uD751-\\uD76B\\uD76D-\\uD787\\uD789-\\uD7A3]$/;\nvar reExtPict = /^(?:[\\xA9\\xAE\\u203C\\u2049\\u2122\\u2139\\u2194-\\u2199\\u21A9\\u21AA\\u231A\\u231B\\u2328\\u2388\\u23CF\\u23E9-\\u23F3\\u23F8-\\u23FA\\u24C2\\u25AA\\u25AB\\u25B6\\u25C0\\u25FB-\\u25FE\\u2600-\\u2605\\u2607-\\u2612\\u2614-\\u2685\\u2690-\\u2705\\u2708-\\u2712\\u2714\\u2716\\u271D\\u2721\\u2728\\u2733\\u2734\\u2744\\u2747\\u274C\\u274E\\u2753-\\u2755\\u2757\\u2763-\\u2767\\u2795-\\u2797\\u27A1\\u27B0\\u27BF\\u2934\\u2935\\u2B05-\\u2B07\\u2B1B\\u2B1C\\u2B50\\u2B55\\u3030\\u303D\\u3297\\u3299]|\\uD83C[\\uDC00-\\uDCFF\\uDD0D-\\uDD0F\\uDD2F\\uDD6C-\\uDD71\\uDD7E\\uDD7F\\uDD8E\\uDD91-\\uDD9A\\uDDAD-\\uDDE5\\uDE01-\\uDE0F\\uDE1A\\uDE2F\\uDE32-\\uDE3A\\uDE3C-\\uDE3F\\uDE49-\\uDFFA]|\\uD83D[\\uDC00-\\uDD3D\\uDD46-\\uDE4F\\uDE80-\\uDEFF\\uDF74-\\uDF7F\\uDFD5-\\uDFFF]|\\uD83E[\\uDC0C-\\uDC0F\\uDC48-\\uDC4F\\uDC5A-\\uDC5F\\uDC88-\\uDC8F\\uDCAE-\\uDCFF\\uDD0C-\\uDD3A\\uDD3C-\\uDD45\\uDD47-\\uDEFF]|\\uD83F[\\uDC00-\\uDFFD])$/;\n\nvar getCodepointType = (char, code) => {\n  var type = CodepointType.Any;\n\n  if (char.search(reExtend) !== -1) {\n    type |= CodepointType.Extend;\n  }\n\n  if (code === 0x200d) {\n    type |= CodepointType.ZWJ;\n  }\n\n  if (code >= 0x1f1e6 && code <= 0x1f1ff) {\n    type |= CodepointType.RI;\n  }\n\n  if (char.search(rePrepend) !== -1) {\n    type |= CodepointType.Prepend;\n  }\n\n  if (char.search(reSpacingMark) !== -1) {\n    type |= CodepointType.SpacingMark;\n  }\n\n  if (char.search(reL) !== -1) {\n    type |= CodepointType.L;\n  }\n\n  if (char.search(reV) !== -1) {\n    type |= CodepointType.V;\n  }\n\n  if (char.search(reT) !== -1) {\n    type |= CodepointType.T;\n  }\n\n  if (char.search(reLV) !== -1) {\n    type |= CodepointType.LV;\n  }\n\n  if (char.search(reLVT) !== -1) {\n    type |= CodepointType.LVT;\n  }\n\n  if (char.search(reExtPict) !== -1) {\n    type |= CodepointType.ExtPict;\n  }\n\n  return type;\n};\n\nfunction intersects(x, y) {\n  return (x & y) !== 0;\n}\n\nvar NonBoundaryPairs = [// GB6\n[CodepointType.L, CodepointType.L | CodepointType.V | CodepointType.LV | CodepointType.LVT], // GB7\n[CodepointType.LV | CodepointType.V, CodepointType.V | CodepointType.T], // GB8\n[CodepointType.LVT | CodepointType.T, CodepointType.T], // GB9\n[CodepointType.Any, CodepointType.Extend | CodepointType.ZWJ], // GB9a\n[CodepointType.Any, CodepointType.SpacingMark], // GB9b\n[CodepointType.Prepend, CodepointType.Any], // GB11\n[CodepointType.ZWJ, CodepointType.ExtPict], // GB12 and GB13\n[CodepointType.RI, CodepointType.RI]];\n\nfunction isBoundaryPair(left, right) {\n  return NonBoundaryPairs.findIndex(r => intersects(left, r[0]) && intersects(right, r[1])) === -1;\n}\n\nvar endingEmojiZWJ = /(?:[\\xA9\\xAE\\u203C\\u2049\\u2122\\u2139\\u2194-\\u2199\\u21A9\\u21AA\\u231A\\u231B\\u2328\\u2388\\u23CF\\u23E9-\\u23F3\\u23F8-\\u23FA\\u24C2\\u25AA\\u25AB\\u25B6\\u25C0\\u25FB-\\u25FE\\u2600-\\u2605\\u2607-\\u2612\\u2614-\\u2685\\u2690-\\u2705\\u2708-\\u2712\\u2714\\u2716\\u271D\\u2721\\u2728\\u2733\\u2734\\u2744\\u2747\\u274C\\u274E\\u2753-\\u2755\\u2757\\u2763-\\u2767\\u2795-\\u2797\\u27A1\\u27B0\\u27BF\\u2934\\u2935\\u2B05-\\u2B07\\u2B1B\\u2B1C\\u2B50\\u2B55\\u3030\\u303D\\u3297\\u3299]|\\uD83C[\\uDC00-\\uDCFF\\uDD0D-\\uDD0F\\uDD2F\\uDD6C-\\uDD71\\uDD7E\\uDD7F\\uDD8E\\uDD91-\\uDD9A\\uDDAD-\\uDDE5\\uDE01-\\uDE0F\\uDE1A\\uDE2F\\uDE32-\\uDE3A\\uDE3C-\\uDE3F\\uDE49-\\uDFFA]|\\uD83D[\\uDC00-\\uDD3D\\uDD46-\\uDE4F\\uDE80-\\uDEFF\\uDF74-\\uDF7F\\uDFD5-\\uDFFF]|\\uD83E[\\uDC0C-\\uDC0F\\uDC48-\\uDC4F\\uDC5A-\\uDC5F\\uDC88-\\uDC8F\\uDCAE-\\uDCFF\\uDD0C-\\uDD3A\\uDD3C-\\uDD45\\uDD47-\\uDEFF]|\\uD83F[\\uDC00-\\uDFFD])(?:[\\u0300-\\u036F\\u0483-\\u0489\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u0610-\\u061A\\u064B-\\u065F\\u0670\\u06D6-\\u06DC\\u06DF-\\u06E4\\u06E7\\u06E8\\u06EA-\\u06ED\\u0711\\u0730-\\u074A\\u07A6-\\u07B0\\u07EB-\\u07F3\\u07FD\\u0816-\\u0819\\u081B-\\u0823\\u0825-\\u0827\\u0829-\\u082D\\u0859-\\u085B\\u08D3-\\u08E1\\u08E3-\\u0902\\u093A\\u093C\\u0941-\\u0948\\u094D\\u0951-\\u0957\\u0962\\u0963\\u0981\\u09BC\\u09BE\\u09C1-\\u09C4\\u09CD\\u09D7\\u09E2\\u09E3\\u09FE\\u0A01\\u0A02\\u0A3C\\u0A41\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A70\\u0A71\\u0A75\\u0A81\\u0A82\\u0ABC\\u0AC1-\\u0AC5\\u0AC7\\u0AC8\\u0ACD\\u0AE2\\u0AE3\\u0AFA-\\u0AFF\\u0B01\\u0B3C\\u0B3E\\u0B3F\\u0B41-\\u0B44\\u0B4D\\u0B55-\\u0B57\\u0B62\\u0B63\\u0B82\\u0BBE\\u0BC0\\u0BCD\\u0BD7\\u0C00\\u0C04\\u0C3E-\\u0C40\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C62\\u0C63\\u0C81\\u0CBC\\u0CBF\\u0CC2\\u0CC6\\u0CCC\\u0CCD\\u0CD5\\u0CD6\\u0CE2\\u0CE3\\u0D00\\u0D01\\u0D3B\\u0D3C\\u0D3E\\u0D41-\\u0D44\\u0D4D\\u0D57\\u0D62\\u0D63\\u0D81\\u0DCA\\u0DCF\\u0DD2-\\u0DD4\\u0DD6\\u0DDF\\u0E31\\u0E34-\\u0E3A\\u0E47-\\u0E4E\\u0EB1\\u0EB4-\\u0EBC\\u0EC8-\\u0ECD\\u0F18\\u0F19\\u0F35\\u0F37\\u0F39\\u0F71-\\u0F7E\\u0F80-\\u0F84\\u0F86\\u0F87\\u0F8D-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u102D-\\u1030\\u1032-\\u1037\\u1039\\u103A\\u103D\\u103E\\u1058\\u1059\\u105E-\\u1060\\u1071-\\u1074\\u1082\\u1085\\u1086\\u108D\\u109D\\u135D-\\u135F\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17B4\\u17B5\\u17B7-\\u17BD\\u17C6\\u17C9-\\u17D3\\u17DD\\u180B-\\u180D\\u1885\\u1886\\u18A9\\u1920-\\u1922\\u1927\\u1928\\u1932\\u1939-\\u193B\\u1A17\\u1A18\\u1A1B\\u1A56\\u1A58-\\u1A5E\\u1A60\\u1A62\\u1A65-\\u1A6C\\u1A73-\\u1A7C\\u1A7F\\u1AB0-\\u1AC0\\u1B00-\\u1B03\\u1B34-\\u1B3A\\u1B3C\\u1B42\\u1B6B-\\u1B73\\u1B80\\u1B81\\u1BA2-\\u1BA5\\u1BA8\\u1BA9\\u1BAB-\\u1BAD\\u1BE6\\u1BE8\\u1BE9\\u1BED\\u1BEF-\\u1BF1\\u1C2C-\\u1C33\\u1C36\\u1C37\\u1CD0-\\u1CD2\\u1CD4-\\u1CE0\\u1CE2-\\u1CE8\\u1CED\\u1CF4\\u1CF8\\u1CF9\\u1DC0-\\u1DF9\\u1DFB-\\u1DFF\\u200C\\u20D0-\\u20F0\\u2CEF-\\u2CF1\\u2D7F\\u2DE0-\\u2DFF\\u302A-\\u302F\\u3099\\u309A\\uA66F-\\uA672\\uA674-\\uA67D\\uA69E\\uA69F\\uA6F0\\uA6F1\\uA802\\uA806\\uA80B\\uA825\\uA826\\uA82C\\uA8C4\\uA8C5\\uA8E0-\\uA8F1\\uA8FF\\uA926-\\uA92D\\uA947-\\uA951\\uA980-\\uA982\\uA9B3\\uA9B6-\\uA9B9\\uA9BC\\uA9BD\\uA9E5\\uAA29-\\uAA2E\\uAA31\\uAA32\\uAA35\\uAA36\\uAA43\\uAA4C\\uAA7C\\uAAB0\\uAAB2-\\uAAB4\\uAAB7\\uAAB8\\uAABE\\uAABF\\uAAC1\\uAAEC\\uAAED\\uAAF6\\uABE5\\uABE8\\uABED\\uFB1E\\uFE00-\\uFE0F\\uFE20-\\uFE2F\\uFF9E\\uFF9F]|\\uD800[\\uDDFD\\uDEE0\\uDF76-\\uDF7A]|\\uD802[\\uDE01-\\uDE03\\uDE05\\uDE06\\uDE0C-\\uDE0F\\uDE38-\\uDE3A\\uDE3F\\uDEE5\\uDEE6]|\\uD803[\\uDD24-\\uDD27\\uDEAB\\uDEAC\\uDF46-\\uDF50]|\\uD804[\\uDC01\\uDC38-\\uDC46\\uDC7F-\\uDC81\\uDCB3-\\uDCB6\\uDCB9\\uDCBA\\uDD00-\\uDD02\\uDD27-\\uDD2B\\uDD2D-\\uDD34\\uDD73\\uDD80\\uDD81\\uDDB6-\\uDDBE\\uDDC9-\\uDDCC\\uDDCF\\uDE2F-\\uDE31\\uDE34\\uDE36\\uDE37\\uDE3E\\uDEDF\\uDEE3-\\uDEEA\\uDF00\\uDF01\\uDF3B\\uDF3C\\uDF3E\\uDF40\\uDF57\\uDF66-\\uDF6C\\uDF70-\\uDF74]|\\uD805[\\uDC38-\\uDC3F\\uDC42-\\uDC44\\uDC46\\uDC5E\\uDCB0\\uDCB3-\\uDCB8\\uDCBA\\uDCBD\\uDCBF\\uDCC0\\uDCC2\\uDCC3\\uDDAF\\uDDB2-\\uDDB5\\uDDBC\\uDDBD\\uDDBF\\uDDC0\\uDDDC\\uDDDD\\uDE33-\\uDE3A\\uDE3D\\uDE3F\\uDE40\\uDEAB\\uDEAD\\uDEB0-\\uDEB5\\uDEB7\\uDF1D-\\uDF1F\\uDF22-\\uDF25\\uDF27-\\uDF2B]|\\uD806[\\uDC2F-\\uDC37\\uDC39\\uDC3A\\uDD30\\uDD3B\\uDD3C\\uDD3E\\uDD43\\uDDD4-\\uDDD7\\uDDDA\\uDDDB\\uDDE0\\uDE01-\\uDE0A\\uDE33-\\uDE38\\uDE3B-\\uDE3E\\uDE47\\uDE51-\\uDE56\\uDE59-\\uDE5B\\uDE8A-\\uDE96\\uDE98\\uDE99]|\\uD807[\\uDC30-\\uDC36\\uDC38-\\uDC3D\\uDC3F\\uDC92-\\uDCA7\\uDCAA-\\uDCB0\\uDCB2\\uDCB3\\uDCB5\\uDCB6\\uDD31-\\uDD36\\uDD3A\\uDD3C\\uDD3D\\uDD3F-\\uDD45\\uDD47\\uDD90\\uDD91\\uDD95\\uDD97\\uDEF3\\uDEF4]|\\uD81A[\\uDEF0-\\uDEF4\\uDF30-\\uDF36]|\\uD81B[\\uDF4F\\uDF8F-\\uDF92\\uDFE4]|\\uD82F[\\uDC9D\\uDC9E]|\\uD834[\\uDD65\\uDD67-\\uDD69\\uDD6E-\\uDD72\\uDD7B-\\uDD82\\uDD85-\\uDD8B\\uDDAA-\\uDDAD\\uDE42-\\uDE44]|\\uD836[\\uDE00-\\uDE36\\uDE3B-\\uDE6C\\uDE75\\uDE84\\uDE9B-\\uDE9F\\uDEA1-\\uDEAF]|\\uD838[\\uDC00-\\uDC06\\uDC08-\\uDC18\\uDC1B-\\uDC21\\uDC23\\uDC24\\uDC26-\\uDC2A\\uDD30-\\uDD36\\uDEEC-\\uDEEF]|\\uD83A[\\uDCD0-\\uDCD6\\uDD44-\\uDD4A]|\\uD83C[\\uDFFB-\\uDFFF]|\\uDB40[\\uDC20-\\uDC7F\\uDD00-\\uDDEF])*\\u200D$/;\n\nvar endsWithEmojiZWJ = str => {\n  return str.search(endingEmojiZWJ) !== -1;\n};\n\nvar endingRIs = /(?:\\uD83C[\\uDDE6-\\uDDFF])+$/g;\n\nvar endsWithOddNumberOfRIs = str => {\n  var match = str.match(endingRIs);\n\n  if (match === null) {\n    return false;\n  } else {\n    // A RI is represented by a surrogate pair.\n    var numRIs = match[0].length / 2;\n    return numRIs % 2 === 1;\n  }\n};\n\n/**\r\n * Shared the function with isElementType utility\r\n */\n\nvar isElement = value => {\n  return isPlainObject(value) && Node.isNodeList(value.children) && !Editor.isEditor(value);\n};\n\nvar Element = {\n  /**\r\n   * Check if a value implements the 'Ancestor' interface.\r\n   */\n  isAncestor(value) {\n    return isPlainObject(value) && Node.isNodeList(value.children);\n  },\n\n  /**\r\n   * Check if a value implements the `Element` interface.\r\n   */\n  isElement,\n\n  /**\r\n   * Check if a value is an array of `Element` objects.\r\n   */\n  isElementList(value) {\n    return Array.isArray(value) && value.every(val => Element.isElement(val));\n  },\n\n  /**\r\n   * Check if a set of props is a partial of Element.\r\n   */\n  isElementProps(props) {\n    return props.children !== undefined;\n  },\n\n  /**\r\n   * Check if a value implements the `Element` interface and has elementKey with selected value.\r\n   * Default it check to `type` key value\r\n   */\n  isElementType: function isElementType(value, elementVal) {\n    var elementKey = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'type';\n    return isElement(value) && value[elementKey] === elementVal;\n  },\n\n  /**\r\n   * Check if an element matches set of properties.\r\n   *\r\n   * Note: this checks custom properties, and it does not ensure that any\r\n   * children are equivalent.\r\n   */\n  matches(element, props) {\n    for (var key in props) {\n      if (key === 'children') {\n        continue;\n      }\n\n      if (element[key] !== props[key]) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n};\n\nvar _excluded$4 = [\"text\"],\n    _excluded2$3 = [\"text\"];\n\nfunction ownKeys$8(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$8(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys$8(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys$8(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\nvar IS_EDITOR_CACHE = new WeakMap();\nvar Editor = {\n  /**\r\n   * Get the ancestor above a location in the document.\r\n   */\n  above(editor) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var {\n      voids = false,\n      mode = 'lowest',\n      at = editor.selection,\n      match\n    } = options;\n\n    if (!at) {\n      return;\n    }\n\n    var path = Editor.path(editor, at);\n    var reverse = mode === 'lowest';\n\n    for (var [n, p] of Editor.levels(editor, {\n      at: path,\n      voids,\n      match,\n      reverse\n    })) {\n      if (!Text.isText(n) && !Path.equals(path, p)) {\n        return [n, p];\n      }\n    }\n  },\n\n  /**\r\n   * Add a custom property to the leaf text nodes in the current selection.\r\n   *\r\n   * If the selection is currently collapsed, the marks will be added to the\r\n   * `editor.marks` property instead, and applied when text is inserted next.\r\n   */\n  addMark(editor, key, value) {\n    editor.addMark(key, value);\n  },\n\n  /**\r\n   * Get the point after a location.\r\n   */\n  after(editor, at) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var anchor = Editor.point(editor, at, {\n      edge: 'end'\n    });\n    var focus = Editor.end(editor, []);\n    var range = {\n      anchor,\n      focus\n    };\n    var {\n      distance = 1\n    } = options;\n    var d = 0;\n    var target;\n\n    for (var p of Editor.positions(editor, _objectSpread$8(_objectSpread$8({}, options), {}, {\n      at: range\n    }))) {\n      if (d > distance) {\n        break;\n      }\n\n      if (d !== 0) {\n        target = p;\n      }\n\n      d++;\n    }\n\n    return target;\n  },\n\n  /**\r\n   * Get the point before a location.\r\n   */\n  before(editor, at) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var anchor = Editor.start(editor, []);\n    var focus = Editor.point(editor, at, {\n      edge: 'start'\n    });\n    var range = {\n      anchor,\n      focus\n    };\n    var {\n      distance = 1\n    } = options;\n    var d = 0;\n    var target;\n\n    for (var p of Editor.positions(editor, _objectSpread$8(_objectSpread$8({}, options), {}, {\n      at: range,\n      reverse: true\n    }))) {\n      if (d > distance) {\n        break;\n      }\n\n      if (d !== 0) {\n        target = p;\n      }\n\n      d++;\n    }\n\n    return target;\n  },\n\n  /**\r\n   * Delete content in the editor backward from the current selection.\r\n   */\n  deleteBackward(editor) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var {\n      unit = 'character'\n    } = options;\n    editor.deleteBackward(unit);\n  },\n\n  /**\r\n   * Delete content in the editor forward from the current selection.\r\n   */\n  deleteForward(editor) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var {\n      unit = 'character'\n    } = options;\n    editor.deleteForward(unit);\n  },\n\n  /**\r\n   * Delete the content in the current selection.\r\n   */\n  deleteFragment(editor) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var {\n      direction = 'forward'\n    } = options;\n    editor.deleteFragment(direction);\n  },\n\n  /**\r\n   * Get the start and end points of a location.\r\n   */\n  edges(editor, at) {\n    return [Editor.start(editor, at), Editor.end(editor, at)];\n  },\n\n  /**\r\n   * Get the end point of a location.\r\n   */\n  end(editor, at) {\n    return Editor.point(editor, at, {\n      edge: 'end'\n    });\n  },\n\n  /**\r\n   * Get the first node at a location.\r\n   */\n  first(editor, at) {\n    var path = Editor.path(editor, at, {\n      edge: 'start'\n    });\n    return Editor.node(editor, path);\n  },\n\n  /**\r\n   * Get the fragment at a location.\r\n   */\n  fragment(editor, at) {\n    var range = Editor.range(editor, at);\n    var fragment = Node.fragment(editor, range);\n    return fragment;\n  },\n\n  /**\r\n   * Check if a node has block children.\r\n   */\n  hasBlocks(editor, element) {\n    return element.children.some(n => Editor.isBlock(editor, n));\n  },\n\n  /**\r\n   * Check if a node has inline and text children.\r\n   */\n  hasInlines(editor, element) {\n    return element.children.some(n => Text.isText(n) || Editor.isInline(editor, n));\n  },\n\n  /**\r\n   * Check if a node has text children.\r\n   */\n  hasTexts(editor, element) {\n    return element.children.every(n => Text.isText(n));\n  },\n\n  /**\r\n   * Insert a block break at the current selection.\r\n   *\r\n   * If the selection is currently expanded, it will be deleted first.\r\n   */\n  insertBreak(editor) {\n    editor.insertBreak();\n  },\n\n  /**\r\n   * Insert a fragment at the current selection.\r\n   *\r\n   * If the selection is currently expanded, it will be deleted first.\r\n   */\n  insertFragment(editor, fragment) {\n    editor.insertFragment(fragment);\n  },\n\n  /**\r\n   * Insert a node at the current selection.\r\n   *\r\n   * If the selection is currently expanded, it will be deleted first.\r\n   */\n  insertNode(editor, node) {\n    editor.insertNode(node);\n  },\n\n  /**\r\n   * Insert text at the current selection.\r\n   *\r\n   * If the selection is currently expanded, it will be deleted first.\r\n   */\n  insertText(editor, text) {\n    editor.insertText(text);\n  },\n\n  /**\r\n   * Check if a value is a block `Element` object.\r\n   */\n  isBlock(editor, value) {\n    return Element.isElement(value) && !editor.isInline(value);\n  },\n\n  /**\r\n   * Check if a value is an `Editor` object.\r\n   */\n  isEditor(value) {\n    if (!isPlainObject(value)) return false;\n    var cachedIsEditor = IS_EDITOR_CACHE.get(value);\n\n    if (cachedIsEditor !== undefined) {\n      return cachedIsEditor;\n    }\n\n    var isEditor = typeof value.addMark === 'function' && typeof value.apply === 'function' && typeof value.deleteBackward === 'function' && typeof value.deleteForward === 'function' && typeof value.deleteFragment === 'function' && typeof value.insertBreak === 'function' && typeof value.insertFragment === 'function' && typeof value.insertNode === 'function' && typeof value.insertText === 'function' && typeof value.isInline === 'function' && typeof value.isVoid === 'function' && typeof value.normalizeNode === 'function' && typeof value.onChange === 'function' && typeof value.removeMark === 'function' && (value.marks === null || isPlainObject(value.marks)) && (value.selection === null || Range.isRange(value.selection)) && Node.isNodeList(value.children) && Operation.isOperationList(value.operations);\n    IS_EDITOR_CACHE.set(value, isEditor);\n    return isEditor;\n  },\n\n  /**\r\n   * Check if a point is the end point of a location.\r\n   */\n  isEnd(editor, point, at) {\n    var end = Editor.end(editor, at);\n    return Point.equals(point, end);\n  },\n\n  /**\r\n   * Check if a point is an edge of a location.\r\n   */\n  isEdge(editor, point, at) {\n    return Editor.isStart(editor, point, at) || Editor.isEnd(editor, point, at);\n  },\n\n  /**\r\n   * Check if an element is empty, accounting for void nodes.\r\n   */\n  isEmpty(editor, element) {\n    var {\n      children\n    } = element;\n    var [first] = children;\n    return children.length === 0 || children.length === 1 && Text.isText(first) && first.text === '' && !editor.isVoid(element);\n  },\n\n  /**\r\n   * Check if a value is an inline `Element` object.\r\n   */\n  isInline(editor, value) {\n    return Element.isElement(value) && editor.isInline(value);\n  },\n\n  /**\r\n   * Check if the editor is currently normalizing after each operation.\r\n   */\n  isNormalizing(editor) {\n    var isNormalizing = NORMALIZING.get(editor);\n    return isNormalizing === undefined ? true : isNormalizing;\n  },\n\n  /**\r\n   * Check if a point is the start point of a location.\r\n   */\n  isStart(editor, point, at) {\n    // PERF: If the offset isn't `0` we know it's not the start.\n    if (point.offset !== 0) {\n      return false;\n    }\n\n    var start = Editor.start(editor, at);\n    return Point.equals(point, start);\n  },\n\n  /**\r\n   * Check if a value is a void `Element` object.\r\n   */\n  isVoid(editor, value) {\n    return Element.isElement(value) && editor.isVoid(value);\n  },\n\n  /**\r\n   * Get the last node at a location.\r\n   */\n  last(editor, at) {\n    var path = Editor.path(editor, at, {\n      edge: 'end'\n    });\n    return Editor.node(editor, path);\n  },\n\n  /**\r\n   * Get the leaf text node at a location.\r\n   */\n  leaf(editor, at) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var path = Editor.path(editor, at, options);\n    var node = Node.leaf(editor, path);\n    return [node, path];\n  },\n\n  /**\r\n   * Iterate through all of the levels at a location.\r\n   */\n  *levels(editor) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var {\n      at = editor.selection,\n      reverse = false,\n      voids = false\n    } = options;\n    var {\n      match\n    } = options;\n\n    if (match == null) {\n      match = () => true;\n    }\n\n    if (!at) {\n      return;\n    }\n\n    var levels = [];\n    var path = Editor.path(editor, at);\n\n    for (var [n, p] of Node.levels(editor, path)) {\n      if (!match(n, p)) {\n        continue;\n      }\n\n      levels.push([n, p]);\n\n      if (!voids && Editor.isVoid(editor, n)) {\n        break;\n      }\n    }\n\n    if (reverse) {\n      levels.reverse();\n    }\n\n    yield* levels;\n  },\n\n  /**\r\n   * Get the marks that would be added to text at the current selection.\r\n   */\n  marks(editor) {\n    var {\n      marks,\n      selection\n    } = editor;\n\n    if (!selection) {\n      return null;\n    }\n\n    if (marks) {\n      return marks;\n    }\n\n    if (Range.isExpanded(selection)) {\n      var [match] = Editor.nodes(editor, {\n        match: Text.isText\n      });\n\n      if (match) {\n        var [_node] = match;\n\n        var _rest = _objectWithoutProperties(_node, _excluded$4);\n\n        return _rest;\n      } else {\n        return {};\n      }\n    }\n\n    var {\n      anchor\n    } = selection;\n    var {\n      path\n    } = anchor;\n    var [node] = Editor.leaf(editor, path);\n\n    if (anchor.offset === 0) {\n      var prev = Editor.previous(editor, {\n        at: path,\n        match: Text.isText\n      });\n      var block = Editor.above(editor, {\n        match: n => Editor.isBlock(editor, n)\n      });\n\n      if (prev && block) {\n        var [prevNode, prevPath] = prev;\n        var [, blockPath] = block;\n\n        if (Path.isAncestor(blockPath, prevPath)) {\n          node = prevNode;\n        }\n      }\n    }\n\n    var rest = _objectWithoutProperties(node, _excluded2$3);\n\n    return rest;\n  },\n\n  /**\r\n   * Get the matching node in the branch of the document after a location.\r\n   */\n  next(editor) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var {\n      mode = 'lowest',\n      voids = false\n    } = options;\n    var {\n      match,\n      at = editor.selection\n    } = options;\n\n    if (!at) {\n      return;\n    }\n\n    var pointAfterLocation = Editor.after(editor, at, {\n      voids\n    });\n    if (!pointAfterLocation) return;\n    var [, to] = Editor.last(editor, []);\n    var span = [pointAfterLocation.path, to];\n\n    if (Path.isPath(at) && at.length === 0) {\n      throw new Error(\"Cannot get the next node from the root node!\");\n    }\n\n    if (match == null) {\n      if (Path.isPath(at)) {\n        var [parent] = Editor.parent(editor, at);\n\n        match = n => parent.children.includes(n);\n      } else {\n        match = () => true;\n      }\n    }\n\n    var [next] = Editor.nodes(editor, {\n      at: span,\n      match,\n      mode,\n      voids\n    });\n    return next;\n  },\n\n  /**\r\n   * Get the node at a location.\r\n   */\n  node(editor, at) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var path = Editor.path(editor, at, options);\n    var node = Node.get(editor, path);\n    return [node, path];\n  },\n\n  /**\r\n   * Iterate through all of the nodes in the Editor.\r\n   */\n  *nodes(editor) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var {\n      at = editor.selection,\n      mode = 'all',\n      universal = false,\n      reverse = false,\n      voids = false\n    } = options;\n    var {\n      match\n    } = options;\n\n    if (!match) {\n      match = () => true;\n    }\n\n    if (!at) {\n      return;\n    }\n\n    var from;\n    var to;\n\n    if (Span.isSpan(at)) {\n      from = at[0];\n      to = at[1];\n    } else {\n      var first = Editor.path(editor, at, {\n        edge: 'start'\n      });\n      var last = Editor.path(editor, at, {\n        edge: 'end'\n      });\n      from = reverse ? last : first;\n      to = reverse ? first : last;\n    }\n\n    var nodeEntries = Node.nodes(editor, {\n      reverse,\n      from,\n      to,\n      pass: _ref => {\n        var [n] = _ref;\n        return voids ? false : Editor.isVoid(editor, n);\n      }\n    });\n    var matches = [];\n    var hit;\n\n    for (var [node, path] of nodeEntries) {\n      var isLower = hit && Path.compare(path, hit[1]) === 0; // In highest mode any node lower than the last hit is not a match.\n\n      if (mode === 'highest' && isLower) {\n        continue;\n      }\n\n      if (!match(node, path)) {\n        // If we've arrived at a leaf text node that is not lower than the last\n        // hit, then we've found a branch that doesn't include a match, which\n        // means the match is not universal.\n        if (universal && !isLower && Text.isText(node)) {\n          return;\n        } else {\n          continue;\n        }\n      } // If there's a match and it's lower than the last, update the hit.\n\n\n      if (mode === 'lowest' && isLower) {\n        hit = [node, path];\n        continue;\n      } // In lowest mode we emit the last hit, once it's guaranteed lowest.\n\n\n      var emit = mode === 'lowest' ? hit : [node, path];\n\n      if (emit) {\n        if (universal) {\n          matches.push(emit);\n        } else {\n          yield emit;\n        }\n      }\n\n      hit = [node, path];\n    } // Since lowest is always emitting one behind, catch up at the end.\n\n\n    if (mode === 'lowest' && hit) {\n      if (universal) {\n        matches.push(hit);\n      } else {\n        yield hit;\n      }\n    } // Universal defers to ensure that the match occurs in every branch, so we\n    // yield all of the matches after iterating.\n\n\n    if (universal) {\n      yield* matches;\n    }\n  },\n\n  /**\r\n   * Normalize any dirty objects in the editor.\r\n   */\n  normalize(editor) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var {\n      force = false\n    } = options;\n\n    var getDirtyPaths = editor => {\n      return DIRTY_PATHS.get(editor) || [];\n    };\n\n    var getDirtyPathKeys = editor => {\n      return DIRTY_PATH_KEYS.get(editor) || new Set();\n    };\n\n    var popDirtyPath = editor => {\n      var path = getDirtyPaths(editor).pop();\n      var key = path.join(',');\n      getDirtyPathKeys(editor).delete(key);\n      return path;\n    };\n\n    if (!Editor.isNormalizing(editor)) {\n      return;\n    }\n\n    if (force) {\n      var allPaths = Array.from(Node.nodes(editor), _ref2 => {\n        var [, p] = _ref2;\n        return p;\n      });\n      var allPathKeys = new Set(allPaths.map(p => p.join(',')));\n      DIRTY_PATHS.set(editor, allPaths);\n      DIRTY_PATH_KEYS.set(editor, allPathKeys);\n    }\n\n    if (getDirtyPaths(editor).length === 0) {\n      return;\n    }\n\n    Editor.withoutNormalizing(editor, () => {\n      /*\r\n        Fix dirty elements with no children.\r\n        editor.normalizeNode() does fix this, but some normalization fixes also require it to work.\r\n        Running an initial pass avoids the catch-22 race condition.\r\n      */\n      for (var dirtyPath of getDirtyPaths(editor)) {\n        if (Node.has(editor, dirtyPath)) {\n          var entry = Editor.node(editor, dirtyPath);\n          var [node, _] = entry;\n          /*\r\n            The default normalizer inserts an empty text node in this scenario, but it can be customised.\r\n            So there is some risk here.\r\n                       As long as the normalizer only inserts child nodes for this case it is safe to do in any order;\r\n            by definition adding children to an empty node can't cause other paths to change.\r\n          */\n\n          if (Element.isElement(node) && node.children.length === 0) {\n            editor.normalizeNode(entry);\n          }\n        }\n      }\n\n      var max = getDirtyPaths(editor).length * 42; // HACK: better way?\n\n      var m = 0;\n\n      while (getDirtyPaths(editor).length !== 0) {\n        if (m > max) {\n          throw new Error(\"\\n            Could not completely normalize the editor after \".concat(max, \" iterations! This is usually due to incorrect normalization logic that leaves a node in an invalid state.\\n          \"));\n        }\n\n        var _dirtyPath = popDirtyPath(editor); // If the node doesn't exist in the tree, it does not need to be normalized.\n\n\n        if (Node.has(editor, _dirtyPath)) {\n          var _entry = Editor.node(editor, _dirtyPath);\n\n          editor.normalizeNode(_entry);\n        }\n\n        m++;\n      }\n    });\n  },\n\n  /**\r\n   * Get the parent node of a location.\r\n   */\n  parent(editor, at) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var path = Editor.path(editor, at, options);\n    var parentPath = Path.parent(path);\n    var entry = Editor.node(editor, parentPath);\n    return entry;\n  },\n\n  /**\r\n   * Get the path of a location.\r\n   */\n  path(editor, at) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var {\n      depth,\n      edge\n    } = options;\n\n    if (Path.isPath(at)) {\n      if (edge === 'start') {\n        var [, firstPath] = Node.first(editor, at);\n        at = firstPath;\n      } else if (edge === 'end') {\n        var [, lastPath] = Node.last(editor, at);\n        at = lastPath;\n      }\n    }\n\n    if (Range.isRange(at)) {\n      if (edge === 'start') {\n        at = Range.start(at);\n      } else if (edge === 'end') {\n        at = Range.end(at);\n      } else {\n        at = Path.common(at.anchor.path, at.focus.path);\n      }\n    }\n\n    if (Point.isPoint(at)) {\n      at = at.path;\n    }\n\n    if (depth != null) {\n      at = at.slice(0, depth);\n    }\n\n    return at;\n  },\n\n  hasPath(editor, path) {\n    return Node.has(editor, path);\n  },\n\n  /**\r\n   * Create a mutable ref for a `Path` object, which will stay in sync as new\r\n   * operations are applied to the editor.\r\n   */\n  pathRef(editor, path) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var {\n      affinity = 'forward'\n    } = options;\n    var ref = {\n      current: path,\n      affinity,\n\n      unref() {\n        var {\n          current\n        } = ref;\n        var pathRefs = Editor.pathRefs(editor);\n        pathRefs.delete(ref);\n        ref.current = null;\n        return current;\n      }\n\n    };\n    var refs = Editor.pathRefs(editor);\n    refs.add(ref);\n    return ref;\n  },\n\n  /**\r\n   * Get the set of currently tracked path refs of the editor.\r\n   */\n  pathRefs(editor) {\n    var refs = PATH_REFS.get(editor);\n\n    if (!refs) {\n      refs = new Set();\n      PATH_REFS.set(editor, refs);\n    }\n\n    return refs;\n  },\n\n  /**\r\n   * Get the start or end point of a location.\r\n   */\n  point(editor, at) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var {\n      edge = 'start'\n    } = options;\n\n    if (Path.isPath(at)) {\n      var path;\n\n      if (edge === 'end') {\n        var [, lastPath] = Node.last(editor, at);\n        path = lastPath;\n      } else {\n        var [, firstPath] = Node.first(editor, at);\n        path = firstPath;\n      }\n\n      var node = Node.get(editor, path);\n\n      if (!Text.isText(node)) {\n        throw new Error(\"Cannot get the \".concat(edge, \" point in the node at path [\").concat(at, \"] because it has no \").concat(edge, \" text node.\"));\n      }\n\n      return {\n        path,\n        offset: edge === 'end' ? node.text.length : 0\n      };\n    }\n\n    if (Range.isRange(at)) {\n      var [start, end] = Range.edges(at);\n      return edge === 'start' ? start : end;\n    }\n\n    return at;\n  },\n\n  /**\r\n   * Create a mutable ref for a `Point` object, which will stay in sync as new\r\n   * operations are applied to the editor.\r\n   */\n  pointRef(editor, point) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var {\n      affinity = 'forward'\n    } = options;\n    var ref = {\n      current: point,\n      affinity,\n\n      unref() {\n        var {\n          current\n        } = ref;\n        var pointRefs = Editor.pointRefs(editor);\n        pointRefs.delete(ref);\n        ref.current = null;\n        return current;\n      }\n\n    };\n    var refs = Editor.pointRefs(editor);\n    refs.add(ref);\n    return ref;\n  },\n\n  /**\r\n   * Get the set of currently tracked point refs of the editor.\r\n   */\n  pointRefs(editor) {\n    var refs = POINT_REFS.get(editor);\n\n    if (!refs) {\n      refs = new Set();\n      POINT_REFS.set(editor, refs);\n    }\n\n    return refs;\n  },\n\n  /**\r\n   * Return all the positions in `at` range where a `Point` can be placed.\r\n   *\r\n   * By default, moves forward by individual offsets at a time, but\r\n   * the `unit` option can be used to to move by character, word, line, or block.\r\n   *\r\n   * The `reverse` option can be used to change iteration direction.\r\n   *\r\n   * Note: By default void nodes are treated as a single point and iteration\r\n   * will not happen inside their content unless you pass in true for the\r\n   * `voids` option, then iteration will occur.\r\n   */\n  *positions(editor) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var {\n      at = editor.selection,\n      unit = 'offset',\n      reverse = false,\n      voids = false\n    } = options;\n\n    if (!at) {\n      return;\n    }\n    /**\r\n     * Algorithm notes:\r\n     *\r\n     * Each step `distance` is dynamic depending on the underlying text\r\n     * and the `unit` specified.  Each step, e.g., a line or word, may\r\n     * span multiple text nodes, so we iterate through the text both on\r\n     * two levels in step-sync:\r\n     *\r\n     * `leafText` stores the text on a text leaf level, and is advanced\r\n     * through using the counters `leafTextOffset` and `leafTextRemaining`.\r\n     *\r\n     * `blockText` stores the text on a block level, and is shortened\r\n     * by `distance` every time it is advanced.\r\n     *\r\n     * We only maintain a window of one blockText and one leafText because\r\n     * a block node always appears before all of its leaf nodes.\r\n     */\n\n\n    var range = Editor.range(editor, at);\n    var [start, end] = Range.edges(range);\n    var first = reverse ? end : start;\n    var isNewBlock = false;\n    var blockText = '';\n    var distance = 0; // Distance for leafText to catch up to blockText.\n\n    var leafTextRemaining = 0;\n    var leafTextOffset = 0; // Iterate through all nodes in range, grabbing entire textual content\n    // of block nodes in blockText, and text nodes in leafText.\n    // Exploits the fact that nodes are sequenced in such a way that we first\n    // encounter the block node, then all of its text nodes, so when iterating\n    // through the blockText and leafText we just need to remember a window of\n    // one block node and leaf node, respectively.\n\n    for (var [node, path] of Editor.nodes(editor, {\n      at,\n      reverse,\n      voids\n    })) {\n      /*\r\n       * ELEMENT NODE - Yield position(s) for voids, collect blockText for blocks\r\n       */\n      if (Element.isElement(node)) {\n        // Void nodes are a special case, so by default we will always\n        // yield their first point. If the `voids` option is set to true,\n        // then we will iterate over their content.\n        if (!voids && editor.isVoid(node)) {\n          yield Editor.start(editor, path);\n          continue;\n        } // Inline element nodes are ignored as they don't themselves\n        // contribute to `blockText` or `leafText` - their parent and\n        // children do.\n\n\n        if (editor.isInline(node)) continue; // Block element node - set `blockText` to its text content.\n\n        if (Editor.hasInlines(editor, node)) {\n          // We always exhaust block nodes before encountering a new one:\n          //   console.assert(blockText === '',\n          //     `blockText='${blockText}' - `+\n          //     `not exhausted before new block node`, path)\n          // Ensure range considered is capped to `range`, in the\n          // start/end edge cases where block extends beyond range.\n          // Equivalent to this, but presumably more performant:\n          //   blockRange = Editor.range(editor, ...Editor.edges(editor, path))\n          //   blockRange = Range.intersection(range, blockRange) // intersect\n          //   blockText = Editor.string(editor, blockRange, { voids })\n          var e = Path.isAncestor(path, end.path) ? end : Editor.end(editor, path);\n          var s = Path.isAncestor(path, start.path) ? start : Editor.start(editor, path);\n          blockText = Editor.string(editor, {\n            anchor: s,\n            focus: e\n          }, {\n            voids\n          });\n          isNewBlock = true;\n        }\n      }\n      /*\r\n       * TEXT LEAF NODE - Iterate through text content, yielding\r\n       * positions every `distance` offset according to `unit`.\r\n       */\n\n\n      if (Text.isText(node)) {\n        var isFirst = Path.equals(path, first.path); // Proof that we always exhaust text nodes before encountering a new one:\n        //   console.assert(leafTextRemaining <= 0,\n        //     `leafTextRemaining=${leafTextRemaining} - `+\n        //     `not exhausted before new leaf text node`, path)\n        // Reset `leafText` counters for new text node.\n\n        if (isFirst) {\n          leafTextRemaining = reverse ? first.offset : node.text.length - first.offset;\n          leafTextOffset = first.offset; // Works for reverse too.\n        } else {\n          leafTextRemaining = node.text.length;\n          leafTextOffset = reverse ? leafTextRemaining : 0;\n        } // Yield position at the start of node (potentially).\n\n\n        if (isFirst || isNewBlock || unit === 'offset') {\n          yield {\n            path,\n            offset: leafTextOffset\n          };\n          isNewBlock = false;\n        } // Yield positions every (dynamically calculated) `distance` offset.\n\n\n        while (true) {\n          // If `leafText` has caught up with `blockText` (distance=0),\n          // and if blockText is exhausted, break to get another block node,\n          // otherwise advance blockText forward by the new `distance`.\n          if (distance === 0) {\n            if (blockText === '') break;\n            distance = calcDistance(blockText, unit, reverse); // Split the string at the previously found distance and use the\n            // remaining string for the next iteration.\n\n            blockText = splitByCharacterDistance(blockText, distance, reverse)[1];\n          } // Advance `leafText` by the current `distance`.\n\n\n          leafTextOffset = reverse ? leafTextOffset - distance : leafTextOffset + distance;\n          leafTextRemaining = leafTextRemaining - distance; // If `leafText` is exhausted, break to get a new leaf node\n          // and set distance to the overflow amount, so we'll (maybe)\n          // catch up to blockText in the next leaf text node.\n\n          if (leafTextRemaining < 0) {\n            distance = -leafTextRemaining;\n            break;\n          } // Successfully walked `distance` offsets through `leafText`\n          // to catch up with `blockText`, so we can reset `distance`\n          // and yield this position in this node.\n\n\n          distance = 0;\n          yield {\n            path,\n            offset: leafTextOffset\n          };\n        }\n      }\n    } // Proof that upon completion, we've exahusted both leaf and block text:\n    //   console.assert(leafTextRemaining <= 0, \"leafText wasn't exhausted\")\n    //   console.assert(blockText === '', \"blockText wasn't exhausted\")\n    // Helper:\n    // Return the distance in offsets for a step of size `unit` on given string.\n\n\n    function calcDistance(text, unit, reverse) {\n      if (unit === 'character') {\n        return getCharacterDistance(text, reverse);\n      } else if (unit === 'word') {\n        return getWordDistance(text, reverse);\n      } else if (unit === 'line' || unit === 'block') {\n        return text.length;\n      }\n\n      return 1;\n    }\n  },\n\n  /**\r\n   * Get the matching node in the branch of the document before a location.\r\n   */\n  previous(editor) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var {\n      mode = 'lowest',\n      voids = false\n    } = options;\n    var {\n      match,\n      at = editor.selection\n    } = options;\n\n    if (!at) {\n      return;\n    }\n\n    var pointBeforeLocation = Editor.before(editor, at, {\n      voids\n    });\n\n    if (!pointBeforeLocation) {\n      return;\n    }\n\n    var [, to] = Editor.first(editor, []); // The search location is from the start of the document to the path of\n    // the point before the location passed in\n\n    var span = [pointBeforeLocation.path, to];\n\n    if (Path.isPath(at) && at.length === 0) {\n      throw new Error(\"Cannot get the previous node from the root node!\");\n    }\n\n    if (match == null) {\n      if (Path.isPath(at)) {\n        var [parent] = Editor.parent(editor, at);\n\n        match = n => parent.children.includes(n);\n      } else {\n        match = () => true;\n      }\n    }\n\n    var [previous] = Editor.nodes(editor, {\n      reverse: true,\n      at: span,\n      match,\n      mode,\n      voids\n    });\n    return previous;\n  },\n\n  /**\r\n   * Get a range of a location.\r\n   */\n  range(editor, at, to) {\n    if (Range.isRange(at) && !to) {\n      return at;\n    }\n\n    var start = Editor.start(editor, at);\n    var end = Editor.end(editor, to || at);\n    return {\n      anchor: start,\n      focus: end\n    };\n  },\n\n  /**\r\n   * Create a mutable ref for a `Range` object, which will stay in sync as new\r\n   * operations are applied to the editor.\r\n   */\n  rangeRef(editor, range) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var {\n      affinity = 'forward'\n    } = options;\n    var ref = {\n      current: range,\n      affinity,\n\n      unref() {\n        var {\n          current\n        } = ref;\n        var rangeRefs = Editor.rangeRefs(editor);\n        rangeRefs.delete(ref);\n        ref.current = null;\n        return current;\n      }\n\n    };\n    var refs = Editor.rangeRefs(editor);\n    refs.add(ref);\n    return ref;\n  },\n\n  /**\r\n   * Get the set of currently tracked range refs of the editor.\r\n   */\n  rangeRefs(editor) {\n    var refs = RANGE_REFS.get(editor);\n\n    if (!refs) {\n      refs = new Set();\n      RANGE_REFS.set(editor, refs);\n    }\n\n    return refs;\n  },\n\n  /**\r\n   * Remove a custom property from all of the leaf text nodes in the current\r\n   * selection.\r\n   *\r\n   * If the selection is currently collapsed, the removal will be stored on\r\n   * `editor.marks` and applied to the text inserted next.\r\n   */\n  removeMark(editor, key) {\n    editor.removeMark(key);\n  },\n\n  /**\r\n   * Manually set if the editor should currently be normalizing.\r\n   *\r\n   * Note: Using this incorrectly can leave the editor in an invalid state.\r\n   *\r\n   */\n  setNormalizing(editor, isNormalizing) {\n    NORMALIZING.set(editor, isNormalizing);\n  },\n\n  /**\r\n   * Get the start point of a location.\r\n   */\n  start(editor, at) {\n    return Editor.point(editor, at, {\n      edge: 'start'\n    });\n  },\n\n  /**\r\n   * Get the text string content of a location.\r\n   *\r\n   * Note: by default the text of void nodes is considered to be an empty\r\n   * string, regardless of content, unless you pass in true for the voids option\r\n   */\n  string(editor, at) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var {\n      voids = false\n    } = options;\n    var range = Editor.range(editor, at);\n    var [start, end] = Range.edges(range);\n    var text = '';\n\n    for (var [node, path] of Editor.nodes(editor, {\n      at: range,\n      match: Text.isText,\n      voids\n    })) {\n      var t = node.text;\n\n      if (Path.equals(path, end.path)) {\n        t = t.slice(0, end.offset);\n      }\n\n      if (Path.equals(path, start.path)) {\n        t = t.slice(start.offset);\n      }\n\n      text += t;\n    }\n\n    return text;\n  },\n\n  /**\r\n   * Convert a range into a non-hanging one.\r\n   */\n  unhangRange(editor, range) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var {\n      voids = false\n    } = options;\n    var [start, end] = Range.edges(range); // PERF: exit early if we can guarantee that the range isn't hanging.\n\n    if (start.offset !== 0 || end.offset !== 0 || Range.isCollapsed(range)) {\n      return range;\n    }\n\n    var endBlock = Editor.above(editor, {\n      at: end,\n      match: n => Editor.isBlock(editor, n)\n    });\n    var blockPath = endBlock ? endBlock[1] : [];\n    var first = Editor.start(editor, start);\n    var before = {\n      anchor: first,\n      focus: end\n    };\n    var skip = true;\n\n    for (var [node, path] of Editor.nodes(editor, {\n      at: before,\n      match: Text.isText,\n      reverse: true,\n      voids\n    })) {\n      if (skip) {\n        skip = false;\n        continue;\n      }\n\n      if (node.text !== '' || Path.isBefore(path, blockPath)) {\n        end = {\n          path,\n          offset: node.text.length\n        };\n        break;\n      }\n    }\n\n    return {\n      anchor: start,\n      focus: end\n    };\n  },\n\n  /**\r\n   * Match a void node in the current branch of the editor.\r\n   */\n  void(editor) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    return Editor.above(editor, _objectSpread$8(_objectSpread$8({}, options), {}, {\n      match: n => Editor.isVoid(editor, n)\n    }));\n  },\n\n  /**\r\n   * Call a function, deferring normalization until after it completes.\r\n   */\n  withoutNormalizing(editor, fn) {\n    var value = Editor.isNormalizing(editor);\n    Editor.setNormalizing(editor, false);\n\n    try {\n      fn();\n    } finally {\n      Editor.setNormalizing(editor, value);\n    }\n\n    Editor.normalize(editor);\n  }\n\n};\n\nvar Location = {\n  /**\r\n   * Check if a value implements the `Location` interface.\r\n   */\n  isLocation(value) {\n    return Path.isPath(value) || Point.isPoint(value) || Range.isRange(value);\n  }\n\n};\nvar Span = {\n  /**\r\n   * Check if a value implements the `Span` interface.\r\n   */\n  isSpan(value) {\n    return Array.isArray(value) && value.length === 2 && value.every(Path.isPath);\n  }\n\n};\n\nvar _excluded$3 = [\"children\"],\n    _excluded2$2 = [\"text\"];\nvar IS_NODE_LIST_CACHE = new WeakMap();\nvar Node = {\n  /**\r\n   * Get the node at a specific path, asserting that it's an ancestor node.\r\n   */\n  ancestor(root, path) {\n    var node = Node.get(root, path);\n\n    if (Text.isText(node)) {\n      throw new Error(\"Cannot get the ancestor node at path [\".concat(path, \"] because it refers to a text node instead: \").concat(node));\n    }\n\n    return node;\n  },\n\n  /**\r\n   * Return a generator of all the ancestor nodes above a specific path.\r\n   *\r\n   * By default the order is bottom-up, from lowest to highest ancestor in\r\n   * the tree, but you can pass the `reverse: true` option to go top-down.\r\n   */\n  *ancestors(root, path) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n    for (var p of Path.ancestors(path, options)) {\n      var n = Node.ancestor(root, p);\n      var entry = [n, p];\n      yield entry;\n    }\n  },\n\n  /**\r\n   * Get the child of a node at a specific index.\r\n   */\n  child(root, index) {\n    if (Text.isText(root)) {\n      throw new Error(\"Cannot get the child of a text node: \".concat(JSON.stringify(root)));\n    }\n\n    var c = root.children[index];\n\n    if (c == null) {\n      throw new Error(\"Cannot get child at index `\".concat(index, \"` in node: \").concat(JSON.stringify(root)));\n    }\n\n    return c;\n  },\n\n  /**\r\n   * Iterate over the children of a node at a specific path.\r\n   */\n  *children(root, path) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var {\n      reverse = false\n    } = options;\n    var ancestor = Node.ancestor(root, path);\n    var {\n      children\n    } = ancestor;\n    var index = reverse ? children.length - 1 : 0;\n\n    while (reverse ? index >= 0 : index < children.length) {\n      var child = Node.child(ancestor, index);\n      var childPath = path.concat(index);\n      yield [child, childPath];\n      index = reverse ? index - 1 : index + 1;\n    }\n  },\n\n  /**\r\n   * Get an entry for the common ancesetor node of two paths.\r\n   */\n  common(root, path, another) {\n    var p = Path.common(path, another);\n    var n = Node.get(root, p);\n    return [n, p];\n  },\n\n  /**\r\n   * Get the node at a specific path, asserting that it's a descendant node.\r\n   */\n  descendant(root, path) {\n    var node = Node.get(root, path);\n\n    if (Editor.isEditor(node)) {\n      throw new Error(\"Cannot get the descendant node at path [\".concat(path, \"] because it refers to the root editor node instead: \").concat(node));\n    }\n\n    return node;\n  },\n\n  /**\r\n   * Return a generator of all the descendant node entries inside a root node.\r\n   */\n  *descendants(root) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    for (var [node, path] of Node.nodes(root, options)) {\n      if (path.length !== 0) {\n        // NOTE: we have to coerce here because checking the path's length does\n        // guarantee that `node` is not a `Editor`, but TypeScript doesn't know.\n        yield [node, path];\n      }\n    }\n  },\n\n  /**\r\n   * Return a generator of all the element nodes inside a root node. Each iteration\r\n   * will return an `ElementEntry` tuple consisting of `[Element, Path]`. If the\r\n   * root node is an element it will be included in the iteration as well.\r\n   */\n  *elements(root) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    for (var [node, path] of Node.nodes(root, options)) {\n      if (Element.isElement(node)) {\n        yield [node, path];\n      }\n    }\n  },\n\n  /**\r\n   * Extract props from a Node.\r\n   */\n  extractProps(node) {\n    if (Element.isAncestor(node)) {\n      var properties = _objectWithoutProperties(node, _excluded$3);\n\n      return properties;\n    } else {\n      var properties = _objectWithoutProperties(node, _excluded2$2);\n\n      return properties;\n    }\n  },\n\n  /**\r\n   * Get the first node entry in a root node from a path.\r\n   */\n  first(root, path) {\n    var p = path.slice();\n    var n = Node.get(root, p);\n\n    while (n) {\n      if (Text.isText(n) || n.children.length === 0) {\n        break;\n      } else {\n        n = n.children[0];\n        p.push(0);\n      }\n    }\n\n    return [n, p];\n  },\n\n  /**\r\n   * Get the sliced fragment represented by a range inside a root node.\r\n   */\n  fragment(root, range) {\n    if (Text.isText(root)) {\n      throw new Error(\"Cannot get a fragment starting from a root text node: \".concat(JSON.stringify(root)));\n    }\n\n    var newRoot = produce({\n      children: root.children\n    }, r => {\n      var [start, end] = Range.edges(range);\n      var nodeEntries = Node.nodes(r, {\n        reverse: true,\n        pass: _ref => {\n          var [, path] = _ref;\n          return !Range.includes(range, path);\n        }\n      });\n\n      for (var [, path] of nodeEntries) {\n        if (!Range.includes(range, path)) {\n          var parent = Node.parent(r, path);\n          var index = path[path.length - 1];\n          parent.children.splice(index, 1);\n        }\n\n        if (Path.equals(path, end.path)) {\n          var leaf = Node.leaf(r, path);\n          leaf.text = leaf.text.slice(0, end.offset);\n        }\n\n        if (Path.equals(path, start.path)) {\n          var _leaf = Node.leaf(r, path);\n\n          _leaf.text = _leaf.text.slice(start.offset);\n        }\n      }\n\n      if (Editor.isEditor(r)) {\n        r.selection = null;\n      }\n    });\n    return newRoot.children;\n  },\n\n  /**\r\n   * Get the descendant node referred to by a specific path. If the path is an\r\n   * empty array, it refers to the root node itself.\r\n   */\n  get(root, path) {\n    var node = root;\n\n    for (var i = 0; i < path.length; i++) {\n      var p = path[i];\n\n      if (Text.isText(node) || !node.children[p]) {\n        throw new Error(\"Cannot find a descendant at path [\".concat(path, \"] in node: \").concat(JSON.stringify(root)));\n      }\n\n      node = node.children[p];\n    }\n\n    return node;\n  },\n\n  /**\r\n   * Check if a descendant node exists at a specific path.\r\n   */\n  has(root, path) {\n    var node = root;\n\n    for (var i = 0; i < path.length; i++) {\n      var p = path[i];\n\n      if (Text.isText(node) || !node.children[p]) {\n        return false;\n      }\n\n      node = node.children[p];\n    }\n\n    return true;\n  },\n\n  /**\r\n   * Check if a value implements the `Node` interface.\r\n   */\n  isNode(value) {\n    return Text.isText(value) || Element.isElement(value) || Editor.isEditor(value);\n  },\n\n  /**\r\n   * Check if a value is a list of `Node` objects.\r\n   */\n  isNodeList(value) {\n    if (!Array.isArray(value)) {\n      return false;\n    }\n\n    var cachedResult = IS_NODE_LIST_CACHE.get(value);\n\n    if (cachedResult !== undefined) {\n      return cachedResult;\n    }\n\n    var isNodeList = value.every(val => Node.isNode(val));\n    IS_NODE_LIST_CACHE.set(value, isNodeList);\n    return isNodeList;\n  },\n\n  /**\r\n   * Get the last node entry in a root node from a path.\r\n   */\n  last(root, path) {\n    var p = path.slice();\n    var n = Node.get(root, p);\n\n    while (n) {\n      if (Text.isText(n) || n.children.length === 0) {\n        break;\n      } else {\n        var i = n.children.length - 1;\n        n = n.children[i];\n        p.push(i);\n      }\n    }\n\n    return [n, p];\n  },\n\n  /**\r\n   * Get the node at a specific path, ensuring it's a leaf text node.\r\n   */\n  leaf(root, path) {\n    var node = Node.get(root, path);\n\n    if (!Text.isText(node)) {\n      throw new Error(\"Cannot get the leaf node at path [\".concat(path, \"] because it refers to a non-leaf node: \").concat(node));\n    }\n\n    return node;\n  },\n\n  /**\r\n   * Return a generator of the in a branch of the tree, from a specific path.\r\n   *\r\n   * By default the order is top-down, from lowest to highest node in the tree,\r\n   * but you can pass the `reverse: true` option to go bottom-up.\r\n   */\n  *levels(root, path) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n    for (var p of Path.levels(path, options)) {\n      var n = Node.get(root, p);\n      yield [n, p];\n    }\n  },\n\n  /**\r\n   * Check if a node matches a set of props.\r\n   */\n  matches(node, props) {\n    return Element.isElement(node) && Element.isElementProps(props) && Element.matches(node, props) || Text.isText(node) && Text.isTextProps(props) && Text.matches(node, props);\n  },\n\n  /**\r\n   * Return a generator of all the node entries of a root node. Each entry is\r\n   * returned as a `[Node, Path]` tuple, with the path referring to the node's\r\n   * position inside the root node.\r\n   */\n  *nodes(root) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var {\n      pass,\n      reverse = false\n    } = options;\n    var {\n      from = [],\n      to\n    } = options;\n    var visited = new Set();\n    var p = [];\n    var n = root;\n\n    while (true) {\n      if (to && (reverse ? Path.isBefore(p, to) : Path.isAfter(p, to))) {\n        break;\n      }\n\n      if (!visited.has(n)) {\n        yield [n, p];\n      } // If we're allowed to go downward and we haven't descended yet, do.\n\n\n      if (!visited.has(n) && !Text.isText(n) && n.children.length !== 0 && (pass == null || pass([n, p]) === false)) {\n        visited.add(n);\n        var nextIndex = reverse ? n.children.length - 1 : 0;\n\n        if (Path.isAncestor(p, from)) {\n          nextIndex = from[p.length];\n        }\n\n        p = p.concat(nextIndex);\n        n = Node.get(root, p);\n        continue;\n      } // If we're at the root and we can't go down, we're done.\n\n\n      if (p.length === 0) {\n        break;\n      } // If we're going forward...\n\n\n      if (!reverse) {\n        var newPath = Path.next(p);\n\n        if (Node.has(root, newPath)) {\n          p = newPath;\n          n = Node.get(root, p);\n          continue;\n        }\n      } // If we're going backward...\n\n\n      if (reverse && p[p.length - 1] !== 0) {\n        var _newPath = Path.previous(p);\n\n        p = _newPath;\n        n = Node.get(root, p);\n        continue;\n      } // Otherwise we're going upward...\n\n\n      p = Path.parent(p);\n      n = Node.get(root, p);\n      visited.add(n);\n    }\n  },\n\n  /**\r\n   * Get the parent of a node at a specific path.\r\n   */\n  parent(root, path) {\n    var parentPath = Path.parent(path);\n    var p = Node.get(root, parentPath);\n\n    if (Text.isText(p)) {\n      throw new Error(\"Cannot get the parent of path [\".concat(path, \"] because it does not exist in the root.\"));\n    }\n\n    return p;\n  },\n\n  /**\r\n   * Get the concatenated text string of a node's content.\r\n   *\r\n   * Note that this will not include spaces or line breaks between block nodes.\r\n   * It is not a user-facing string, but a string for performing offset-related\r\n   * computations for a node.\r\n   */\n  string(node) {\n    if (Text.isText(node)) {\n      return node.text;\n    } else {\n      return node.children.map(Node.string).join('');\n    }\n  },\n\n  /**\r\n   * Return a generator of all leaf text nodes in a root node.\r\n   */\n  *texts(root) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    for (var [node, path] of Node.nodes(root, options)) {\n      if (Text.isText(node)) {\n        yield [node, path];\n      }\n    }\n  }\n\n};\n\nfunction ownKeys$7(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$7(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys$7(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys$7(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\nvar Operation = {\n  /**\r\n   * Check of a value is a `NodeOperation` object.\r\n   */\n  isNodeOperation(value) {\n    return Operation.isOperation(value) && value.type.endsWith('_node');\n  },\n\n  /**\r\n   * Check of a value is an `Operation` object.\r\n   */\n  isOperation(value) {\n    if (!isPlainObject(value)) {\n      return false;\n    }\n\n    switch (value.type) {\n      case 'insert_node':\n        return Path.isPath(value.path) && Node.isNode(value.node);\n\n      case 'insert_text':\n        return typeof value.offset === 'number' && typeof value.text === 'string' && Path.isPath(value.path);\n\n      case 'merge_node':\n        return typeof value.position === 'number' && Path.isPath(value.path) && isPlainObject(value.properties);\n\n      case 'move_node':\n        return Path.isPath(value.path) && Path.isPath(value.newPath);\n\n      case 'remove_node':\n        return Path.isPath(value.path) && Node.isNode(value.node);\n\n      case 'remove_text':\n        return typeof value.offset === 'number' && typeof value.text === 'string' && Path.isPath(value.path);\n\n      case 'set_node':\n        return Path.isPath(value.path) && isPlainObject(value.properties) && isPlainObject(value.newProperties);\n\n      case 'set_selection':\n        return value.properties === null && Range.isRange(value.newProperties) || value.newProperties === null && Range.isRange(value.properties) || isPlainObject(value.properties) && isPlainObject(value.newProperties);\n\n      case 'split_node':\n        return Path.isPath(value.path) && typeof value.position === 'number' && isPlainObject(value.properties);\n\n      default:\n        return false;\n    }\n  },\n\n  /**\r\n   * Check if a value is a list of `Operation` objects.\r\n   */\n  isOperationList(value) {\n    return Array.isArray(value) && value.every(val => Operation.isOperation(val));\n  },\n\n  /**\r\n   * Check of a value is a `SelectionOperation` object.\r\n   */\n  isSelectionOperation(value) {\n    return Operation.isOperation(value) && value.type.endsWith('_selection');\n  },\n\n  /**\r\n   * Check of a value is a `TextOperation` object.\r\n   */\n  isTextOperation(value) {\n    return Operation.isOperation(value) && value.type.endsWith('_text');\n  },\n\n  /**\r\n   * Invert an operation, returning a new operation that will exactly undo the\r\n   * original when applied.\r\n   */\n  inverse(op) {\n    switch (op.type) {\n      case 'insert_node':\n        {\n          return _objectSpread$7(_objectSpread$7({}, op), {}, {\n            type: 'remove_node'\n          });\n        }\n\n      case 'insert_text':\n        {\n          return _objectSpread$7(_objectSpread$7({}, op), {}, {\n            type: 'remove_text'\n          });\n        }\n\n      case 'merge_node':\n        {\n          return _objectSpread$7(_objectSpread$7({}, op), {}, {\n            type: 'split_node',\n            path: Path.previous(op.path)\n          });\n        }\n\n      case 'move_node':\n        {\n          var {\n            newPath,\n            path\n          } = op; // PERF: in this case the move operation is a no-op anyways.\n\n          if (Path.equals(newPath, path)) {\n            return op;\n          } // If the move happens completely within a single parent the path and\n          // newPath are stable with respect to each other.\n\n\n          if (Path.isSibling(path, newPath)) {\n            return _objectSpread$7(_objectSpread$7({}, op), {}, {\n              path: newPath,\n              newPath: path\n            });\n          } // If the move does not happen within a single parent it is possible\n          // for the move to impact the true path to the location where the node\n          // was removed from and where it was inserted. We have to adjust for this\n          // and find the original path. We can accomplish this (only in non-sibling)\n          // moves by looking at the impact of the move operation on the node\n          // after the original move path.\n\n\n          var inversePath = Path.transform(path, op);\n          var inverseNewPath = Path.transform(Path.next(path), op);\n          return _objectSpread$7(_objectSpread$7({}, op), {}, {\n            path: inversePath,\n            newPath: inverseNewPath\n          });\n        }\n\n      case 'remove_node':\n        {\n          return _objectSpread$7(_objectSpread$7({}, op), {}, {\n            type: 'insert_node'\n          });\n        }\n\n      case 'remove_text':\n        {\n          return _objectSpread$7(_objectSpread$7({}, op), {}, {\n            type: 'insert_text'\n          });\n        }\n\n      case 'set_node':\n        {\n          var {\n            properties,\n            newProperties\n          } = op;\n          return _objectSpread$7(_objectSpread$7({}, op), {}, {\n            properties: newProperties,\n            newProperties: properties\n          });\n        }\n\n      case 'set_selection':\n        {\n          var {\n            properties: _properties,\n            newProperties: _newProperties\n          } = op;\n\n          if (_properties == null) {\n            return _objectSpread$7(_objectSpread$7({}, op), {}, {\n              properties: _newProperties,\n              newProperties: null\n            });\n          } else if (_newProperties == null) {\n            return _objectSpread$7(_objectSpread$7({}, op), {}, {\n              properties: null,\n              newProperties: _properties\n            });\n          } else {\n            return _objectSpread$7(_objectSpread$7({}, op), {}, {\n              properties: _newProperties,\n              newProperties: _properties\n            });\n          }\n        }\n\n      case 'split_node':\n        {\n          return _objectSpread$7(_objectSpread$7({}, op), {}, {\n            type: 'merge_node',\n            path: Path.next(op.path)\n          });\n        }\n    }\n  }\n\n};\n\nvar Path = {\n  /**\r\n   * Get a list of ancestor paths for a given path.\r\n   *\r\n   * The paths are sorted from deepest to shallowest ancestor. However, if the\r\n   * `reverse: true` option is passed, they are reversed.\r\n   */\n  ancestors(path) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var {\n      reverse = false\n    } = options;\n    var paths = Path.levels(path, options);\n\n    if (reverse) {\n      paths = paths.slice(1);\n    } else {\n      paths = paths.slice(0, -1);\n    }\n\n    return paths;\n  },\n\n  /**\r\n   * Get the common ancestor path of two paths.\r\n   */\n  common(path, another) {\n    var common = [];\n\n    for (var i = 0; i < path.length && i < another.length; i++) {\n      var av = path[i];\n      var bv = another[i];\n\n      if (av !== bv) {\n        break;\n      }\n\n      common.push(av);\n    }\n\n    return common;\n  },\n\n  /**\r\n   * Compare a path to another, returning an integer indicating whether the path\r\n   * was before, at, or after the other.\r\n   *\r\n   * Note: Two paths of unequal length can still receive a `0` result if one is\r\n   * directly above or below the other. If you want exact matching, use\r\n   * [[Path.equals]] instead.\r\n   */\n  compare(path, another) {\n    var min = Math.min(path.length, another.length);\n\n    for (var i = 0; i < min; i++) {\n      if (path[i] < another[i]) return -1;\n      if (path[i] > another[i]) return 1;\n    }\n\n    return 0;\n  },\n\n  /**\r\n   * Check if a path ends after one of the indexes in another.\r\n   */\n  endsAfter(path, another) {\n    var i = path.length - 1;\n    var as = path.slice(0, i);\n    var bs = another.slice(0, i);\n    var av = path[i];\n    var bv = another[i];\n    return Path.equals(as, bs) && av > bv;\n  },\n\n  /**\r\n   * Check if a path ends at one of the indexes in another.\r\n   */\n  endsAt(path, another) {\n    var i = path.length;\n    var as = path.slice(0, i);\n    var bs = another.slice(0, i);\n    return Path.equals(as, bs);\n  },\n\n  /**\r\n   * Check if a path ends before one of the indexes in another.\r\n   */\n  endsBefore(path, another) {\n    var i = path.length - 1;\n    var as = path.slice(0, i);\n    var bs = another.slice(0, i);\n    var av = path[i];\n    var bv = another[i];\n    return Path.equals(as, bs) && av < bv;\n  },\n\n  /**\r\n   * Check if a path is exactly equal to another.\r\n   */\n  equals(path, another) {\n    return path.length === another.length && path.every((n, i) => n === another[i]);\n  },\n\n  /**\r\n   * Check if the path of previous sibling node exists\r\n   */\n  hasPrevious(path) {\n    return path[path.length - 1] > 0;\n  },\n\n  /**\r\n   * Check if a path is after another.\r\n   */\n  isAfter(path, another) {\n    return Path.compare(path, another) === 1;\n  },\n\n  /**\r\n   * Check if a path is an ancestor of another.\r\n   */\n  isAncestor(path, another) {\n    return path.length < another.length && Path.compare(path, another) === 0;\n  },\n\n  /**\r\n   * Check if a path is before another.\r\n   */\n  isBefore(path, another) {\n    return Path.compare(path, another) === -1;\n  },\n\n  /**\r\n   * Check if a path is a child of another.\r\n   */\n  isChild(path, another) {\n    return path.length === another.length + 1 && Path.compare(path, another) === 0;\n  },\n\n  /**\r\n   * Check if a path is equal to or an ancestor of another.\r\n   */\n  isCommon(path, another) {\n    return path.length <= another.length && Path.compare(path, another) === 0;\n  },\n\n  /**\r\n   * Check if a path is a descendant of another.\r\n   */\n  isDescendant(path, another) {\n    return path.length > another.length && Path.compare(path, another) === 0;\n  },\n\n  /**\r\n   * Check if a path is the parent of another.\r\n   */\n  isParent(path, another) {\n    return path.length + 1 === another.length && Path.compare(path, another) === 0;\n  },\n\n  /**\r\n   * Check is a value implements the `Path` interface.\r\n   */\n  isPath(value) {\n    return Array.isArray(value) && (value.length === 0 || typeof value[0] === 'number');\n  },\n\n  /**\r\n   * Check if a path is a sibling of another.\r\n   */\n  isSibling(path, another) {\n    if (path.length !== another.length) {\n      return false;\n    }\n\n    var as = path.slice(0, -1);\n    var bs = another.slice(0, -1);\n    var al = path[path.length - 1];\n    var bl = another[another.length - 1];\n    return al !== bl && Path.equals(as, bs);\n  },\n\n  /**\r\n   * Get a list of paths at every level down to a path. Note: this is the same\r\n   * as `Path.ancestors`, but including the path itself.\r\n   *\r\n   * The paths are sorted from shallowest to deepest. However, if the `reverse:\r\n   * true` option is passed, they are reversed.\r\n   */\n  levels(path) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var {\n      reverse = false\n    } = options;\n    var list = [];\n\n    for (var i = 0; i <= path.length; i++) {\n      list.push(path.slice(0, i));\n    }\n\n    if (reverse) {\n      list.reverse();\n    }\n\n    return list;\n  },\n\n  /**\r\n   * Given a path, get the path to the next sibling node.\r\n   */\n  next(path) {\n    if (path.length === 0) {\n      throw new Error(\"Cannot get the next path of a root path [\".concat(path, \"], because it has no next index.\"));\n    }\n\n    var last = path[path.length - 1];\n    return path.slice(0, -1).concat(last + 1);\n  },\n\n  /**\r\n   * Returns whether this operation can affect paths or not. Used as an\r\n   * optimization when updating dirty paths during normalization\r\n   *\r\n   * NOTE: This *must* be kept in sync with the implementation of 'transform'\r\n   * below\r\n   */\n  operationCanTransformPath(operation) {\n    switch (operation.type) {\n      case 'insert_node':\n      case 'remove_node':\n      case 'merge_node':\n      case 'split_node':\n      case 'move_node':\n        return true;\n\n      default:\n        return false;\n    }\n  },\n\n  /**\r\n   * Given a path, return a new path referring to the parent node above it.\r\n   */\n  parent(path) {\n    if (path.length === 0) {\n      throw new Error(\"Cannot get the parent path of the root path [\".concat(path, \"].\"));\n    }\n\n    return path.slice(0, -1);\n  },\n\n  /**\r\n   * Given a path, get the path to the previous sibling node.\r\n   */\n  previous(path) {\n    if (path.length === 0) {\n      throw new Error(\"Cannot get the previous path of a root path [\".concat(path, \"], because it has no previous index.\"));\n    }\n\n    var last = path[path.length - 1];\n\n    if (last <= 0) {\n      throw new Error(\"Cannot get the previous path of a first child path [\".concat(path, \"] because it would result in a negative index.\"));\n    }\n\n    return path.slice(0, -1).concat(last - 1);\n  },\n\n  /**\r\n   * Get a path relative to an ancestor.\r\n   */\n  relative(path, ancestor) {\n    if (!Path.isAncestor(ancestor, path) && !Path.equals(path, ancestor)) {\n      throw new Error(\"Cannot get the relative path of [\".concat(path, \"] inside ancestor [\").concat(ancestor, \"], because it is not above or equal to the path.\"));\n    }\n\n    return path.slice(ancestor.length);\n  },\n\n  /**\r\n   * Transform a path by an operation.\r\n   */\n  transform(path, operation) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    return produce(path, p => {\n      var {\n        affinity = 'forward'\n      } = options; // PERF: Exit early if the operation is guaranteed not to have an effect.\n\n      if (!path || (path === null || path === void 0 ? void 0 : path.length) === 0) {\n        return;\n      }\n\n      if (p === null) {\n        return null;\n      }\n\n      switch (operation.type) {\n        case 'insert_node':\n          {\n            var {\n              path: op\n            } = operation;\n\n            if (Path.equals(op, p) || Path.endsBefore(op, p) || Path.isAncestor(op, p)) {\n              p[op.length - 1] += 1;\n            }\n\n            break;\n          }\n\n        case 'remove_node':\n          {\n            var {\n              path: _op\n            } = operation;\n\n            if (Path.equals(_op, p) || Path.isAncestor(_op, p)) {\n              return null;\n            } else if (Path.endsBefore(_op, p)) {\n              p[_op.length - 1] -= 1;\n            }\n\n            break;\n          }\n\n        case 'merge_node':\n          {\n            var {\n              path: _op2,\n              position\n            } = operation;\n\n            if (Path.equals(_op2, p) || Path.endsBefore(_op2, p)) {\n              p[_op2.length - 1] -= 1;\n            } else if (Path.isAncestor(_op2, p)) {\n              p[_op2.length - 1] -= 1;\n              p[_op2.length] += position;\n            }\n\n            break;\n          }\n\n        case 'split_node':\n          {\n            var {\n              path: _op3,\n              position: _position\n            } = operation;\n\n            if (Path.equals(_op3, p)) {\n              if (affinity === 'forward') {\n                p[p.length - 1] += 1;\n              } else if (affinity === 'backward') ; else {\n                return null;\n              }\n            } else if (Path.endsBefore(_op3, p)) {\n              p[_op3.length - 1] += 1;\n            } else if (Path.isAncestor(_op3, p) && path[_op3.length] >= _position) {\n              p[_op3.length - 1] += 1;\n              p[_op3.length] -= _position;\n            }\n\n            break;\n          }\n\n        case 'move_node':\n          {\n            var {\n              path: _op4,\n              newPath: onp\n            } = operation; // If the old and new path are the same, it's a no-op.\n\n            if (Path.equals(_op4, onp)) {\n              return;\n            }\n\n            if (Path.isAncestor(_op4, p) || Path.equals(_op4, p)) {\n              var copy = onp.slice();\n\n              if (Path.endsBefore(_op4, onp) && _op4.length < onp.length) {\n                copy[_op4.length - 1] -= 1;\n              }\n\n              return copy.concat(p.slice(_op4.length));\n            } else if (Path.isSibling(_op4, onp) && (Path.isAncestor(onp, p) || Path.equals(onp, p))) {\n              if (Path.endsBefore(_op4, p)) {\n                p[_op4.length - 1] -= 1;\n              } else {\n                p[_op4.length - 1] += 1;\n              }\n            } else if (Path.endsBefore(onp, p) || Path.equals(onp, p) || Path.isAncestor(onp, p)) {\n              if (Path.endsBefore(_op4, p)) {\n                p[_op4.length - 1] -= 1;\n              }\n\n              p[onp.length - 1] += 1;\n            } else if (Path.endsBefore(_op4, p)) {\n              if (Path.equals(onp, p)) {\n                p[onp.length - 1] += 1;\n              }\n\n              p[_op4.length - 1] -= 1;\n            }\n\n            break;\n          }\n      }\n    });\n  }\n\n};\n\nvar PathRef = {\n  /**\r\n   * Transform the path ref's current value by an operation.\r\n   */\n  transform(ref, op) {\n    var {\n      current,\n      affinity\n    } = ref;\n\n    if (current == null) {\n      return;\n    }\n\n    var path = Path.transform(current, op, {\n      affinity\n    });\n    ref.current = path;\n\n    if (path == null) {\n      ref.unref();\n    }\n  }\n\n};\n\nfunction ownKeys$6(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$6(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys$6(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys$6(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\nvar Point = {\n  /**\r\n   * Compare a point to another, returning an integer indicating whether the\r\n   * point was before, at, or after the other.\r\n   */\n  compare(point, another) {\n    var result = Path.compare(point.path, another.path);\n\n    if (result === 0) {\n      if (point.offset < another.offset) return -1;\n      if (point.offset > another.offset) return 1;\n      return 0;\n    }\n\n    return result;\n  },\n\n  /**\r\n   * Check if a point is after another.\r\n   */\n  isAfter(point, another) {\n    return Point.compare(point, another) === 1;\n  },\n\n  /**\r\n   * Check if a point is before another.\r\n   */\n  isBefore(point, another) {\n    return Point.compare(point, another) === -1;\n  },\n\n  /**\r\n   * Check if a point is exactly equal to another.\r\n   */\n  equals(point, another) {\n    // PERF: ensure the offsets are equal first since they are cheaper to check.\n    return point.offset === another.offset && Path.equals(point.path, another.path);\n  },\n\n  /**\r\n   * Check if a value implements the `Point` interface.\r\n   */\n  isPoint(value) {\n    return isPlainObject(value) && typeof value.offset === 'number' && Path.isPath(value.path);\n  },\n\n  /**\r\n   * Transform a point by an operation.\r\n   */\n  transform(point, op) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    return produce(point, p => {\n      if (p === null) {\n        return null;\n      }\n\n      var {\n        affinity = 'forward'\n      } = options;\n      var {\n        path,\n        offset\n      } = p;\n\n      switch (op.type) {\n        case 'insert_node':\n        case 'move_node':\n          {\n            p.path = Path.transform(path, op, options);\n            break;\n          }\n\n        case 'insert_text':\n          {\n            if (Path.equals(op.path, path) && op.offset <= offset) {\n              p.offset += op.text.length;\n            }\n\n            break;\n          }\n\n        case 'merge_node':\n          {\n            if (Path.equals(op.path, path)) {\n              p.offset += op.position;\n            }\n\n            p.path = Path.transform(path, op, options);\n            break;\n          }\n\n        case 'remove_text':\n          {\n            if (Path.equals(op.path, path) && op.offset <= offset) {\n              p.offset -= Math.min(offset - op.offset, op.text.length);\n            }\n\n            break;\n          }\n\n        case 'remove_node':\n          {\n            if (Path.equals(op.path, path) || Path.isAncestor(op.path, path)) {\n              return null;\n            }\n\n            p.path = Path.transform(path, op, options);\n            break;\n          }\n\n        case 'split_node':\n          {\n            if (Path.equals(op.path, path)) {\n              if (op.position === offset && affinity == null) {\n                return null;\n              } else if (op.position < offset || op.position === offset && affinity === 'forward') {\n                p.offset -= op.position;\n                p.path = Path.transform(path, op, _objectSpread$6(_objectSpread$6({}, options), {}, {\n                  affinity: 'forward'\n                }));\n              }\n            } else {\n              p.path = Path.transform(path, op, options);\n            }\n\n            break;\n          }\n      }\n    });\n  }\n\n};\n\nvar PointRef = {\n  /**\r\n   * Transform the point ref's current value by an operation.\r\n   */\n  transform(ref, op) {\n    var {\n      current,\n      affinity\n    } = ref;\n\n    if (current == null) {\n      return;\n    }\n\n    var point = Point.transform(current, op, {\n      affinity\n    });\n    ref.current = point;\n\n    if (point == null) {\n      ref.unref();\n    }\n  }\n\n};\n\nvar _excluded$2 = [\"anchor\", \"focus\"];\n\nfunction ownKeys$5(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$5(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys$5(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys$5(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\nvar Range = {\n  /**\r\n   * Get the start and end points of a range, in the order in which they appear\r\n   * in the document.\r\n   */\n  edges(range) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var {\n      reverse = false\n    } = options;\n    var {\n      anchor,\n      focus\n    } = range;\n    return Range.isBackward(range) === reverse ? [anchor, focus] : [focus, anchor];\n  },\n\n  /**\r\n   * Get the end point of a range.\r\n   */\n  end(range) {\n    var [, end] = Range.edges(range);\n    return end;\n  },\n\n  /**\r\n   * Check if a range is exactly equal to another.\r\n   */\n  equals(range, another) {\n    return Point.equals(range.anchor, another.anchor) && Point.equals(range.focus, another.focus);\n  },\n\n  /**\r\n   * Check if a range includes a path, a point or part of another range.\r\n   */\n  includes(range, target) {\n    if (Range.isRange(target)) {\n      if (Range.includes(range, target.anchor) || Range.includes(range, target.focus)) {\n        return true;\n      }\n\n      var [rs, re] = Range.edges(range);\n      var [ts, te] = Range.edges(target);\n      return Point.isBefore(rs, ts) && Point.isAfter(re, te);\n    }\n\n    var [start, end] = Range.edges(range);\n    var isAfterStart = false;\n    var isBeforeEnd = false;\n\n    if (Point.isPoint(target)) {\n      isAfterStart = Point.compare(target, start) >= 0;\n      isBeforeEnd = Point.compare(target, end) <= 0;\n    } else {\n      isAfterStart = Path.compare(target, start.path) >= 0;\n      isBeforeEnd = Path.compare(target, end.path) <= 0;\n    }\n\n    return isAfterStart && isBeforeEnd;\n  },\n\n  /**\r\n   * Get the intersection of a range with another.\r\n   */\n  intersection(range, another) {\n    var rest = _objectWithoutProperties(range, _excluded$2);\n\n    var [s1, e1] = Range.edges(range);\n    var [s2, e2] = Range.edges(another);\n    var start = Point.isBefore(s1, s2) ? s2 : s1;\n    var end = Point.isBefore(e1, e2) ? e1 : e2;\n\n    if (Point.isBefore(end, start)) {\n      return null;\n    } else {\n      return _objectSpread$5({\n        anchor: start,\n        focus: end\n      }, rest);\n    }\n  },\n\n  /**\r\n   * Check if a range is backward, meaning that its anchor point appears in the\r\n   * document _after_ its focus point.\r\n   */\n  isBackward(range) {\n    var {\n      anchor,\n      focus\n    } = range;\n    return Point.isAfter(anchor, focus);\n  },\n\n  /**\r\n   * Check if a range is collapsed, meaning that both its anchor and focus\r\n   * points refer to the exact same position in the document.\r\n   */\n  isCollapsed(range) {\n    var {\n      anchor,\n      focus\n    } = range;\n    return Point.equals(anchor, focus);\n  },\n\n  /**\r\n   * Check if a range is expanded.\r\n   *\r\n   * This is the opposite of [[Range.isCollapsed]] and is provided for legibility.\r\n   */\n  isExpanded(range) {\n    return !Range.isCollapsed(range);\n  },\n\n  /**\r\n   * Check if a range is forward.\r\n   *\r\n   * This is the opposite of [[Range.isBackward]] and is provided for legibility.\r\n   */\n  isForward(range) {\n    return !Range.isBackward(range);\n  },\n\n  /**\r\n   * Check if a value implements the [[Range]] interface.\r\n   */\n  isRange(value) {\n    return isPlainObject(value) && Point.isPoint(value.anchor) && Point.isPoint(value.focus);\n  },\n\n  /**\r\n   * Iterate through all of the point entries in a range.\r\n   */\n  *points(range) {\n    yield [range.anchor, 'anchor'];\n    yield [range.focus, 'focus'];\n  },\n\n  /**\r\n   * Get the start point of a range.\r\n   */\n  start(range) {\n    var [start] = Range.edges(range);\n    return start;\n  },\n\n  /**\r\n   * Transform a range by an operation.\r\n   */\n  transform(range, op) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    return produce(range, r => {\n      if (r === null) {\n        return null;\n      }\n\n      var {\n        affinity = 'inward'\n      } = options;\n      var affinityAnchor;\n      var affinityFocus;\n\n      if (affinity === 'inward') {\n        // If the range is collapsed, make sure to use the same affinity to\n        // avoid the two points passing each other and expanding in the opposite\n        // direction\n        var isCollapsed = Range.isCollapsed(r);\n\n        if (Range.isForward(r)) {\n          affinityAnchor = 'forward';\n          affinityFocus = isCollapsed ? affinityAnchor : 'backward';\n        } else {\n          affinityAnchor = 'backward';\n          affinityFocus = isCollapsed ? affinityAnchor : 'forward';\n        }\n      } else if (affinity === 'outward') {\n        if (Range.isForward(r)) {\n          affinityAnchor = 'backward';\n          affinityFocus = 'forward';\n        } else {\n          affinityAnchor = 'forward';\n          affinityFocus = 'backward';\n        }\n      } else {\n        affinityAnchor = affinity;\n        affinityFocus = affinity;\n      }\n\n      var anchor = Point.transform(r.anchor, op, {\n        affinity: affinityAnchor\n      });\n      var focus = Point.transform(r.focus, op, {\n        affinity: affinityFocus\n      });\n\n      if (!anchor || !focus) {\n        return null;\n      }\n\n      r.anchor = anchor;\n      r.focus = focus;\n    });\n  }\n\n};\n\nvar RangeRef = {\n  /**\r\n   * Transform the range ref's current value by an operation.\r\n   */\n  transform(ref, op) {\n    var {\n      current,\n      affinity\n    } = ref;\n\n    if (current == null) {\n      return;\n    }\n\n    var path = Range.transform(current, op, {\n      affinity\n    });\n    ref.current = path;\n\n    if (path == null) {\n      ref.unref();\n    }\n  }\n\n};\n\n/*\r\n  Custom deep equal comparison for Slate nodes.\r\n\n  We don't need general purpose deep equality;\r\n  Slate only supports plain values, Arrays, and nested objects.\r\n  Complex values nested inside Arrays are not supported.\r\n\n  Slate objects are designed to be serialised, so\r\n  missing keys are deliberately normalised to undefined.\r\n */\n\nvar isDeepEqual = (node, another) => {\n  for (var key in node) {\n    var a = node[key];\n    var b = another[key];\n\n    if (isPlainObject(a) && isPlainObject(b)) {\n      if (!isDeepEqual(a, b)) return false;\n    } else if (Array.isArray(a) && Array.isArray(b)) {\n      if (a.length !== b.length) return false;\n\n      for (var i = 0; i < a.length; i++) {\n        if (a[i] !== b[i]) return false;\n      }\n    } else if (a !== b) {\n      return false;\n    }\n  }\n  /*\r\n    Deep object equality is only necessary in one direction; in the reverse direction\r\n    we are only looking for keys that are missing.\r\n    As above, undefined keys are normalised to missing.\r\n  */\n\n\n  for (var _key in another) {\n    if (node[_key] === undefined && another[_key] !== undefined) {\n      return false;\n    }\n  }\n\n  return true;\n};\n\nvar _excluded$1 = [\"text\"],\n    _excluded2$1 = [\"anchor\", \"focus\"];\n\nfunction ownKeys$4(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$4(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys$4(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys$4(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\nvar Text = {\n  /**\r\n   * Check if two text nodes are equal.\r\n   *\r\n   * When loose is set, the text is not compared. This is\r\n   * used to check whether sibling text nodes can be merged.\r\n   */\n  equals(text, another) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var {\n      loose = false\n    } = options;\n\n    function omitText(obj) {\n      var rest = _objectWithoutProperties(obj, _excluded$1);\n\n      return rest;\n    }\n\n    return isDeepEqual(loose ? omitText(text) : text, loose ? omitText(another) : another);\n  },\n\n  /**\r\n   * Check if a value implements the `Text` interface.\r\n   */\n  isText(value) {\n    return isPlainObject(value) && typeof value.text === 'string';\n  },\n\n  /**\r\n   * Check if a value is a list of `Text` objects.\r\n   */\n  isTextList(value) {\n    return Array.isArray(value) && value.every(val => Text.isText(val));\n  },\n\n  /**\r\n   * Check if some props are a partial of Text.\r\n   */\n  isTextProps(props) {\n    return props.text !== undefined;\n  },\n\n  /**\r\n   * Check if an text matches set of properties.\r\n   *\r\n   * Note: this is for matching custom properties, and it does not ensure that\r\n   * the `text` property are two nodes equal.\r\n   */\n  matches(text, props) {\n    for (var key in props) {\n      if (key === 'text') {\n        continue;\n      }\n\n      if (!text.hasOwnProperty(key) || text[key] !== props[key]) {\n        return false;\n      }\n    }\n\n    return true;\n  },\n\n  /**\r\n   * Get the leaves for a text node given decorations.\r\n   */\n  decorations(node, decorations) {\n    var leaves = [_objectSpread$4({}, node)];\n\n    for (var dec of decorations) {\n      var rest = _objectWithoutProperties(dec, _excluded2$1);\n\n      var [start, end] = Range.edges(dec);\n      var next = [];\n      var o = 0;\n\n      for (var leaf of leaves) {\n        var {\n          length\n        } = leaf.text;\n        var offset = o;\n        o += length; // If the range encompases the entire leaf, add the range.\n\n        if (start.offset <= offset && end.offset >= o) {\n          Object.assign(leaf, rest);\n          next.push(leaf);\n          continue;\n        } // If the range expanded and match the leaf, or starts after, or ends before it, continue.\n\n\n        if (start.offset !== end.offset && (start.offset === o || end.offset === offset) || start.offset > o || end.offset < offset || end.offset === offset && offset !== 0) {\n          next.push(leaf);\n          continue;\n        } // Otherwise we need to split the leaf, at the start, end, or both,\n        // and add the range to the middle intersecting section. Do the end\n        // split first since we don't need to update the offset that way.\n\n\n        var middle = leaf;\n        var before = void 0;\n        var after = void 0;\n\n        if (end.offset < o) {\n          var off = end.offset - offset;\n          after = _objectSpread$4(_objectSpread$4({}, middle), {}, {\n            text: middle.text.slice(off)\n          });\n          middle = _objectSpread$4(_objectSpread$4({}, middle), {}, {\n            text: middle.text.slice(0, off)\n          });\n        }\n\n        if (start.offset > offset) {\n          var _off = start.offset - offset;\n\n          before = _objectSpread$4(_objectSpread$4({}, middle), {}, {\n            text: middle.text.slice(0, _off)\n          });\n          middle = _objectSpread$4(_objectSpread$4({}, middle), {}, {\n            text: middle.text.slice(_off)\n          });\n        }\n\n        Object.assign(middle, rest);\n\n        if (before) {\n          next.push(before);\n        }\n\n        next.push(middle);\n\n        if (after) {\n          next.push(after);\n        }\n      }\n\n      leaves = next;\n    }\n\n    return leaves;\n  }\n\n};\n\nfunction ownKeys$3(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$3(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys$3(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys$3(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nvar applyToDraft = (editor, selection, op) => {\n  switch (op.type) {\n    case 'insert_node':\n      {\n        var {\n          path,\n          node\n        } = op;\n        var parent = Node.parent(editor, path);\n        var index = path[path.length - 1];\n\n        if (index > parent.children.length) {\n          throw new Error(\"Cannot apply an \\\"insert_node\\\" operation at path [\".concat(path, \"] because the destination is past the end of the node.\"));\n        }\n\n        parent.children.splice(index, 0, node);\n\n        if (selection) {\n          for (var [point, key] of Range.points(selection)) {\n            selection[key] = Point.transform(point, op);\n          }\n        }\n\n        break;\n      }\n\n    case 'insert_text':\n      {\n        var {\n          path: _path,\n          offset,\n          text\n        } = op;\n        if (text.length === 0) break;\n\n        var _node = Node.leaf(editor, _path);\n\n        var before = _node.text.slice(0, offset);\n\n        var after = _node.text.slice(offset);\n\n        _node.text = before + text + after;\n\n        if (selection) {\n          for (var [_point, _key] of Range.points(selection)) {\n            selection[_key] = Point.transform(_point, op);\n          }\n        }\n\n        break;\n      }\n\n    case 'merge_node':\n      {\n        var {\n          path: _path2\n        } = op;\n\n        var _node2 = Node.get(editor, _path2);\n\n        var prevPath = Path.previous(_path2);\n        var prev = Node.get(editor, prevPath);\n\n        var _parent = Node.parent(editor, _path2);\n\n        var _index = _path2[_path2.length - 1];\n\n        if (Text.isText(_node2) && Text.isText(prev)) {\n          prev.text += _node2.text;\n        } else if (!Text.isText(_node2) && !Text.isText(prev)) {\n          prev.children.push(..._node2.children);\n        } else {\n          throw new Error(\"Cannot apply a \\\"merge_node\\\" operation at path [\".concat(_path2, \"] to nodes of different interfaces: \").concat(_node2, \" \").concat(prev));\n        }\n\n        _parent.children.splice(_index, 1);\n\n        if (selection) {\n          for (var [_point2, _key2] of Range.points(selection)) {\n            selection[_key2] = Point.transform(_point2, op);\n          }\n        }\n\n        break;\n      }\n\n    case 'move_node':\n      {\n        var {\n          path: _path3,\n          newPath\n        } = op;\n\n        if (Path.isAncestor(_path3, newPath)) {\n          throw new Error(\"Cannot move a path [\".concat(_path3, \"] to new path [\").concat(newPath, \"] because the destination is inside itself.\"));\n        }\n\n        var _node3 = Node.get(editor, _path3);\n\n        var _parent2 = Node.parent(editor, _path3);\n\n        var _index2 = _path3[_path3.length - 1]; // This is tricky, but since the `path` and `newPath` both refer to\n        // the same snapshot in time, there's a mismatch. After either\n        // removing the original position, the second step's path can be out\n        // of date. So instead of using the `op.newPath` directly, we\n        // transform `op.path` to ascertain what the `newPath` would be after\n        // the operation was applied.\n\n        _parent2.children.splice(_index2, 1);\n\n        var truePath = Path.transform(_path3, op);\n        var newParent = Node.get(editor, Path.parent(truePath));\n        var newIndex = truePath[truePath.length - 1];\n        newParent.children.splice(newIndex, 0, _node3);\n\n        if (selection) {\n          for (var [_point3, _key3] of Range.points(selection)) {\n            selection[_key3] = Point.transform(_point3, op);\n          }\n        }\n\n        break;\n      }\n\n    case 'remove_node':\n      {\n        var {\n          path: _path4\n        } = op;\n        var _index3 = _path4[_path4.length - 1];\n\n        var _parent3 = Node.parent(editor, _path4);\n\n        _parent3.children.splice(_index3, 1); // Transform all of the points in the value, but if the point was in the\n        // node that was removed we need to update the range or remove it.\n\n\n        if (selection) {\n          for (var [_point4, _key4] of Range.points(selection)) {\n            var result = Point.transform(_point4, op);\n\n            if (selection != null && result != null) {\n              selection[_key4] = result;\n            } else {\n              var _prev = void 0;\n\n              var next = void 0;\n\n              for (var [n, p] of Node.texts(editor)) {\n                if (Path.compare(p, _path4) === -1) {\n                  _prev = [n, p];\n                } else {\n                  next = [n, p];\n                  break;\n                }\n              }\n\n              var preferNext = false;\n\n              if (_prev && next) {\n                if (Path.equals(next[1], _path4)) {\n                  preferNext = !Path.hasPrevious(next[1]);\n                } else {\n                  preferNext = Path.common(_prev[1], _path4).length < Path.common(next[1], _path4).length;\n                }\n              }\n\n              if (_prev && !preferNext) {\n                _point4.path = _prev[1];\n                _point4.offset = _prev[0].text.length;\n              } else if (next) {\n                _point4.path = next[1];\n                _point4.offset = 0;\n              } else {\n                selection = null;\n              }\n            }\n          }\n        }\n\n        break;\n      }\n\n    case 'remove_text':\n      {\n        var {\n          path: _path5,\n          offset: _offset,\n          text: _text\n        } = op;\n        if (_text.length === 0) break;\n\n        var _node4 = Node.leaf(editor, _path5);\n\n        var _before = _node4.text.slice(0, _offset);\n\n        var _after = _node4.text.slice(_offset + _text.length);\n\n        _node4.text = _before + _after;\n\n        if (selection) {\n          for (var [_point5, _key5] of Range.points(selection)) {\n            selection[_key5] = Point.transform(_point5, op);\n          }\n        }\n\n        break;\n      }\n\n    case 'set_node':\n      {\n        var {\n          path: _path6,\n          properties,\n          newProperties\n        } = op;\n\n        if (_path6.length === 0) {\n          throw new Error(\"Cannot set properties on the root node!\");\n        }\n\n        var _node5 = Node.get(editor, _path6);\n\n        for (var _key6 in newProperties) {\n          if (_key6 === 'children' || _key6 === 'text') {\n            throw new Error(\"Cannot set the \\\"\".concat(_key6, \"\\\" property of nodes!\"));\n          }\n\n          var value = newProperties[_key6];\n\n          if (value == null) {\n            delete _node5[_key6];\n          } else {\n            _node5[_key6] = value;\n          }\n        } // properties that were previously defined, but are now missing, must be deleted\n\n\n        for (var _key7 in properties) {\n          if (!newProperties.hasOwnProperty(_key7)) {\n            delete _node5[_key7];\n          }\n        }\n\n        break;\n      }\n\n    case 'set_selection':\n      {\n        var {\n          newProperties: _newProperties\n        } = op;\n\n        if (_newProperties == null) {\n          selection = _newProperties;\n        } else {\n          if (selection == null) {\n            if (!Range.isRange(_newProperties)) {\n              throw new Error(\"Cannot apply an incomplete \\\"set_selection\\\" operation properties \".concat(JSON.stringify(_newProperties), \" when there is no current selection.\"));\n            }\n\n            selection = _objectSpread$3({}, _newProperties);\n          }\n\n          for (var _key8 in _newProperties) {\n            var _value = _newProperties[_key8];\n\n            if (_value == null) {\n              if (_key8 === 'anchor' || _key8 === 'focus') {\n                throw new Error(\"Cannot remove the \\\"\".concat(_key8, \"\\\" selection property\"));\n              }\n\n              delete selection[_key8];\n            } else {\n              selection[_key8] = _value;\n            }\n          }\n        }\n\n        break;\n      }\n\n    case 'split_node':\n      {\n        var {\n          path: _path7,\n          position,\n          properties: _properties\n        } = op;\n\n        if (_path7.length === 0) {\n          throw new Error(\"Cannot apply a \\\"split_node\\\" operation at path [\".concat(_path7, \"] because the root node cannot be split.\"));\n        }\n\n        var _node6 = Node.get(editor, _path7);\n\n        var _parent4 = Node.parent(editor, _path7);\n\n        var _index4 = _path7[_path7.length - 1];\n        var newNode;\n\n        if (Text.isText(_node6)) {\n          var _before2 = _node6.text.slice(0, position);\n\n          var _after2 = _node6.text.slice(position);\n\n          _node6.text = _before2;\n          newNode = _objectSpread$3(_objectSpread$3({}, _properties), {}, {\n            text: _after2\n          });\n        } else {\n          var _before3 = _node6.children.slice(0, position);\n\n          var _after3 = _node6.children.slice(position);\n\n          _node6.children = _before3;\n          newNode = _objectSpread$3(_objectSpread$3({}, _properties), {}, {\n            children: _after3\n          });\n        }\n\n        _parent4.children.splice(_index4 + 1, 0, newNode);\n\n        if (selection) {\n          for (var [_point6, _key9] of Range.points(selection)) {\n            selection[_key9] = Point.transform(_point6, op);\n          }\n        }\n\n        break;\n      }\n  }\n\n  return selection;\n};\n\nvar GeneralTransforms = {\n  /**\r\n   * Transform the editor by an operation.\r\n   */\n  transform(editor, op) {\n    editor.children = createDraft(editor.children);\n    var selection = editor.selection && createDraft(editor.selection);\n\n    try {\n      selection = applyToDraft(editor, selection, op);\n    } finally {\n      editor.children = finishDraft(editor.children);\n\n      if (selection) {\n        editor.selection = isDraft(selection) ? finishDraft(selection) : selection;\n      } else {\n        editor.selection = null;\n      }\n    }\n  }\n\n};\n\nvar _excluded = [\"text\"],\n    _excluded2 = [\"children\"];\n\nfunction ownKeys$2(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$2(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys$2(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys$2(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\nvar NodeTransforms = {\n  /**\r\n   * Insert nodes at a specific location in the Editor.\r\n   */\n  insertNodes(editor, nodes) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    Editor.withoutNormalizing(editor, () => {\n      var {\n        hanging = false,\n        voids = false,\n        mode = 'lowest'\n      } = options;\n      var {\n        at,\n        match,\n        select\n      } = options;\n\n      if (Node.isNode(nodes)) {\n        nodes = [nodes];\n      }\n\n      if (nodes.length === 0) {\n        return;\n      }\n\n      var [node] = nodes; // By default, use the selection as the target location. But if there is\n      // no selection, insert at the end of the document since that is such a\n      // common use case when inserting from a non-selected state.\n\n      if (!at) {\n        if (editor.selection) {\n          at = editor.selection;\n        } else if (editor.children.length > 0) {\n          at = Editor.end(editor, []);\n        } else {\n          at = [0];\n        }\n\n        select = true;\n      }\n\n      if (select == null) {\n        select = false;\n      }\n\n      if (Range.isRange(at)) {\n        if (!hanging) {\n          at = Editor.unhangRange(editor, at);\n        }\n\n        if (Range.isCollapsed(at)) {\n          at = at.anchor;\n        } else {\n          var [, end] = Range.edges(at);\n          var pointRef = Editor.pointRef(editor, end);\n          Transforms.delete(editor, {\n            at\n          });\n          at = pointRef.unref();\n        }\n      }\n\n      if (Point.isPoint(at)) {\n        if (match == null) {\n          if (Text.isText(node)) {\n            match = n => Text.isText(n);\n          } else if (editor.isInline(node)) {\n            match = n => Text.isText(n) || Editor.isInline(editor, n);\n          } else {\n            match = n => Editor.isBlock(editor, n);\n          }\n        }\n\n        var [entry] = Editor.nodes(editor, {\n          at: at.path,\n          match,\n          mode,\n          voids\n        });\n\n        if (entry) {\n          var [, _matchPath] = entry;\n          var pathRef = Editor.pathRef(editor, _matchPath);\n          var isAtEnd = Editor.isEnd(editor, at, _matchPath);\n          Transforms.splitNodes(editor, {\n            at,\n            match,\n            mode,\n            voids\n          });\n          var path = pathRef.unref();\n          at = isAtEnd ? Path.next(path) : path;\n        } else {\n          return;\n        }\n      }\n\n      var parentPath = Path.parent(at);\n      var index = at[at.length - 1];\n\n      if (!voids && Editor.void(editor, {\n        at: parentPath\n      })) {\n        return;\n      }\n\n      for (var _node of nodes) {\n        var _path = parentPath.concat(index);\n\n        index++;\n        editor.apply({\n          type: 'insert_node',\n          path: _path,\n          node: _node\n        });\n        at = Path.next(at);\n      }\n\n      at = Path.previous(at);\n\n      if (select) {\n        var point = Editor.end(editor, at);\n\n        if (point) {\n          Transforms.select(editor, point);\n        }\n      }\n    });\n  },\n\n  /**\r\n   * Lift nodes at a specific location upwards in the document tree, splitting\r\n   * their parent in two if necessary.\r\n   */\n  liftNodes(editor) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    Editor.withoutNormalizing(editor, () => {\n      var {\n        at = editor.selection,\n        mode = 'lowest',\n        voids = false\n      } = options;\n      var {\n        match\n      } = options;\n\n      if (match == null) {\n        match = Path.isPath(at) ? matchPath(editor, at) : n => Editor.isBlock(editor, n);\n      }\n\n      if (!at) {\n        return;\n      }\n\n      var matches = Editor.nodes(editor, {\n        at,\n        match,\n        mode,\n        voids\n      });\n      var pathRefs = Array.from(matches, _ref => {\n        var [, p] = _ref;\n        return Editor.pathRef(editor, p);\n      });\n\n      for (var pathRef of pathRefs) {\n        var path = pathRef.unref();\n\n        if (path.length < 2) {\n          throw new Error(\"Cannot lift node at a path [\".concat(path, \"] because it has a depth of less than `2`.\"));\n        }\n\n        var parentNodeEntry = Editor.node(editor, Path.parent(path));\n        var [parent, parentPath] = parentNodeEntry;\n        var index = path[path.length - 1];\n        var {\n          length\n        } = parent.children;\n\n        if (length === 1) {\n          var toPath = Path.next(parentPath);\n          Transforms.moveNodes(editor, {\n            at: path,\n            to: toPath,\n            voids\n          });\n          Transforms.removeNodes(editor, {\n            at: parentPath,\n            voids\n          });\n        } else if (index === 0) {\n          Transforms.moveNodes(editor, {\n            at: path,\n            to: parentPath,\n            voids\n          });\n        } else if (index === length - 1) {\n          var _toPath = Path.next(parentPath);\n\n          Transforms.moveNodes(editor, {\n            at: path,\n            to: _toPath,\n            voids\n          });\n        } else {\n          var splitPath = Path.next(path);\n\n          var _toPath2 = Path.next(parentPath);\n\n          Transforms.splitNodes(editor, {\n            at: splitPath,\n            voids\n          });\n          Transforms.moveNodes(editor, {\n            at: path,\n            to: _toPath2,\n            voids\n          });\n        }\n      }\n    });\n  },\n\n  /**\r\n   * Merge a node at a location with the previous node of the same depth,\r\n   * removing any empty containing nodes after the merge if necessary.\r\n   */\n  mergeNodes(editor) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    Editor.withoutNormalizing(editor, () => {\n      var {\n        match,\n        at = editor.selection\n      } = options;\n      var {\n        hanging = false,\n        voids = false,\n        mode = 'lowest'\n      } = options;\n\n      if (!at) {\n        return;\n      }\n\n      if (match == null) {\n        if (Path.isPath(at)) {\n          var [parent] = Editor.parent(editor, at);\n\n          match = n => parent.children.includes(n);\n        } else {\n          match = n => Editor.isBlock(editor, n);\n        }\n      }\n\n      if (!hanging && Range.isRange(at)) {\n        at = Editor.unhangRange(editor, at);\n      }\n\n      if (Range.isRange(at)) {\n        if (Range.isCollapsed(at)) {\n          at = at.anchor;\n        } else {\n          var [, end] = Range.edges(at);\n          var pointRef = Editor.pointRef(editor, end);\n          Transforms.delete(editor, {\n            at\n          });\n          at = pointRef.unref();\n\n          if (options.at == null) {\n            Transforms.select(editor, at);\n          }\n        }\n      }\n\n      var [current] = Editor.nodes(editor, {\n        at,\n        match,\n        voids,\n        mode\n      });\n      var prev = Editor.previous(editor, {\n        at,\n        match,\n        voids,\n        mode\n      });\n\n      if (!current || !prev) {\n        return;\n      }\n\n      var [node, path] = current;\n      var [prevNode, prevPath] = prev;\n\n      if (path.length === 0 || prevPath.length === 0) {\n        return;\n      }\n\n      var newPath = Path.next(prevPath);\n      var commonPath = Path.common(path, prevPath);\n      var isPreviousSibling = Path.isSibling(path, prevPath);\n      var levels = Array.from(Editor.levels(editor, {\n        at: path\n      }), _ref2 => {\n        var [n] = _ref2;\n        return n;\n      }).slice(commonPath.length).slice(0, -1); // Determine if the merge will leave an ancestor of the path empty as a\n      // result, in which case we'll want to remove it after merging.\n\n      var emptyAncestor = Editor.above(editor, {\n        at: path,\n        mode: 'highest',\n        match: n => levels.includes(n) && hasSingleChildNest(editor, n)\n      });\n      var emptyRef = emptyAncestor && Editor.pathRef(editor, emptyAncestor[1]);\n      var properties;\n      var position; // Ensure that the nodes are equivalent, and figure out what the position\n      // and extra properties of the merge will be.\n\n      if (Text.isText(node) && Text.isText(prevNode)) {\n        var rest = _objectWithoutProperties(node, _excluded);\n\n        position = prevNode.text.length;\n        properties = rest;\n      } else if (Element.isElement(node) && Element.isElement(prevNode)) {\n        var rest = _objectWithoutProperties(node, _excluded2);\n\n        position = prevNode.children.length;\n        properties = rest;\n      } else {\n        throw new Error(\"Cannot merge the node at path [\".concat(path, \"] with the previous sibling because it is not the same kind: \").concat(JSON.stringify(node), \" \").concat(JSON.stringify(prevNode)));\n      } // If the node isn't already the next sibling of the previous node, move\n      // it so that it is before merging.\n\n\n      if (!isPreviousSibling) {\n        Transforms.moveNodes(editor, {\n          at: path,\n          to: newPath,\n          voids\n        });\n      } // If there was going to be an empty ancestor of the node that was merged,\n      // we remove it from the tree.\n\n\n      if (emptyRef) {\n        Transforms.removeNodes(editor, {\n          at: emptyRef.current,\n          voids\n        });\n      } // If the target node that we're merging with is empty, remove it instead\n      // of merging the two. This is a common rich text editor behavior to\n      // prevent losing formatting when deleting entire nodes when you have a\n      // hanging selection.\n      // if prevNode is first child in parent,don't remove it.\n\n\n      if (Element.isElement(prevNode) && Editor.isEmpty(editor, prevNode) || Text.isText(prevNode) && prevNode.text === '' && prevPath[prevPath.length - 1] !== 0) {\n        Transforms.removeNodes(editor, {\n          at: prevPath,\n          voids\n        });\n      } else {\n        editor.apply({\n          type: 'merge_node',\n          path: newPath,\n          position,\n          properties\n        });\n      }\n\n      if (emptyRef) {\n        emptyRef.unref();\n      }\n    });\n  },\n\n  /**\r\n   * Move the nodes at a location to a new location.\r\n   */\n  moveNodes(editor, options) {\n    Editor.withoutNormalizing(editor, () => {\n      var {\n        to,\n        at = editor.selection,\n        mode = 'lowest',\n        voids = false\n      } = options;\n      var {\n        match\n      } = options;\n\n      if (!at) {\n        return;\n      }\n\n      if (match == null) {\n        match = Path.isPath(at) ? matchPath(editor, at) : n => Editor.isBlock(editor, n);\n      }\n\n      var toRef = Editor.pathRef(editor, to);\n      var targets = Editor.nodes(editor, {\n        at,\n        match,\n        mode,\n        voids\n      });\n      var pathRefs = Array.from(targets, _ref3 => {\n        var [, p] = _ref3;\n        return Editor.pathRef(editor, p);\n      });\n\n      for (var pathRef of pathRefs) {\n        var path = pathRef.unref();\n        var newPath = toRef.current;\n\n        if (path.length !== 0) {\n          editor.apply({\n            type: 'move_node',\n            path,\n            newPath\n          });\n        }\n\n        if (toRef.current && Path.isSibling(newPath, path) && Path.isAfter(newPath, path)) {\n          // When performing a sibling move to a later index, the path at the destination is shifted\n          // to before the insertion point instead of after. To ensure our group of nodes are inserted\n          // in the correct order we increment toRef to account for that\n          toRef.current = Path.next(toRef.current);\n        }\n      }\n\n      toRef.unref();\n    });\n  },\n\n  /**\r\n   * Remove the nodes at a specific location in the document.\r\n   */\n  removeNodes(editor) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    Editor.withoutNormalizing(editor, () => {\n      var {\n        hanging = false,\n        voids = false,\n        mode = 'lowest'\n      } = options;\n      var {\n        at = editor.selection,\n        match\n      } = options;\n\n      if (!at) {\n        return;\n      }\n\n      if (match == null) {\n        match = Path.isPath(at) ? matchPath(editor, at) : n => Editor.isBlock(editor, n);\n      }\n\n      if (!hanging && Range.isRange(at)) {\n        at = Editor.unhangRange(editor, at);\n      }\n\n      var depths = Editor.nodes(editor, {\n        at,\n        match,\n        mode,\n        voids\n      });\n      var pathRefs = Array.from(depths, _ref4 => {\n        var [, p] = _ref4;\n        return Editor.pathRef(editor, p);\n      });\n\n      for (var pathRef of pathRefs) {\n        var path = pathRef.unref();\n\n        if (path) {\n          var [node] = Editor.node(editor, path);\n          editor.apply({\n            type: 'remove_node',\n            path,\n            node\n          });\n        }\n      }\n    });\n  },\n\n  /**\r\n   * Set new properties on the nodes at a location.\r\n   */\n  setNodes(editor, props) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    Editor.withoutNormalizing(editor, () => {\n      var {\n        match,\n        at = editor.selection\n      } = options;\n      var {\n        hanging = false,\n        mode = 'lowest',\n        split = false,\n        voids = false\n      } = options;\n\n      if (!at) {\n        return;\n      }\n\n      if (match == null) {\n        match = Path.isPath(at) ? matchPath(editor, at) : n => Editor.isBlock(editor, n);\n      }\n\n      if (!hanging && Range.isRange(at)) {\n        at = Editor.unhangRange(editor, at);\n      }\n\n      if (split && Range.isRange(at)) {\n        if (Range.isCollapsed(at) && Editor.leaf(editor, at.anchor)[0].text.length > 0) {\n          // If the range is collapsed in a non-empty node and 'split' is true, there's nothing to\n          // set that won't get normalized away\n          return;\n        }\n\n        var rangeRef = Editor.rangeRef(editor, at, {\n          affinity: 'inward'\n        });\n        var [start, end] = Range.edges(at);\n        var splitMode = mode === 'lowest' ? 'lowest' : 'highest';\n        var endAtEndOfNode = Editor.isEnd(editor, end, end.path);\n        Transforms.splitNodes(editor, {\n          at: end,\n          match,\n          mode: splitMode,\n          voids,\n          always: !endAtEndOfNode\n        });\n        var startAtStartOfNode = Editor.isStart(editor, start, start.path);\n        Transforms.splitNodes(editor, {\n          at: start,\n          match,\n          mode: splitMode,\n          voids,\n          always: !startAtStartOfNode\n        });\n        at = rangeRef.unref();\n\n        if (options.at == null) {\n          Transforms.select(editor, at);\n        }\n      }\n\n      for (var [node, path] of Editor.nodes(editor, {\n        at,\n        match,\n        mode,\n        voids\n      })) {\n        var properties = {};\n        var newProperties = {}; // You can't set properties on the editor node.\n\n        if (path.length === 0) {\n          continue;\n        }\n\n        var hasChanges = false;\n\n        for (var k in props) {\n          if (k === 'children' || k === 'text') {\n            continue;\n          }\n\n          if (props[k] !== node[k]) {\n            hasChanges = true; // Omit new properties from the old properties list\n\n            if (node.hasOwnProperty(k)) properties[k] = node[k]; // Omit properties that have been removed from the new properties list\n\n            if (props[k] != null) newProperties[k] = props[k];\n          }\n        }\n\n        if (hasChanges) {\n          editor.apply({\n            type: 'set_node',\n            path,\n            properties,\n            newProperties\n          });\n        }\n      }\n    });\n  },\n\n  /**\r\n   * Split the nodes at a specific location.\r\n   */\n  splitNodes(editor) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    Editor.withoutNormalizing(editor, () => {\n      var {\n        mode = 'lowest',\n        voids = false\n      } = options;\n      var {\n        match,\n        at = editor.selection,\n        height = 0,\n        always = false\n      } = options;\n\n      if (match == null) {\n        match = n => Editor.isBlock(editor, n);\n      }\n\n      if (Range.isRange(at)) {\n        at = deleteRange(editor, at);\n      } // If the target is a path, the default height-skipping and position\n      // counters need to account for us potentially splitting at a non-leaf.\n\n\n      if (Path.isPath(at)) {\n        var path = at;\n        var point = Editor.point(editor, path);\n        var [parent] = Editor.parent(editor, path);\n\n        match = n => n === parent;\n\n        height = point.path.length - path.length + 1;\n        at = point;\n        always = true;\n      }\n\n      if (!at) {\n        return;\n      }\n\n      var beforeRef = Editor.pointRef(editor, at, {\n        affinity: 'backward'\n      });\n      var [highest] = Editor.nodes(editor, {\n        at,\n        match,\n        mode,\n        voids\n      });\n\n      if (!highest) {\n        return;\n      }\n\n      var voidMatch = Editor.void(editor, {\n        at,\n        mode: 'highest'\n      });\n      var nudge = 0;\n\n      if (!voids && voidMatch) {\n        var [voidNode, voidPath] = voidMatch;\n\n        if (Element.isElement(voidNode) && editor.isInline(voidNode)) {\n          var after = Editor.after(editor, voidPath);\n\n          if (!after) {\n            var text = {\n              text: ''\n            };\n            var afterPath = Path.next(voidPath);\n            Transforms.insertNodes(editor, text, {\n              at: afterPath,\n              voids\n            });\n            after = Editor.point(editor, afterPath);\n          }\n\n          at = after;\n          always = true;\n        }\n\n        var siblingHeight = at.path.length - voidPath.length;\n        height = siblingHeight + 1;\n        always = true;\n      }\n\n      var afterRef = Editor.pointRef(editor, at);\n      var depth = at.path.length - height;\n      var [, highestPath] = highest;\n      var lowestPath = at.path.slice(0, depth);\n      var position = height === 0 ? at.offset : at.path[depth] + nudge;\n\n      for (var [node, _path2] of Editor.levels(editor, {\n        at: lowestPath,\n        reverse: true,\n        voids\n      })) {\n        var split = false;\n\n        if (_path2.length < highestPath.length || _path2.length === 0 || !voids && Editor.isVoid(editor, node)) {\n          break;\n        }\n\n        var _point = beforeRef.current;\n        var isEnd = Editor.isEnd(editor, _point, _path2);\n\n        if (always || !beforeRef || !Editor.isEdge(editor, _point, _path2)) {\n          split = true;\n          var properties = Node.extractProps(node);\n          editor.apply({\n            type: 'split_node',\n            path: _path2,\n            position,\n            properties\n          });\n        }\n\n        position = _path2[_path2.length - 1] + (split || isEnd ? 1 : 0);\n      }\n\n      if (options.at == null) {\n        var _point2 = afterRef.current || Editor.end(editor, []);\n\n        Transforms.select(editor, _point2);\n      }\n\n      beforeRef.unref();\n      afterRef.unref();\n    });\n  },\n\n  /**\r\n   * Unset properties on the nodes at a location.\r\n   */\n  unsetNodes(editor, props) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n    if (!Array.isArray(props)) {\n      props = [props];\n    }\n\n    var obj = {};\n\n    for (var key of props) {\n      obj[key] = null;\n    }\n\n    Transforms.setNodes(editor, obj, options);\n  },\n\n  /**\r\n   * Unwrap the nodes at a location from a parent node, splitting the parent if\r\n   * necessary to ensure that only the content in the range is unwrapped.\r\n   */\n  unwrapNodes(editor) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    Editor.withoutNormalizing(editor, () => {\n      var {\n        mode = 'lowest',\n        split = false,\n        voids = false\n      } = options;\n      var {\n        at = editor.selection,\n        match\n      } = options;\n\n      if (!at) {\n        return;\n      }\n\n      if (match == null) {\n        match = Path.isPath(at) ? matchPath(editor, at) : n => Editor.isBlock(editor, n);\n      }\n\n      if (Path.isPath(at)) {\n        at = Editor.range(editor, at);\n      }\n\n      var rangeRef = Range.isRange(at) ? Editor.rangeRef(editor, at) : null;\n      var matches = Editor.nodes(editor, {\n        at,\n        match,\n        mode,\n        voids\n      });\n      var pathRefs = Array.from(matches, _ref5 => {\n        var [, p] = _ref5;\n        return Editor.pathRef(editor, p);\n      } // unwrapNode will call liftNode which does not support splitting the node when nested.\n      // If we do not reverse the order and call it from top to the bottom, it will remove all blocks\n      // that wrap target node. So we reverse the order.\n      ).reverse();\n\n      var _loop = function _loop(pathRef) {\n        var path = pathRef.unref();\n        var [node] = Editor.node(editor, path);\n        var range = Editor.range(editor, path);\n\n        if (split && rangeRef) {\n          range = Range.intersection(rangeRef.current, range);\n        }\n\n        Transforms.liftNodes(editor, {\n          at: range,\n          match: n => Element.isAncestor(node) && node.children.includes(n),\n          voids\n        });\n      };\n\n      for (var pathRef of pathRefs) {\n        _loop(pathRef);\n      }\n\n      if (rangeRef) {\n        rangeRef.unref();\n      }\n    });\n  },\n\n  /**\r\n   * Wrap the nodes at a location in a new container node, splitting the edges\r\n   * of the range first to ensure that only the content in the range is wrapped.\r\n   */\n  wrapNodes(editor, element) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    Editor.withoutNormalizing(editor, () => {\n      var {\n        mode = 'lowest',\n        split = false,\n        voids = false\n      } = options;\n      var {\n        match,\n        at = editor.selection\n      } = options;\n\n      if (!at) {\n        return;\n      }\n\n      if (match == null) {\n        if (Path.isPath(at)) {\n          match = matchPath(editor, at);\n        } else if (editor.isInline(element)) {\n          match = n => Editor.isInline(editor, n) || Text.isText(n);\n        } else {\n          match = n => Editor.isBlock(editor, n);\n        }\n      }\n\n      if (split && Range.isRange(at)) {\n        var [start, end] = Range.edges(at);\n        var rangeRef = Editor.rangeRef(editor, at, {\n          affinity: 'inward'\n        });\n        Transforms.splitNodes(editor, {\n          at: end,\n          match,\n          voids\n        });\n        Transforms.splitNodes(editor, {\n          at: start,\n          match,\n          voids\n        });\n        at = rangeRef.unref();\n\n        if (options.at == null) {\n          Transforms.select(editor, at);\n        }\n      }\n\n      var roots = Array.from(Editor.nodes(editor, {\n        at,\n        match: editor.isInline(element) ? n => Editor.isBlock(editor, n) : n => Editor.isEditor(n),\n        mode: 'lowest',\n        voids\n      }));\n\n      for (var [, rootPath] of roots) {\n        var a = Range.isRange(at) ? Range.intersection(at, Editor.range(editor, rootPath)) : at;\n\n        if (!a) {\n          continue;\n        }\n\n        var matches = Array.from(Editor.nodes(editor, {\n          at: a,\n          match,\n          mode,\n          voids\n        }));\n\n        if (matches.length > 0) {\n          var _ret = function () {\n            var [first] = matches;\n            var last = matches[matches.length - 1];\n            var [, firstPath] = first;\n            var [, lastPath] = last;\n\n            if (firstPath.length === 0 && lastPath.length === 0) {\n              // if there's no matching parent - usually means the node is an editor - don't do anything\n              return \"continue\";\n            }\n\n            var commonPath = Path.equals(firstPath, lastPath) ? Path.parent(firstPath) : Path.common(firstPath, lastPath);\n            var range = Editor.range(editor, firstPath, lastPath);\n            var commonNodeEntry = Editor.node(editor, commonPath);\n            var [commonNode] = commonNodeEntry;\n            var depth = commonPath.length + 1;\n            var wrapperPath = Path.next(lastPath.slice(0, depth));\n\n            var wrapper = _objectSpread$2(_objectSpread$2({}, element), {}, {\n              children: []\n            });\n\n            Transforms.insertNodes(editor, wrapper, {\n              at: wrapperPath,\n              voids\n            });\n            Transforms.moveNodes(editor, {\n              at: range,\n              match: n => Element.isAncestor(commonNode) && commonNode.children.includes(n),\n              to: wrapperPath.concat(0),\n              voids\n            });\n          }();\n\n          if (_ret === \"continue\") continue;\n        }\n      }\n    });\n  }\n\n};\n\nvar hasSingleChildNest = (editor, node) => {\n  if (Element.isElement(node)) {\n    var element = node;\n\n    if (Editor.isVoid(editor, node)) {\n      return true;\n    } else if (element.children.length === 1) {\n      return hasSingleChildNest(editor, element.children[0]);\n    } else {\n      return false;\n    }\n  } else if (Editor.isEditor(node)) {\n    return false;\n  } else {\n    return true;\n  }\n};\n/**\r\n * Convert a range into a point by deleting it's content.\r\n */\n\n\nvar deleteRange = (editor, range) => {\n  if (Range.isCollapsed(range)) {\n    return range.anchor;\n  } else {\n    var [, end] = Range.edges(range);\n    var pointRef = Editor.pointRef(editor, end);\n    Transforms.delete(editor, {\n      at: range\n    });\n    return pointRef.unref();\n  }\n};\n\nvar matchPath = (editor, path) => {\n  var [node] = Editor.node(editor, path);\n  return n => n === node;\n};\n\nfunction ownKeys$1(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$1(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys$1(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys$1(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\nvar SelectionTransforms = {\n  /**\r\n   * Collapse the selection.\r\n   */\n  collapse(editor) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var {\n      edge = 'anchor'\n    } = options;\n    var {\n      selection\n    } = editor;\n\n    if (!selection) {\n      return;\n    } else if (edge === 'anchor') {\n      Transforms.select(editor, selection.anchor);\n    } else if (edge === 'focus') {\n      Transforms.select(editor, selection.focus);\n    } else if (edge === 'start') {\n      var [start] = Range.edges(selection);\n      Transforms.select(editor, start);\n    } else if (edge === 'end') {\n      var [, end] = Range.edges(selection);\n      Transforms.select(editor, end);\n    }\n  },\n\n  /**\r\n   * Unset the selection.\r\n   */\n  deselect(editor) {\n    var {\n      selection\n    } = editor;\n\n    if (selection) {\n      editor.apply({\n        type: 'set_selection',\n        properties: selection,\n        newProperties: null\n      });\n    }\n  },\n\n  /**\r\n   * Move the selection's point forward or backward.\r\n   */\n  move(editor) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var {\n      selection\n    } = editor;\n    var {\n      distance = 1,\n      unit = 'character',\n      reverse = false\n    } = options;\n    var {\n      edge = null\n    } = options;\n\n    if (!selection) {\n      return;\n    }\n\n    if (edge === 'start') {\n      edge = Range.isBackward(selection) ? 'focus' : 'anchor';\n    }\n\n    if (edge === 'end') {\n      edge = Range.isBackward(selection) ? 'anchor' : 'focus';\n    }\n\n    var {\n      anchor,\n      focus\n    } = selection;\n    var opts = {\n      distance,\n      unit\n    };\n    var props = {};\n\n    if (edge == null || edge === 'anchor') {\n      var point = reverse ? Editor.before(editor, anchor, opts) : Editor.after(editor, anchor, opts);\n\n      if (point) {\n        props.anchor = point;\n      }\n    }\n\n    if (edge == null || edge === 'focus') {\n      var _point = reverse ? Editor.before(editor, focus, opts) : Editor.after(editor, focus, opts);\n\n      if (_point) {\n        props.focus = _point;\n      }\n    }\n\n    Transforms.setSelection(editor, props);\n  },\n\n  /**\r\n   * Set the selection to a new value.\r\n   */\n  select(editor, target) {\n    var {\n      selection\n    } = editor;\n    target = Editor.range(editor, target);\n\n    if (selection) {\n      Transforms.setSelection(editor, target);\n      return;\n    }\n\n    if (!Range.isRange(target)) {\n      throw new Error(\"When setting the selection and the current selection is `null` you must provide at least an `anchor` and `focus`, but you passed: \".concat(JSON.stringify(target)));\n    }\n\n    editor.apply({\n      type: 'set_selection',\n      properties: selection,\n      newProperties: target\n    });\n  },\n\n  /**\r\n   * Set new properties on one of the selection's points.\r\n   */\n  setPoint(editor, props) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var {\n      selection\n    } = editor;\n    var {\n      edge = 'both'\n    } = options;\n\n    if (!selection) {\n      return;\n    }\n\n    if (edge === 'start') {\n      edge = Range.isBackward(selection) ? 'focus' : 'anchor';\n    }\n\n    if (edge === 'end') {\n      edge = Range.isBackward(selection) ? 'anchor' : 'focus';\n    }\n\n    var {\n      anchor,\n      focus\n    } = selection;\n    var point = edge === 'anchor' ? anchor : focus;\n    Transforms.setSelection(editor, {\n      [edge === 'anchor' ? 'anchor' : 'focus']: _objectSpread$1(_objectSpread$1({}, point), props)\n    });\n  },\n\n  /**\r\n   * Set new properties on the selection.\r\n   */\n  setSelection(editor, props) {\n    var {\n      selection\n    } = editor;\n    var oldProps = {};\n    var newProps = {};\n\n    if (!selection) {\n      return;\n    }\n\n    for (var k in props) {\n      if (k === 'anchor' && props.anchor != null && !Point.equals(props.anchor, selection.anchor) || k === 'focus' && props.focus != null && !Point.equals(props.focus, selection.focus) || k !== 'anchor' && k !== 'focus' && props[k] !== selection[k]) {\n        oldProps[k] = selection[k];\n        newProps[k] = props[k];\n      }\n    }\n\n    if (Object.keys(oldProps).length > 0) {\n      editor.apply({\n        type: 'set_selection',\n        properties: oldProps,\n        newProperties: newProps\n      });\n    }\n  }\n\n};\n\nvar TextTransforms = {\n  /**\r\n   * Delete content in the editor.\r\n   */\n  delete(editor) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    Editor.withoutNormalizing(editor, () => {\n      var {\n        reverse = false,\n        unit = 'character',\n        distance = 1,\n        voids = false\n      } = options;\n      var {\n        at = editor.selection,\n        hanging = false\n      } = options;\n\n      if (!at) {\n        return;\n      }\n\n      if (Range.isRange(at) && Range.isCollapsed(at)) {\n        at = at.anchor;\n      }\n\n      if (Point.isPoint(at)) {\n        var furthestVoid = Editor.void(editor, {\n          at,\n          mode: 'highest'\n        });\n\n        if (!voids && furthestVoid) {\n          var [, voidPath] = furthestVoid;\n          at = voidPath;\n        } else {\n          var opts = {\n            unit,\n            distance\n          };\n          var target = reverse ? Editor.before(editor, at, opts) || Editor.start(editor, []) : Editor.after(editor, at, opts) || Editor.end(editor, []);\n          at = {\n            anchor: at,\n            focus: target\n          };\n          hanging = true;\n        }\n      }\n\n      if (Path.isPath(at)) {\n        Transforms.removeNodes(editor, {\n          at,\n          voids\n        });\n        return;\n      }\n\n      if (Range.isCollapsed(at)) {\n        return;\n      }\n\n      if (!hanging) {\n        var [, _end] = Range.edges(at);\n        var endOfDoc = Editor.end(editor, []);\n\n        if (!Point.equals(_end, endOfDoc)) {\n          at = Editor.unhangRange(editor, at, {\n            voids\n          });\n        }\n      }\n\n      var [start, end] = Range.edges(at);\n      var startBlock = Editor.above(editor, {\n        match: n => Editor.isBlock(editor, n),\n        at: start,\n        voids\n      });\n      var endBlock = Editor.above(editor, {\n        match: n => Editor.isBlock(editor, n),\n        at: end,\n        voids\n      });\n      var isAcrossBlocks = startBlock && endBlock && !Path.equals(startBlock[1], endBlock[1]);\n      var isSingleText = Path.equals(start.path, end.path);\n      var startVoid = voids ? null : Editor.void(editor, {\n        at: start,\n        mode: 'highest'\n      });\n      var endVoid = voids ? null : Editor.void(editor, {\n        at: end,\n        mode: 'highest'\n      }); // If the start or end points are inside an inline void, nudge them out.\n\n      if (startVoid) {\n        var before = Editor.before(editor, start);\n\n        if (before && startBlock && Path.isAncestor(startBlock[1], before.path)) {\n          start = before;\n        }\n      }\n\n      if (endVoid) {\n        var after = Editor.after(editor, end);\n\n        if (after && endBlock && Path.isAncestor(endBlock[1], after.path)) {\n          end = after;\n        }\n      } // Get the highest nodes that are completely inside the range, as well as\n      // the start and end nodes.\n\n\n      var matches = [];\n      var lastPath;\n\n      for (var entry of Editor.nodes(editor, {\n        at,\n        voids\n      })) {\n        var [node, path] = entry;\n\n        if (lastPath && Path.compare(path, lastPath) === 0) {\n          continue;\n        }\n\n        if (!voids && Editor.isVoid(editor, node) || !Path.isCommon(path, start.path) && !Path.isCommon(path, end.path)) {\n          matches.push(entry);\n          lastPath = path;\n        }\n      }\n\n      var pathRefs = Array.from(matches, _ref => {\n        var [, p] = _ref;\n        return Editor.pathRef(editor, p);\n      });\n      var startRef = Editor.pointRef(editor, start);\n      var endRef = Editor.pointRef(editor, end);\n\n      if (!isSingleText && !startVoid) {\n        var _point = startRef.current;\n        var [_node] = Editor.leaf(editor, _point);\n        var {\n          path: _path\n        } = _point;\n        var {\n          offset\n        } = start;\n\n        var text = _node.text.slice(offset);\n\n        if (text.length > 0) editor.apply({\n          type: 'remove_text',\n          path: _path,\n          offset,\n          text\n        });\n      }\n\n      for (var pathRef of pathRefs) {\n        var _path2 = pathRef.unref();\n\n        Transforms.removeNodes(editor, {\n          at: _path2,\n          voids\n        });\n      }\n\n      if (!endVoid) {\n        var _point2 = endRef.current;\n        var [_node2] = Editor.leaf(editor, _point2);\n        var {\n          path: _path3\n        } = _point2;\n\n        var _offset = isSingleText ? start.offset : 0;\n\n        var _text = _node2.text.slice(_offset, end.offset);\n\n        if (_text.length > 0) editor.apply({\n          type: 'remove_text',\n          path: _path3,\n          offset: _offset,\n          text: _text\n        });\n      }\n\n      if (!isSingleText && isAcrossBlocks && endRef.current && startRef.current) {\n        Transforms.mergeNodes(editor, {\n          at: endRef.current,\n          hanging: true,\n          voids\n        });\n      }\n\n      var point = reverse ? startRef.unref() || endRef.unref() : endRef.unref() || startRef.unref();\n\n      if (options.at == null && point) {\n        Transforms.select(editor, point);\n      }\n    });\n  },\n\n  /**\r\n   * Insert a fragment at a specific location in the editor.\r\n   */\n  insertFragment(editor, fragment) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    Editor.withoutNormalizing(editor, () => {\n      var {\n        hanging = false,\n        voids = false\n      } = options;\n      var {\n        at = editor.selection\n      } = options;\n\n      if (!fragment.length) {\n        return;\n      }\n\n      if (!at) {\n        return;\n      } else if (Range.isRange(at)) {\n        if (!hanging) {\n          at = Editor.unhangRange(editor, at);\n        }\n\n        if (Range.isCollapsed(at)) {\n          at = at.anchor;\n        } else {\n          var [, end] = Range.edges(at);\n\n          if (!voids && Editor.void(editor, {\n            at: end\n          })) {\n            return;\n          }\n\n          var pointRef = Editor.pointRef(editor, end);\n          Transforms.delete(editor, {\n            at\n          });\n          at = pointRef.unref();\n        }\n      } else if (Path.isPath(at)) {\n        at = Editor.start(editor, at);\n      }\n\n      if (!voids && Editor.void(editor, {\n        at\n      })) {\n        return;\n      } // If the insert point is at the edge of an inline node, move it outside\n      // instead since it will need to be split otherwise.\n\n\n      var inlineElementMatch = Editor.above(editor, {\n        at,\n        match: n => Editor.isInline(editor, n),\n        mode: 'highest',\n        voids\n      });\n\n      if (inlineElementMatch) {\n        var [, _inlinePath] = inlineElementMatch;\n\n        if (Editor.isEnd(editor, at, _inlinePath)) {\n          var after = Editor.after(editor, _inlinePath);\n          at = after;\n        } else if (Editor.isStart(editor, at, _inlinePath)) {\n          var before = Editor.before(editor, _inlinePath);\n          at = before;\n        }\n      }\n\n      var blockMatch = Editor.above(editor, {\n        match: n => Editor.isBlock(editor, n),\n        at,\n        voids\n      });\n      var [, blockPath] = blockMatch;\n      var isBlockStart = Editor.isStart(editor, at, blockPath);\n      var isBlockEnd = Editor.isEnd(editor, at, blockPath);\n      var isBlockEmpty = isBlockStart && isBlockEnd;\n      var mergeStart = !isBlockStart || isBlockStart && isBlockEnd;\n      var mergeEnd = !isBlockEnd;\n      var [, firstPath] = Node.first({\n        children: fragment\n      }, []);\n      var [, lastPath] = Node.last({\n        children: fragment\n      }, []);\n      var matches = [];\n\n      var matcher = _ref2 => {\n        var [n, p] = _ref2;\n        var isRoot = p.length === 0;\n\n        if (isRoot) {\n          return false;\n        }\n\n        if (isBlockEmpty) {\n          return true;\n        }\n\n        if (mergeStart && Path.isAncestor(p, firstPath) && Element.isElement(n) && !editor.isVoid(n) && !editor.isInline(n)) {\n          return false;\n        }\n\n        if (mergeEnd && Path.isAncestor(p, lastPath) && Element.isElement(n) && !editor.isVoid(n) && !editor.isInline(n)) {\n          return false;\n        }\n\n        return true;\n      };\n\n      for (var entry of Node.nodes({\n        children: fragment\n      }, {\n        pass: matcher\n      })) {\n        if (matcher(entry)) {\n          matches.push(entry);\n        }\n      }\n\n      var starts = [];\n      var middles = [];\n      var ends = [];\n      var starting = true;\n      var hasBlocks = false;\n\n      for (var [node] of matches) {\n        if (Element.isElement(node) && !editor.isInline(node)) {\n          starting = false;\n          hasBlocks = true;\n          middles.push(node);\n        } else if (starting) {\n          starts.push(node);\n        } else {\n          ends.push(node);\n        }\n      }\n\n      var [inlineMatch] = Editor.nodes(editor, {\n        at,\n        match: n => Text.isText(n) || Editor.isInline(editor, n),\n        mode: 'highest',\n        voids\n      });\n      var [, inlinePath] = inlineMatch;\n      var isInlineStart = Editor.isStart(editor, at, inlinePath);\n      var isInlineEnd = Editor.isEnd(editor, at, inlinePath);\n      var middleRef = Editor.pathRef(editor, isBlockEnd ? Path.next(blockPath) : blockPath);\n      var endRef = Editor.pathRef(editor, isInlineEnd ? Path.next(inlinePath) : inlinePath);\n      var blockPathRef = Editor.pathRef(editor, blockPath);\n      Transforms.splitNodes(editor, {\n        at,\n        match: n => hasBlocks ? Editor.isBlock(editor, n) : Text.isText(n) || Editor.isInline(editor, n),\n        mode: hasBlocks ? 'lowest' : 'highest',\n        voids\n      });\n      var startRef = Editor.pathRef(editor, !isInlineStart || isInlineStart && isInlineEnd ? Path.next(inlinePath) : inlinePath);\n      Transforms.insertNodes(editor, starts, {\n        at: startRef.current,\n        match: n => Text.isText(n) || Editor.isInline(editor, n),\n        mode: 'highest',\n        voids\n      });\n\n      if (isBlockEmpty && middles.length) {\n        Transforms.delete(editor, {\n          at: blockPathRef.unref(),\n          voids\n        });\n      }\n\n      Transforms.insertNodes(editor, middles, {\n        at: middleRef.current,\n        match: n => Editor.isBlock(editor, n),\n        mode: 'lowest',\n        voids\n      });\n      Transforms.insertNodes(editor, ends, {\n        at: endRef.current,\n        match: n => Text.isText(n) || Editor.isInline(editor, n),\n        mode: 'highest',\n        voids\n      });\n\n      if (!options.at) {\n        var path;\n\n        if (ends.length > 0) {\n          path = Path.previous(endRef.current);\n        } else if (middles.length > 0) {\n          path = Path.previous(middleRef.current);\n        } else {\n          path = Path.previous(startRef.current);\n        }\n\n        var _end2 = Editor.end(editor, path);\n\n        Transforms.select(editor, _end2);\n      }\n\n      startRef.unref();\n      middleRef.unref();\n      endRef.unref();\n    });\n  },\n\n  /**\r\n   * Insert a string of text in the Editor.\r\n   */\n  insertText(editor, text) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    Editor.withoutNormalizing(editor, () => {\n      var {\n        voids = false\n      } = options;\n      var {\n        at = editor.selection\n      } = options;\n\n      if (!at) {\n        return;\n      }\n\n      if (Path.isPath(at)) {\n        at = Editor.range(editor, at);\n      }\n\n      if (Range.isRange(at)) {\n        if (Range.isCollapsed(at)) {\n          at = at.anchor;\n        } else {\n          var end = Range.end(at);\n\n          if (!voids && Editor.void(editor, {\n            at: end\n          })) {\n            return;\n          }\n\n          var start = Range.start(at);\n          var pointRef = Editor.pointRef(editor, start);\n          Transforms.delete(editor, {\n            at,\n            voids\n          });\n          at = pointRef.unref();\n          Transforms.setSelection(editor, {\n            anchor: at,\n            focus: at\n          });\n        }\n      }\n\n      if (!voids && Editor.void(editor, {\n        at\n      })) {\n        return;\n      }\n\n      var {\n        path,\n        offset\n      } = at;\n      if (text.length > 0) editor.apply({\n        type: 'insert_text',\n        path,\n        offset,\n        text\n      });\n    });\n  }\n\n};\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\nvar Transforms = _objectSpread(_objectSpread(_objectSpread(_objectSpread({}, GeneralTransforms), NodeTransforms), SelectionTransforms), TextTransforms);\n\nexport { Editor, Element, Location, Node, Operation, Path, PathRef, Point, PointRef, Range, RangeRef, Span, Text, Transforms, createEditor };\n//# sourceMappingURL=index.es.js.map\n","'use strict'\n\nmodule.exports = direction\n\nvar RTL = '\\u0591-\\u07FF\\uFB1D-\\uFDFD\\uFE70-\\uFEFC'\nvar LTR =\n  'A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6' +\n  '\\u00F8-\\u02B8\\u0300-\\u0590\\u0800-\\u1FFF\\u200E\\u2C00-\\uFB1C' +\n  '\\uFE00-\\uFE6F\\uFEFD-\\uFFFF'\n\nvar rtl = new RegExp('^[^' + LTR + ']*[' + RTL + ']')\nvar ltr = new RegExp('^[^' + RTL + ']*[' + LTR + ']')\n\nfunction direction(value) {\n  value = String(value || '')\n\n  if (rtl.test(value)) {\n    return 'rtl'\n  }\n\n  if (ltr.test(value)) {\n    return 'ltr'\n  }\n\n  return 'neutral'\n}\n","function t(t){return\"object\"==typeof t&&null!=t&&1===t.nodeType}function e(t,e){return(!e||\"hidden\"!==t)&&\"visible\"!==t&&\"clip\"!==t}function n(t,n){if(t.clientHeight<t.scrollHeight||t.clientWidth<t.scrollWidth){var r=getComputedStyle(t,null);return e(r.overflowY,n)||e(r.overflowX,n)||function(t){var e=function(t){if(!t.ownerDocument||!t.ownerDocument.defaultView)return null;try{return t.ownerDocument.defaultView.frameElement}catch(t){return null}}(t);return!!e&&(e.clientHeight<t.scrollHeight||e.clientWidth<t.scrollWidth)}(t)}return!1}function r(t,e,n,r,i,o,l,d){return o<t&&l>e||o>t&&l<e?0:o<=t&&d<=n||l>=e&&d>=n?o-t-r:l>e&&d<n||o<t&&d>n?l-e+i:0}export default function(e,i){var o=window,l=i.scrollMode,d=i.block,u=i.inline,h=i.boundary,a=i.skipOverflowHiddenElements,c=\"function\"==typeof h?h:function(t){return t!==h};if(!t(e))throw new TypeError(\"Invalid target\");for(var f=document.scrollingElement||document.documentElement,s=[],p=e;t(p)&&c(p);){if((p=p.parentElement)===f){s.push(p);break}null!=p&&p===document.body&&n(p)&&!n(document.documentElement)||null!=p&&n(p,a)&&s.push(p)}for(var m=o.visualViewport?o.visualViewport.width:innerWidth,g=o.visualViewport?o.visualViewport.height:innerHeight,w=window.scrollX||pageXOffset,v=window.scrollY||pageYOffset,W=e.getBoundingClientRect(),b=W.height,H=W.width,y=W.top,E=W.right,M=W.bottom,V=W.left,x=\"start\"===d||\"nearest\"===d?y:\"end\"===d?M:y+b/2,I=\"center\"===u?V+H/2:\"end\"===u?E:V,C=[],T=0;T<s.length;T++){var k=s[T],B=k.getBoundingClientRect(),D=B.height,O=B.width,R=B.top,X=B.right,Y=B.bottom,L=B.left;if(\"if-needed\"===l&&y>=0&&V>=0&&M<=g&&E<=m&&y>=R&&M<=Y&&V>=L&&E<=X)return C;var S=getComputedStyle(k),j=parseInt(S.borderLeftWidth,10),q=parseInt(S.borderTopWidth,10),z=parseInt(S.borderRightWidth,10),A=parseInt(S.borderBottomWidth,10),F=0,G=0,J=\"offsetWidth\"in k?k.offsetWidth-k.clientWidth-j-z:0,K=\"offsetHeight\"in k?k.offsetHeight-k.clientHeight-q-A:0;if(f===k)F=\"start\"===d?x:\"end\"===d?x-g:\"nearest\"===d?r(v,v+g,g,q,A,v+x,v+x+b,b):x-g/2,G=\"start\"===u?I:\"center\"===u?I-m/2:\"end\"===u?I-m:r(w,w+m,m,j,z,w+I,w+I+H,H),F=Math.max(0,F+v),G=Math.max(0,G+w);else{F=\"start\"===d?x-R-q:\"end\"===d?x-Y+A+K:\"nearest\"===d?r(R,Y,D,q,A+K,x,x+b,b):x-(R+D/2)+K/2,G=\"start\"===u?I-L-j:\"center\"===u?I-(L+O/2)+J/2:\"end\"===u?I-X+z+J:r(L,X,O,j,z+J,I,I+H,H);var N=k.scrollLeft,P=k.scrollTop;x+=P-(F=Math.max(0,Math.min(P+F,k.scrollHeight-D+K))),I+=N-(G=Math.max(0,Math.min(N+G,k.scrollWidth-O+J)))}C.push({el:k,top:F,left:G})}return C}\n//# sourceMappingURL=index.module.js.map\n","import compute from 'compute-scroll-into-view';\n\nfunction isOptionsObject(options) {\n  return options === Object(options) && Object.keys(options).length !== 0;\n}\n\nfunction defaultBehavior(actions, behavior) {\n  if (behavior === void 0) {\n    behavior = 'auto';\n  }\n\n  var canSmoothScroll = ('scrollBehavior' in document.body.style);\n  actions.forEach(function (_ref) {\n    var el = _ref.el,\n        top = _ref.top,\n        left = _ref.left;\n\n    if (el.scroll && canSmoothScroll) {\n      el.scroll({\n        top: top,\n        left: left,\n        behavior: behavior\n      });\n    } else {\n      el.scrollTop = top;\n      el.scrollLeft = left;\n    }\n  });\n}\n\nfunction getOptions(options) {\n  if (options === false) {\n    return {\n      block: 'end',\n      inline: 'nearest'\n    };\n  }\n\n  if (isOptionsObject(options)) {\n    return options;\n  }\n\n  return {\n    block: 'start',\n    inline: 'nearest'\n  };\n}\n\nfunction scrollIntoView(target, options) {\n  var targetIsDetached = !target.ownerDocument.documentElement.contains(target);\n\n  if (isOptionsObject(options) && typeof options.behavior === 'function') {\n    return options.behavior(targetIsDetached ? [] : compute(target, options));\n  }\n\n  if (targetIsDetached) {\n    return;\n  }\n\n  var computeOptions = getOptions(options);\n  return defaultBehavior(compute(target, computeOptions), computeOptions.behavior);\n}\n\nexport default scrollIntoView;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n/**\n * Constants.\n */\n\nvar IS_MAC = typeof window != 'undefined' && /Mac|iPod|iPhone|iPad/.test(window.navigator.platform);\n\nvar MODIFIERS = {\n  alt: 'altKey',\n  control: 'ctrlKey',\n  meta: 'metaKey',\n  shift: 'shiftKey'\n};\n\nvar ALIASES = {\n  add: '+',\n  break: 'pause',\n  cmd: 'meta',\n  command: 'meta',\n  ctl: 'control',\n  ctrl: 'control',\n  del: 'delete',\n  down: 'arrowdown',\n  esc: 'escape',\n  ins: 'insert',\n  left: 'arrowleft',\n  mod: IS_MAC ? 'meta' : 'control',\n  opt: 'alt',\n  option: 'alt',\n  return: 'enter',\n  right: 'arrowright',\n  space: ' ',\n  spacebar: ' ',\n  up: 'arrowup',\n  win: 'meta',\n  windows: 'meta'\n};\n\nvar CODES = {\n  backspace: 8,\n  tab: 9,\n  enter: 13,\n  shift: 16,\n  control: 17,\n  alt: 18,\n  pause: 19,\n  capslock: 20,\n  escape: 27,\n  ' ': 32,\n  pageup: 33,\n  pagedown: 34,\n  end: 35,\n  home: 36,\n  arrowleft: 37,\n  arrowup: 38,\n  arrowright: 39,\n  arrowdown: 40,\n  insert: 45,\n  delete: 46,\n  meta: 91,\n  numlock: 144,\n  scrolllock: 145,\n  ';': 186,\n  '=': 187,\n  ',': 188,\n  '-': 189,\n  '.': 190,\n  '/': 191,\n  '`': 192,\n  '[': 219,\n  '\\\\': 220,\n  ']': 221,\n  '\\'': 222\n};\n\nfor (var f = 1; f < 20; f++) {\n  CODES['f' + f] = 111 + f;\n}\n\n/**\n * Is hotkey?\n */\n\nfunction isHotkey(hotkey, options, event) {\n  if (options && !('byKey' in options)) {\n    event = options;\n    options = null;\n  }\n\n  if (!Array.isArray(hotkey)) {\n    hotkey = [hotkey];\n  }\n\n  var array = hotkey.map(function (string) {\n    return parseHotkey(string, options);\n  });\n  var check = function check(e) {\n    return array.some(function (object) {\n      return compareHotkey(object, e);\n    });\n  };\n  var ret = event == null ? check : check(event);\n  return ret;\n}\n\nfunction isCodeHotkey(hotkey, event) {\n  return isHotkey(hotkey, event);\n}\n\nfunction isKeyHotkey(hotkey, event) {\n  return isHotkey(hotkey, { byKey: true }, event);\n}\n\n/**\n * Parse.\n */\n\nfunction parseHotkey(hotkey, options) {\n  var byKey = options && options.byKey;\n  var ret = {};\n\n  // Special case to handle the `+` key since we use it as a separator.\n  hotkey = hotkey.replace('++', '+add');\n  var values = hotkey.split('+');\n  var length = values.length;\n\n  // Ensure that all the modifiers are set to false unless the hotkey has them.\n\n  for (var k in MODIFIERS) {\n    ret[MODIFIERS[k]] = false;\n  }\n\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = values[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var value = _step.value;\n\n      var optional = value.endsWith('?') && value.length > 1;\n\n      if (optional) {\n        value = value.slice(0, -1);\n      }\n\n      var name = toKeyName(value);\n      var modifier = MODIFIERS[name];\n\n      if (length === 1 || !modifier) {\n        if (byKey) {\n          ret.key = name;\n        } else {\n          ret.which = toKeyCode(value);\n        }\n      }\n\n      if (modifier) {\n        ret[modifier] = optional ? null : true;\n      }\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator.return) {\n        _iterator.return();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  return ret;\n}\n\n/**\n * Compare.\n */\n\nfunction compareHotkey(object, event) {\n  for (var key in object) {\n    var expected = object[key];\n    var actual = void 0;\n\n    if (expected == null) {\n      continue;\n    }\n\n    if (key === 'key' && event.key != null) {\n      actual = event.key.toLowerCase();\n    } else if (key === 'which') {\n      actual = expected === 91 && event.which === 93 ? 91 : event.which;\n    } else {\n      actual = event[key];\n    }\n\n    if (actual == null && expected === false) {\n      continue;\n    }\n\n    if (actual !== expected) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\n/**\n * Utils.\n */\n\nfunction toKeyCode(name) {\n  name = toKeyName(name);\n  var code = CODES[name] || name.toUpperCase().charCodeAt(0);\n  return code;\n}\n\nfunction toKeyName(name) {\n  name = name.toLowerCase();\n  name = ALIASES[name] || name;\n  return name;\n}\n\n/**\n * Export.\n */\n\nexports.default = isHotkey;\nexports.isHotkey = isHotkey;\nexports.isCodeHotkey = isCodeHotkey;\nexports.isKeyHotkey = isKeyHotkey;\nexports.parseHotkey = parseHotkey;\nexports.compareHotkey = compareHotkey;\nexports.toKeyCode = toKeyCode;\nexports.toKeyName = toKeyName;","import React, { useRef, useEffect, useLayoutEffect, useContext, createContext, useState, useMemo, useCallback } from 'react';\nimport { Path, Node, Editor, Text as Text$1, Range, Element as Element$1, Transforms } from 'slate';\nimport getDirection from 'direction';\nimport throttle from 'lodash/throttle';\nimport scrollIntoView from 'scroll-into-view-if-needed';\nimport { isKeyHotkey } from 'is-hotkey';\nimport ReactDOM from 'react-dom';\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\n/**\r\n * Leaf content strings.\r\n */\n\nvar String = props => {\n  var {\n    isLast,\n    leaf,\n    parent,\n    text\n  } = props;\n  var editor = useSlateStatic();\n  var path = ReactEditor.findPath(editor, text);\n  var parentPath = Path.parent(path); // COMPAT: Render text inside void nodes with a zero-width space.\n  // So the node can contain selection but the text is not visible.\n\n  if (editor.isVoid(parent)) {\n    return /*#__PURE__*/React.createElement(ZeroWidthString, {\n      length: Node.string(parent).length\n    });\n  } // COMPAT: If this is the last text node in an empty block, render a zero-\n  // width space that will convert into a line break when copying and pasting\n  // to support expected plain text.\n\n\n  if (leaf.text === '' && parent.children[parent.children.length - 1] === text && !editor.isInline(parent) && Editor.string(editor, parentPath) === '') {\n    return /*#__PURE__*/React.createElement(ZeroWidthString, {\n      isLineBreak: true\n    });\n  } // COMPAT: If the text is empty, it's because it's on the edge of an inline\n  // node, so we render a zero-width space so that the selection can be\n  // inserted next to it still.\n\n\n  if (leaf.text === '') {\n    return /*#__PURE__*/React.createElement(ZeroWidthString, null);\n  } // COMPAT: Browsers will collapse trailing new lines at the end of blocks,\n  // so we need to add an extra trailing new lines to prevent that.\n\n\n  if (isLast && leaf.text.slice(-1) === '\\n') {\n    return /*#__PURE__*/React.createElement(TextString, {\n      isTrailing: true,\n      text: leaf.text\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(TextString, {\n    text: leaf.text\n  });\n};\n/**\r\n * Leaf strings with text in them.\r\n */\n\n\nvar TextString = props => {\n  var {\n    text,\n    isTrailing = false\n  } = props;\n  var ref = useRef(null);\n  var forceUpdateCount = useRef(0);\n\n  if (ref.current && ref.current.textContent !== text) {\n    forceUpdateCount.current += 1;\n  } // This component may have skipped rendering due to native operations being\n  // applied. If an undo is performed React will see the old and new shadow DOM\n  // match and not apply an update. Forces each render to actually reconcile.\n\n\n  return /*#__PURE__*/React.createElement(\"span\", {\n    \"data-slate-string\": true,\n    ref: ref,\n    key: forceUpdateCount.current\n  }, text, isTrailing ? '\\n' : null);\n};\n/**\r\n * Leaf strings without text, render as zero-width strings.\r\n */\n\n\nvar ZeroWidthString = props => {\n  var {\n    length = 0,\n    isLineBreak = false\n  } = props;\n  return /*#__PURE__*/React.createElement(\"span\", {\n    \"data-slate-zero-width\": isLineBreak ? 'n' : 'z',\n    \"data-slate-length\": length\n  }, '\\uFEFF', isLineBreak ? /*#__PURE__*/React.createElement(\"br\", null) : null);\n};\n\n/**\r\n * Two weak maps that allow us rebuild a path given a node. They are populated\r\n * at render time such that after a render occurs we can always backtrack.\r\n */\nvar NODE_TO_INDEX = new WeakMap();\nvar NODE_TO_PARENT = new WeakMap();\n/**\r\n * Weak maps that allow us to go between Slate nodes and DOM nodes. These\r\n * are used to resolve DOM event-related logic into Slate actions.\r\n */\n\nvar EDITOR_TO_WINDOW = new WeakMap();\nvar EDITOR_TO_ELEMENT = new WeakMap();\nvar ELEMENT_TO_NODE = new WeakMap();\nvar NODE_TO_ELEMENT = new WeakMap();\nvar NODE_TO_KEY = new WeakMap();\nvar EDITOR_TO_KEY_TO_ELEMENT = new WeakMap();\n/**\r\n * Weak maps for storing editor-related state.\r\n */\n\nvar IS_READ_ONLY = new WeakMap();\nvar IS_FOCUSED = new WeakMap();\n/**\r\n * Weak map for associating the context `onChange` context with the plugin.\r\n */\n\nvar EDITOR_TO_ON_CHANGE = new WeakMap();\nvar EDITOR_TO_RESTORE_DOM = new WeakMap();\n/**\r\n * Symbols.\r\n */\n\nvar PLACEHOLDER_SYMBOL = Symbol('placeholder');\n\n/**\r\n * Individual leaves in a text node with unique formatting.\r\n */\n\nvar Leaf = props => {\n  var {\n    leaf,\n    isLast,\n    text,\n    parent,\n    renderPlaceholder,\n    renderLeaf = props => /*#__PURE__*/React.createElement(DefaultLeaf, Object.assign({}, props))\n  } = props;\n  var placeholderRef = useRef(null);\n  useEffect(() => {\n    var placeholderEl = placeholderRef === null || placeholderRef === void 0 ? void 0 : placeholderRef.current;\n    var editorEl = document.querySelector('[data-slate-editor=\"true\"]');\n\n    if (!placeholderEl || !editorEl) {\n      return;\n    }\n\n    editorEl.style.minHeight = \"\".concat(placeholderEl.clientHeight, \"px\");\n    return () => {\n      editorEl.style.minHeight = 'auto';\n    };\n  }, [placeholderRef, leaf]);\n  var children = /*#__PURE__*/React.createElement(String, {\n    isLast: isLast,\n    leaf: leaf,\n    parent: parent,\n    text: text\n  });\n\n  if (leaf[PLACEHOLDER_SYMBOL]) {\n    var placeholderProps = {\n      children: leaf.placeholder,\n      attributes: {\n        'data-slate-placeholder': true,\n        style: {\n          position: 'absolute',\n          pointerEvents: 'none',\n          width: '100%',\n          maxWidth: '100%',\n          display: 'block',\n          opacity: '0.333',\n          userSelect: 'none',\n          textDecoration: 'none'\n        },\n        contentEditable: false,\n        ref: placeholderRef\n      }\n    };\n    children = /*#__PURE__*/React.createElement(React.Fragment, null, renderPlaceholder(placeholderProps), children);\n  } // COMPAT: Having the `data-` attributes on these leaf elements ensures that\n  // in certain misbehaving browsers they aren't weirdly cloned/destroyed by\n  // contenteditable behaviors. (2019/05/08)\n\n\n  var attributes = {\n    'data-slate-leaf': true\n  };\n  return renderLeaf({\n    attributes,\n    children,\n    leaf,\n    text\n  });\n};\n\nvar MemoizedLeaf = /*#__PURE__*/React.memo(Leaf, (prev, next) => {\n  return next.parent === prev.parent && next.isLast === prev.isLast && next.renderLeaf === prev.renderLeaf && next.renderPlaceholder === prev.renderPlaceholder && next.text === prev.text && Text$1.equals(next.leaf, prev.leaf) && next.leaf[PLACEHOLDER_SYMBOL] === prev.leaf[PLACEHOLDER_SYMBOL];\n});\nvar DefaultLeaf = props => {\n  var {\n    attributes,\n    children\n  } = props;\n  return /*#__PURE__*/React.createElement(\"span\", Object.assign({}, attributes), children);\n};\n\nvar IS_IOS = typeof navigator !== 'undefined' && typeof window !== 'undefined' && /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;\nvar IS_APPLE = typeof navigator !== 'undefined' && /Mac OS X/.test(navigator.userAgent);\nvar IS_ANDROID = typeof navigator !== 'undefined' && /Android/.test(navigator.userAgent);\nvar IS_FIREFOX = typeof navigator !== 'undefined' && /^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent);\nvar IS_SAFARI = typeof navigator !== 'undefined' && /Version\\/[\\d\\.]+.*Safari/.test(navigator.userAgent); // \"modern\" Edge was released at 79.x\n\nvar IS_EDGE_LEGACY = typeof navigator !== 'undefined' && /Edge?\\/(?:[0-6][0-9]|[0-7][0-8])/i.test(navigator.userAgent);\nvar IS_CHROME = typeof navigator !== 'undefined' && /Chrome/i.test(navigator.userAgent); // Native `beforeInput` events don't work well with react on Chrome 75\n// and older, Chrome 76+ can use `beforeInput` though.\n\nvar IS_CHROME_LEGACY = typeof navigator !== 'undefined' && /Chrome?\\/(?:[0-7][0-5]|[0-6][0-9])/i.test(navigator.userAgent); // Firefox did not support `beforeInput` until `v87`.\n\nvar IS_FIREFOX_LEGACY = typeof navigator !== 'undefined' && /^(?!.*Seamonkey)(?=.*Firefox\\/(?:[0-7][0-9]|[0-8][0-6])).*/i.test(navigator.userAgent); // qq browser\n\nvar IS_QQBROWSER = typeof navigator !== 'undefined' && /.*QQBrowser/.test(navigator.userAgent); // Check if DOM is available as React does internally.\n// https://github.com/facebook/react/blob/master/packages/shared/ExecutionEnvironment.js\n\nvar CAN_USE_DOM = !!(typeof window !== 'undefined' && typeof window.document !== 'undefined' && typeof window.document.createElement !== 'undefined'); // COMPAT: Firefox/Edge Legacy don't support the `beforeinput` event\n// Chrome Legacy doesn't support `beforeinput` correctly\n\nvar HAS_BEFORE_INPUT_SUPPORT = !IS_CHROME_LEGACY && !IS_EDGE_LEGACY && // globalThis is undefined in older browsers\ntypeof globalThis !== 'undefined' && globalThis.InputEvent && // @ts-ignore The `getTargetRanges` property isn't recognized.\ntypeof globalThis.InputEvent.prototype.getTargetRanges === 'function';\n\n/**\r\n * Prevent warning on SSR by falling back to useEffect when DOM isn't available\r\n */\n\nvar useIsomorphicLayoutEffect = CAN_USE_DOM ? useLayoutEffect : useEffect;\n\nvar _excluded$3 = [\"anchor\", \"focus\"],\n    _excluded2 = [\"anchor\", \"focus\"];\nvar shallowCompare = (obj1, obj2) => Object.keys(obj1).length === Object.keys(obj2).length && Object.keys(obj1).every(key => obj2.hasOwnProperty(key) && obj1[key] === obj2[key]);\n/**\r\n * Check if a list of decorator ranges are equal to another.\r\n *\r\n * PERF: this requires the two lists to also have the ranges inside them in the\r\n * same order, but this is an okay constraint for us since decorations are\r\n * kept in order, and the odd case where they aren't is okay to re-render for.\r\n */\n\nvar isDecoratorRangeListEqual = (list, another) => {\n  if (list.length !== another.length) {\n    return false;\n  }\n\n  for (var i = 0; i < list.length; i++) {\n    var range = list[i];\n    var other = another[i];\n\n    var rangeOwnProps = _objectWithoutProperties(range, _excluded$3);\n\n    var otherOwnProps = _objectWithoutProperties(other, _excluded2);\n\n    if (!Range.equals(range, other) || range[PLACEHOLDER_SYMBOL] !== other[PLACEHOLDER_SYMBOL] || !shallowCompare(rangeOwnProps, otherOwnProps)) {\n      return false;\n    }\n  }\n\n  return true;\n};\n\n/**\r\n * Text.\r\n */\n\nvar Text = props => {\n  var {\n    decorations,\n    isLast,\n    parent,\n    renderPlaceholder,\n    renderLeaf,\n    text\n  } = props;\n  var editor = useSlateStatic();\n  var ref = useRef(null);\n  var leaves = Text$1.decorations(text, decorations);\n  var key = ReactEditor.findKey(editor, text);\n  var children = [];\n\n  for (var i = 0; i < leaves.length; i++) {\n    var leaf = leaves[i];\n    children.push( /*#__PURE__*/React.createElement(MemoizedLeaf, {\n      isLast: isLast && i === leaves.length - 1,\n      key: \"\".concat(key.id, \"-\").concat(i),\n      renderPlaceholder: renderPlaceholder,\n      leaf: leaf,\n      text: text,\n      parent: parent,\n      renderLeaf: renderLeaf\n    }));\n  } // Update element-related weak maps with the DOM element ref.\n\n\n  useIsomorphicLayoutEffect(() => {\n    var KEY_TO_ELEMENT = EDITOR_TO_KEY_TO_ELEMENT.get(editor);\n\n    if (ref.current) {\n      KEY_TO_ELEMENT === null || KEY_TO_ELEMENT === void 0 ? void 0 : KEY_TO_ELEMENT.set(key, ref.current);\n      NODE_TO_ELEMENT.set(text, ref.current);\n      ELEMENT_TO_NODE.set(ref.current, text);\n    } else {\n      KEY_TO_ELEMENT === null || KEY_TO_ELEMENT === void 0 ? void 0 : KEY_TO_ELEMENT.delete(key);\n      NODE_TO_ELEMENT.delete(text);\n    }\n  });\n  return /*#__PURE__*/React.createElement(\"span\", {\n    \"data-slate-node\": \"text\",\n    ref: ref\n  }, children);\n};\n\nvar MemoizedText = /*#__PURE__*/React.memo(Text, (prev, next) => {\n  return next.parent === prev.parent && next.isLast === prev.isLast && next.renderLeaf === prev.renderLeaf && next.text === prev.text && isDecoratorRangeListEqual(next.decorations, prev.decorations);\n});\n\n/**\r\n * Element.\r\n */\n\nvar Element = props => {\n  var {\n    decorations,\n    element,\n    renderElement = p => /*#__PURE__*/React.createElement(DefaultElement, Object.assign({}, p)),\n    renderPlaceholder,\n    renderLeaf,\n    selection\n  } = props;\n  var ref = useRef(null);\n  var editor = useSlateStatic();\n  var readOnly = useReadOnly();\n  var isInline = editor.isInline(element);\n  var key = ReactEditor.findKey(editor, element);\n  var children = useChildren({\n    decorations,\n    node: element,\n    renderElement,\n    renderPlaceholder,\n    renderLeaf,\n    selection\n  }); // Attributes that the developer must mix into the element in their\n  // custom node renderer component.\n\n  var attributes = {\n    'data-slate-node': 'element',\n    ref\n  };\n\n  if (isInline) {\n    attributes['data-slate-inline'] = true;\n  } // If it's a block node with inline children, add the proper `dir` attribute\n  // for text direction.\n\n\n  if (!isInline && Editor.hasInlines(editor, element)) {\n    var text = Node.string(element);\n    var dir = getDirection(text);\n\n    if (dir === 'rtl') {\n      attributes.dir = dir;\n    }\n  } // If it's a void node, wrap the children in extra void-specific elements.\n\n\n  if (Editor.isVoid(editor, element)) {\n    attributes['data-slate-void'] = true;\n\n    if (!readOnly && isInline) {\n      attributes.contentEditable = false;\n    }\n\n    var Tag = isInline ? 'span' : 'div';\n    var [[_text]] = Node.texts(element);\n    children = readOnly ? null : /*#__PURE__*/React.createElement(Tag, {\n      \"data-slate-spacer\": true,\n      style: {\n        height: '0',\n        color: 'transparent',\n        outline: 'none',\n        position: 'absolute'\n      }\n    }, /*#__PURE__*/React.createElement(MemoizedText, {\n      renderPlaceholder: renderPlaceholder,\n      decorations: [],\n      isLast: false,\n      parent: element,\n      text: _text\n    }));\n    NODE_TO_INDEX.set(_text, 0);\n    NODE_TO_PARENT.set(_text, element);\n  } // Update element-related weak maps with the DOM element ref.\n\n\n  useIsomorphicLayoutEffect(() => {\n    var KEY_TO_ELEMENT = EDITOR_TO_KEY_TO_ELEMENT.get(editor);\n\n    if (ref.current) {\n      KEY_TO_ELEMENT === null || KEY_TO_ELEMENT === void 0 ? void 0 : KEY_TO_ELEMENT.set(key, ref.current);\n      NODE_TO_ELEMENT.set(element, ref.current);\n      ELEMENT_TO_NODE.set(ref.current, element);\n    } else {\n      KEY_TO_ELEMENT === null || KEY_TO_ELEMENT === void 0 ? void 0 : KEY_TO_ELEMENT.delete(key);\n      NODE_TO_ELEMENT.delete(element);\n    }\n  });\n  return renderElement({\n    attributes,\n    children,\n    element\n  });\n};\n\nvar MemoizedElement = /*#__PURE__*/React.memo(Element, (prev, next) => {\n  return prev.element === next.element && prev.renderElement === next.renderElement && prev.renderLeaf === next.renderLeaf && isDecoratorRangeListEqual(prev.decorations, next.decorations) && (prev.selection === next.selection || !!prev.selection && !!next.selection && Range.equals(prev.selection, next.selection));\n});\n/**\r\n * The default element renderer.\r\n */\n\nvar DefaultElement = props => {\n  var {\n    attributes,\n    children,\n    element\n  } = props;\n  var editor = useSlateStatic();\n  var Tag = editor.isInline(element) ? 'span' : 'div';\n  return /*#__PURE__*/React.createElement(Tag, Object.assign({}, attributes, {\n    style: {\n      position: 'relative'\n    }\n  }), children);\n};\n\n/**\r\n * A React context for sharing the editor object.\r\n */\n\nvar EditorContext = /*#__PURE__*/createContext(null);\n/**\r\n * Get the current editor object from the React context.\r\n */\n\nvar useSlateStatic = () => {\n  var editor = useContext(EditorContext);\n\n  if (!editor) {\n    throw new Error(\"The `useSlateStatic` hook must be used inside the <Slate> component's context.\");\n  }\n\n  return editor;\n};\n\n/**\r\n * A React context for sharing the `decorate` prop of the editable.\r\n */\n\nvar DecorateContext = /*#__PURE__*/createContext(() => []);\n/**\r\n * Get the current `decorate` prop of the editable.\r\n */\n\nvar useDecorate = () => {\n  return useContext(DecorateContext);\n};\n\n/**\r\n * A React context for sharing the `selected` state of an element.\r\n */\n\nvar SelectedContext = /*#__PURE__*/createContext(false);\n/**\r\n * Get the current `selected` state of an element.\r\n */\n\nvar useSelected = () => {\n  return useContext(SelectedContext);\n};\n\n/**\r\n * Children.\r\n */\n\nvar useChildren = props => {\n  var {\n    decorations,\n    node,\n    renderElement,\n    renderPlaceholder,\n    renderLeaf,\n    selection\n  } = props;\n  var decorate = useDecorate();\n  var editor = useSlateStatic();\n  var path = ReactEditor.findPath(editor, node);\n  var children = [];\n  var isLeafBlock = Element$1.isElement(node) && !editor.isInline(node) && Editor.hasInlines(editor, node);\n\n  for (var i = 0; i < node.children.length; i++) {\n    var p = path.concat(i);\n    var n = node.children[i];\n    var key = ReactEditor.findKey(editor, n);\n    var range = Editor.range(editor, p);\n    var sel = selection && Range.intersection(range, selection);\n    var ds = decorate([n, p]);\n\n    for (var dec of decorations) {\n      var d = Range.intersection(dec, range);\n\n      if (d) {\n        ds.push(d);\n      }\n    }\n\n    if (Element$1.isElement(n)) {\n      children.push( /*#__PURE__*/React.createElement(SelectedContext.Provider, {\n        key: \"provider-\".concat(key.id),\n        value: !!sel\n      }, /*#__PURE__*/React.createElement(MemoizedElement, {\n        decorations: ds,\n        element: n,\n        key: key.id,\n        renderElement: renderElement,\n        renderPlaceholder: renderPlaceholder,\n        renderLeaf: renderLeaf,\n        selection: sel\n      })));\n    } else {\n      children.push( /*#__PURE__*/React.createElement(MemoizedText, {\n        decorations: ds,\n        key: key.id,\n        isLast: isLeafBlock && i === node.children.length - 1,\n        parent: node,\n        renderPlaceholder: renderPlaceholder,\n        renderLeaf: renderLeaf,\n        text: n\n      }));\n    }\n\n    NODE_TO_INDEX.set(n, i);\n    NODE_TO_PARENT.set(n, node);\n  }\n\n  return children;\n};\n\n/**\r\n * Hotkey mappings for each platform.\r\n */\n\nvar HOTKEYS = {\n  bold: 'mod+b',\n  compose: ['down', 'left', 'right', 'up', 'backspace', 'enter'],\n  moveBackward: 'left',\n  moveForward: 'right',\n  moveWordBackward: 'ctrl+left',\n  moveWordForward: 'ctrl+right',\n  deleteBackward: 'shift?+backspace',\n  deleteForward: 'shift?+delete',\n  extendBackward: 'shift+left',\n  extendForward: 'shift+right',\n  italic: 'mod+i',\n  splitBlock: 'shift?+enter',\n  undo: 'mod+z'\n};\nvar APPLE_HOTKEYS = {\n  moveLineBackward: 'opt+up',\n  moveLineForward: 'opt+down',\n  moveWordBackward: 'opt+left',\n  moveWordForward: 'opt+right',\n  deleteBackward: ['ctrl+backspace', 'ctrl+h'],\n  deleteForward: ['ctrl+delete', 'ctrl+d'],\n  deleteLineBackward: 'cmd+shift?+backspace',\n  deleteLineForward: ['cmd+shift?+delete', 'ctrl+k'],\n  deleteWordBackward: 'opt+shift?+backspace',\n  deleteWordForward: 'opt+shift?+delete',\n  extendLineBackward: 'opt+shift+up',\n  extendLineForward: 'opt+shift+down',\n  redo: 'cmd+shift+z',\n  transposeCharacter: 'ctrl+t'\n};\nvar WINDOWS_HOTKEYS = {\n  deleteWordBackward: 'ctrl+shift?+backspace',\n  deleteWordForward: 'ctrl+shift?+delete',\n  redo: ['ctrl+y', 'ctrl+shift+z']\n};\n/**\r\n * Create a platform-aware hotkey checker.\r\n */\n\nvar create = key => {\n  var generic = HOTKEYS[key];\n  var apple = APPLE_HOTKEYS[key];\n  var windows = WINDOWS_HOTKEYS[key];\n  var isGeneric = generic && isKeyHotkey(generic);\n  var isApple = apple && isKeyHotkey(apple);\n  var isWindows = windows && isKeyHotkey(windows);\n  return event => {\n    if (isGeneric && isGeneric(event)) return true;\n    if (IS_APPLE && isApple && isApple(event)) return true;\n    if (!IS_APPLE && isWindows && isWindows(event)) return true;\n    return false;\n  };\n};\n/**\r\n * Hotkeys.\r\n */\n\n\nvar Hotkeys = {\n  isBold: create('bold'),\n  isCompose: create('compose'),\n  isMoveBackward: create('moveBackward'),\n  isMoveForward: create('moveForward'),\n  isDeleteBackward: create('deleteBackward'),\n  isDeleteForward: create('deleteForward'),\n  isDeleteLineBackward: create('deleteLineBackward'),\n  isDeleteLineForward: create('deleteLineForward'),\n  isDeleteWordBackward: create('deleteWordBackward'),\n  isDeleteWordForward: create('deleteWordForward'),\n  isExtendBackward: create('extendBackward'),\n  isExtendForward: create('extendForward'),\n  isExtendLineBackward: create('extendLineBackward'),\n  isExtendLineForward: create('extendLineForward'),\n  isItalic: create('italic'),\n  isMoveLineBackward: create('moveLineBackward'),\n  isMoveLineForward: create('moveLineForward'),\n  isMoveWordBackward: create('moveWordBackward'),\n  isMoveWordForward: create('moveWordForward'),\n  isRedo: create('redo'),\n  isSplitBlock: create('splitBlock'),\n  isTransposeCharacter: create('transposeCharacter'),\n  isUndo: create('undo')\n};\n\n/**\r\n * A React context for sharing the `readOnly` state of the editor.\r\n */\n\nvar ReadOnlyContext = /*#__PURE__*/createContext(false);\n/**\r\n * Get the current `readOnly` state of the editor.\r\n */\n\nvar useReadOnly = () => {\n  return useContext(ReadOnlyContext);\n};\n\n/**\r\n * A React context for sharing the editor object, in a way that re-renders the\r\n * context whenever changes occur.\r\n */\n\nvar SlateContext = /*#__PURE__*/createContext(null);\n/**\r\n * Get the current editor object from the React context.\r\n */\n\nvar useSlate = () => {\n  var context = useContext(SlateContext);\n\n  if (!context) {\n    throw new Error(\"The `useSlate` hook must be used inside the <Slate> component's context.\");\n  }\n\n  var [editor] = context;\n  return editor;\n};\n\n/**\r\n * Types.\r\n */\n/**\r\n * Returns the host window of a DOM node\r\n */\n\nvar getDefaultView = value => {\n  return value && value.ownerDocument && value.ownerDocument.defaultView || null;\n};\n/**\r\n * Check if a DOM node is a comment node.\r\n */\n\nvar isDOMComment = value => {\n  return isDOMNode(value) && value.nodeType === 8;\n};\n/**\r\n * Check if a DOM node is an element node.\r\n */\n\nvar isDOMElement = value => {\n  return isDOMNode(value) && value.nodeType === 1;\n};\n/**\r\n * Check if a value is a DOM node.\r\n */\n\nvar isDOMNode = value => {\n  var window = getDefaultView(value);\n  return !!window && value instanceof window.Node;\n};\n/**\r\n * Check if a value is a DOM selection.\r\n */\n\nvar isDOMSelection = value => {\n  var window = value && value.anchorNode && getDefaultView(value.anchorNode);\n  return !!window && value instanceof window.Selection;\n};\n/**\r\n * Check if a DOM node is an element node.\r\n */\n\nvar isDOMText = value => {\n  return isDOMNode(value) && value.nodeType === 3;\n};\n/**\r\n * Checks whether a paste event is a plaintext-only event.\r\n */\n\nvar isPlainTextOnlyPaste = event => {\n  return event.clipboardData && event.clipboardData.getData('text/plain') !== '' && event.clipboardData.types.length === 1;\n};\n/**\r\n * Normalize a DOM point so that it always refers to a text node.\r\n */\n\nvar normalizeDOMPoint = domPoint => {\n  var [node, offset] = domPoint; // If it's an element node, its offset refers to the index of its children\n  // including comment nodes, so try to find the right text child node.\n\n  if (isDOMElement(node) && node.childNodes.length) {\n    var isLast = offset === node.childNodes.length;\n    var index = isLast ? offset - 1 : offset;\n    [node, index] = getEditableChildAndIndex(node, index, isLast ? 'backward' : 'forward'); // If the editable child found is in front of input offset, we instead seek to its end\n\n    isLast = index < offset; // If the node has children, traverse until we have a leaf node. Leaf nodes\n    // can be either text nodes, or other void DOM nodes.\n\n    while (isDOMElement(node) && node.childNodes.length) {\n      var i = isLast ? node.childNodes.length - 1 : 0;\n      node = getEditableChild(node, i, isLast ? 'backward' : 'forward');\n    } // Determine the new offset inside the text node.\n\n\n    offset = isLast && node.textContent != null ? node.textContent.length : 0;\n  } // Return the node and offset.\n\n\n  return [node, offset];\n};\n/**\r\n * Determines wether the active element is nested within a shadowRoot\r\n */\n\nvar hasShadowRoot = () => {\n  return !!(window.document.activeElement && window.document.activeElement.shadowRoot);\n};\n/**\r\n * Get the nearest editable child and index at `index` in a `parent`, preferring\r\n * `direction`.\r\n */\n\nvar getEditableChildAndIndex = (parent, index, direction) => {\n  var {\n    childNodes\n  } = parent;\n  var child = childNodes[index];\n  var i = index;\n  var triedForward = false;\n  var triedBackward = false; // While the child is a comment node, or an element node with no children,\n  // keep iterating to find a sibling non-void, non-comment node.\n\n  while (isDOMComment(child) || isDOMElement(child) && child.childNodes.length === 0 || isDOMElement(child) && child.getAttribute('contenteditable') === 'false') {\n    if (triedForward && triedBackward) {\n      break;\n    }\n\n    if (i >= childNodes.length) {\n      triedForward = true;\n      i = index - 1;\n      direction = 'backward';\n      continue;\n    }\n\n    if (i < 0) {\n      triedBackward = true;\n      i = index + 1;\n      direction = 'forward';\n      continue;\n    }\n\n    child = childNodes[i];\n    index = i;\n    i += direction === 'forward' ? 1 : -1;\n  }\n\n  return [child, index];\n};\n/**\r\n * Get the nearest editable child at `index` in a `parent`, preferring\r\n * `direction`.\r\n */\n\nvar getEditableChild = (parent, index, direction) => {\n  var [child] = getEditableChildAndIndex(parent, index, direction);\n  return child;\n};\n/**\r\n * Get a plaintext representation of the content of a node, accounting for block\r\n * elements which get a newline appended.\r\n *\r\n * The domNode must be attached to the DOM.\r\n */\n\nvar getPlainText = domNode => {\n  var text = '';\n\n  if (isDOMText(domNode) && domNode.nodeValue) {\n    return domNode.nodeValue;\n  }\n\n  if (isDOMElement(domNode)) {\n    for (var childNode of Array.from(domNode.childNodes)) {\n      text += getPlainText(childNode);\n    }\n\n    var display = getComputedStyle(domNode).getPropertyValue('display');\n\n    if (display === 'block' || display === 'list' || domNode.tagName === 'BR') {\n      text += '\\n';\n    }\n  }\n\n  return text;\n};\n/**\r\n * Get x-slate-fragment attribute from data-slate-fragment\r\n */\n\nvar catchSlateFragment = /data-slate-fragment=\"(.+?)\"/m;\nvar getSlateFragmentAttribute = dataTransfer => {\n  var htmlData = dataTransfer.getData('text/html');\n  var [, fragment] = htmlData.match(catchSlateFragment) || [];\n  return fragment;\n};\n/**\r\n * Get the x-slate-fragment attribute that exist in text/html data\r\n * and append it to the DataTransfer object\r\n */\n\nvar getClipboardData = dataTransfer => {\n  if (!dataTransfer.getData('application/x-slate-fragment')) {\n    var fragment = getSlateFragmentAttribute(dataTransfer);\n\n    if (fragment) {\n      var clipboardData = new DataTransfer();\n      dataTransfer.types.forEach(type => {\n        clipboardData.setData(type, dataTransfer.getData(type));\n      });\n      clipboardData.setData('application/x-slate-fragment', fragment);\n      return clipboardData;\n    }\n  }\n\n  return dataTransfer;\n};\n\nvar AS_NATIVE = new WeakMap();\nvar NATIVE_OPERATIONS = new WeakMap();\n/**\r\n * `asNative` queues operations as native, meaning native browser events will\r\n * not have been prevented, and we need to flush the operations\r\n * after the native events have propogated to the DOM.\r\n * @param {Editor} editor - Editor on which the operations are being applied\r\n * @param {callback} fn - Function containing .exec calls which will be queued as native\r\n */\n\nvar asNative = function asNative(editor, fn) {\n  var {\n    onFlushed\n  } = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var isNative = AS_NATIVE.get(editor);\n  AS_NATIVE.set(editor, true);\n\n  try {\n    fn();\n  } finally {\n    if (isNative !== undefined) {\n      AS_NATIVE.set(editor, isNative);\n    }\n  }\n\n  if (!NATIVE_OPERATIONS.get(editor)) {\n    onFlushed === null || onFlushed === void 0 ? void 0 : onFlushed();\n  }\n};\n/**\r\n * `flushNativeEvents` applies any queued native events.\r\n * @param {Editor} editor - Editor on which the operations are being applied\r\n */\n\nvar flushNativeEvents = editor => {\n  var nativeOps = NATIVE_OPERATIONS.get(editor); // Clear list _before_ applying, as we might flush\n  // events in each op, as well.\n\n  NATIVE_OPERATIONS.delete(editor);\n\n  if (nativeOps) {\n    Editor.withoutNormalizing(editor, () => {\n      nativeOps.forEach(op => {\n        editor.apply(op);\n      });\n    });\n  }\n};\n\nvar _excluded$2 = [\"autoFocus\", \"decorate\", \"onDOMBeforeInput\", \"placeholder\", \"readOnly\", \"renderElement\", \"renderLeaf\", \"renderPlaceholder\", \"scrollSelectionIntoView\", \"style\", \"as\"];\n\nfunction ownKeys$2(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$2(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys$2(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys$2(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nvar Children = props => /*#__PURE__*/React.createElement(React.Fragment, null, useChildren(props));\n/**\r\n * Editable.\r\n */\n\n\nvar Editable$1 = props => {\n  var {\n    autoFocus,\n    decorate = defaultDecorate,\n    onDOMBeforeInput: propsOnDOMBeforeInput,\n    placeholder,\n    readOnly = false,\n    renderElement,\n    renderLeaf,\n    renderPlaceholder = props => /*#__PURE__*/React.createElement(DefaultPlaceholder, Object.assign({}, props)),\n    scrollSelectionIntoView = defaultScrollSelectionIntoView,\n    style = {},\n    as: Component = 'div'\n  } = props,\n      attributes = _objectWithoutProperties(props, _excluded$2);\n\n  var editor = useSlate(); // Rerender editor when composition status changed\n\n  var [isComposing, setIsComposing] = useState(false);\n  var ref = useRef(null); // Update internal state on each render.\n\n  IS_READ_ONLY.set(editor, readOnly); // Keep track of some state for the event handler logic.\n\n  var state = useMemo(() => ({\n    isComposing: false,\n    hasInsertPrefixInCompositon: false,\n    isDraggingInternally: false,\n    isUpdatingSelection: false,\n    latestElement: null\n  }), []); // Whenever the editor updates...\n\n  useIsomorphicLayoutEffect(() => {\n    // Update element-related weak maps with the DOM element ref.\n    var window;\n\n    if (ref.current && (window = getDefaultView(ref.current))) {\n      EDITOR_TO_WINDOW.set(editor, window);\n      EDITOR_TO_ELEMENT.set(editor, ref.current);\n      NODE_TO_ELEMENT.set(editor, ref.current);\n      ELEMENT_TO_NODE.set(ref.current, editor);\n    } else {\n      NODE_TO_ELEMENT.delete(editor);\n    } // Make sure the DOM selection state is in sync.\n\n\n    var {\n      selection\n    } = editor;\n    var root = ReactEditor.findDocumentOrShadowRoot(editor);\n    var domSelection = root.getSelection();\n\n    if (state.isComposing || !domSelection || !ReactEditor.isFocused(editor)) {\n      return;\n    }\n\n    var hasDomSelection = domSelection.type !== 'None'; // If the DOM selection is properly unset, we're done.\n\n    if (!selection && !hasDomSelection) {\n      return;\n    } // verify that the dom selection is in the editor\n\n\n    var editorElement = EDITOR_TO_ELEMENT.get(editor);\n    var hasDomSelectionInEditor = false;\n\n    if (editorElement.contains(domSelection.anchorNode) && editorElement.contains(domSelection.focusNode)) {\n      hasDomSelectionInEditor = true;\n    } // If the DOM selection is in the editor and the editor selection is already correct, we're done.\n\n\n    if (hasDomSelection && hasDomSelectionInEditor && selection) {\n      var slateRange = ReactEditor.toSlateRange(editor, domSelection, {\n        exactMatch: false\n      });\n\n      if (slateRange && Range.equals(slateRange, selection)) {\n        return;\n      }\n    } // when <Editable/> is being controlled through external value\n    // then its children might just change - DOM responds to it on its own\n    // but Slate's value is not being updated through any operation\n    // and thus it doesn't transform selection on its own\n\n\n    if (selection && !ReactEditor.hasRange(editor, selection)) {\n      editor.selection = ReactEditor.toSlateRange(editor, domSelection, {\n        exactMatch: false\n      });\n      return;\n    } // Otherwise the DOM selection is out of sync, so update it.\n\n\n    state.isUpdatingSelection = true;\n    var newDomRange = selection && ReactEditor.toDOMRange(editor, selection);\n\n    if (newDomRange) {\n      if (Range.isBackward(selection)) {\n        domSelection.setBaseAndExtent(newDomRange.endContainer, newDomRange.endOffset, newDomRange.startContainer, newDomRange.startOffset);\n      } else {\n        domSelection.setBaseAndExtent(newDomRange.startContainer, newDomRange.startOffset, newDomRange.endContainer, newDomRange.endOffset);\n      }\n\n      scrollSelectionIntoView(editor, newDomRange);\n    } else {\n      domSelection.removeAllRanges();\n    }\n\n    setTimeout(() => {\n      // COMPAT: In Firefox, it's not enough to create a range, you also need\n      // to focus the contenteditable element too. (2016/11/16)\n      if (newDomRange && IS_FIREFOX) {\n        var el = ReactEditor.toDOMNode(editor, editor);\n        el.focus();\n      }\n\n      state.isUpdatingSelection = false;\n    });\n  }); // The autoFocus TextareaHTMLAttribute doesn't do anything on a div, so it\n  // needs to be manually focused.\n\n  useEffect(() => {\n    if (ref.current && autoFocus) {\n      ref.current.focus();\n    }\n  }, [autoFocus]); // Listen on the native `beforeinput` event to get real \"Level 2\" events. This\n  // is required because React's `beforeinput` is fake and never really attaches\n  // to the real event sadly. (2019/11/01)\n  // https://github.com/facebook/react/issues/11211\n\n  var onDOMBeforeInput = useCallback(event => {\n    if (!readOnly && hasEditableTarget(editor, event.target) && !isDOMEventHandled(event, propsOnDOMBeforeInput)) {\n      var {\n        selection\n      } = editor;\n      var {\n        inputType: type\n      } = event;\n      var data = event.dataTransfer || event.data || undefined; // These two types occur while a user is composing text and can't be\n      // cancelled. Let them through and wait for the composition to end.\n\n      if (type === 'insertCompositionText' || type === 'deleteCompositionText') {\n        return;\n      }\n\n      var native = false;\n\n      if (type === 'insertText' && selection && Range.isCollapsed(selection) && // Only use native character insertion for single characters a-z or space for now.\n      // Long-press events (hold a + press 4 = ä) to choose a special character otherwise\n      // causes duplicate inserts.\n      event.data && event.data.length === 1 && /[a-z ]/i.test(event.data) && // Chrome seems to have issues correctly editing the start of nodes.\n      // When there is an inline element, e.g. a link, and you select\n      // right after it (the start of the next node).\n      selection.anchor.offset !== 0) {\n        native = true; // Skip native if there are marks, as\n        // `insertText` will insert a node, not just text.\n\n        if (editor.marks) {\n          native = false;\n        } // and because of the selection moving in `insertText` (create-editor.ts).\n\n\n        var {\n          anchor\n        } = selection;\n        var inline = Editor.above(editor, {\n          at: anchor,\n          match: n => Editor.isInline(editor, n),\n          mode: 'highest'\n        });\n\n        if (inline) {\n          var [, inlinePath] = inline;\n\n          if (Editor.isEnd(editor, selection.anchor, inlinePath)) {\n            native = false;\n          }\n        }\n      }\n\n      if (!native) {\n        event.preventDefault();\n      } // COMPAT: For the deleting forward/backward input types we don't want\n      // to change the selection because it is the range that will be deleted,\n      // and those commands determine that for themselves.\n\n\n      if (!type.startsWith('delete') || type.startsWith('deleteBy')) {\n        var [targetRange] = event.getTargetRanges();\n\n        if (targetRange) {\n          var range = ReactEditor.toSlateRange(editor, targetRange, {\n            exactMatch: false\n          });\n\n          if (!selection || !Range.equals(selection, range)) {\n            Transforms.select(editor, range);\n          }\n        }\n      } // COMPAT: If the selection is expanded, even if the command seems like\n      // a delete forward/backward command it should delete the selection.\n\n\n      if (selection && Range.isExpanded(selection) && type.startsWith('delete')) {\n        var direction = type.endsWith('Backward') ? 'backward' : 'forward';\n        Editor.deleteFragment(editor, {\n          direction\n        });\n        return;\n      }\n\n      switch (type) {\n        case 'deleteByComposition':\n        case 'deleteByCut':\n        case 'deleteByDrag':\n          {\n            Editor.deleteFragment(editor);\n            break;\n          }\n\n        case 'deleteContent':\n        case 'deleteContentForward':\n          {\n            Editor.deleteForward(editor);\n            break;\n          }\n\n        case 'deleteContentBackward':\n          {\n            Editor.deleteBackward(editor);\n            break;\n          }\n\n        case 'deleteEntireSoftLine':\n          {\n            Editor.deleteBackward(editor, {\n              unit: 'line'\n            });\n            Editor.deleteForward(editor, {\n              unit: 'line'\n            });\n            break;\n          }\n\n        case 'deleteHardLineBackward':\n          {\n            Editor.deleteBackward(editor, {\n              unit: 'block'\n            });\n            break;\n          }\n\n        case 'deleteSoftLineBackward':\n          {\n            Editor.deleteBackward(editor, {\n              unit: 'line'\n            });\n            break;\n          }\n\n        case 'deleteHardLineForward':\n          {\n            Editor.deleteForward(editor, {\n              unit: 'block'\n            });\n            break;\n          }\n\n        case 'deleteSoftLineForward':\n          {\n            Editor.deleteForward(editor, {\n              unit: 'line'\n            });\n            break;\n          }\n\n        case 'deleteWordBackward':\n          {\n            Editor.deleteBackward(editor, {\n              unit: 'word'\n            });\n            break;\n          }\n\n        case 'deleteWordForward':\n          {\n            Editor.deleteForward(editor, {\n              unit: 'word'\n            });\n            break;\n          }\n\n        case 'insertLineBreak':\n        case 'insertParagraph':\n          {\n            Editor.insertBreak(editor);\n            break;\n          }\n\n        case 'insertFromComposition':\n        case 'insertFromDrop':\n        case 'insertFromPaste':\n        case 'insertFromYank':\n        case 'insertReplacementText':\n        case 'insertText':\n          {\n            if (type === 'insertFromComposition') {\n              // COMPAT: in Safari, `compositionend` is dispatched after the\n              // `beforeinput` for \"insertFromComposition\". But if we wait for it\n              // then we will abort because we're still composing and the selection\n              // won't be updated properly.\n              // https://www.w3.org/TR/input-events-2/\n              state.isComposing && setIsComposing(false);\n              state.isComposing = false;\n            }\n\n            var window = ReactEditor.getWindow(editor);\n\n            if (data instanceof window.DataTransfer) {\n              ReactEditor.insertData(editor, data);\n            } else if (typeof data === 'string') {\n              // Only insertText operations use the native functionality, for now.\n              // Potentially expand to single character deletes, as well.\n              if (native) {\n                asNative(editor, () => Editor.insertText(editor, data), {\n                  onFlushed: () => event.preventDefault()\n                });\n              } else {\n                Editor.insertText(editor, data);\n              }\n            }\n\n            break;\n          }\n      }\n    }\n  }, [readOnly, propsOnDOMBeforeInput]); // Attach a native DOM event handler for `beforeinput` events, because React's\n  // built-in `onBeforeInput` is actually a leaky polyfill that doesn't expose\n  // real `beforeinput` events sadly... (2019/11/04)\n  // https://github.com/facebook/react/issues/11211\n\n  useIsomorphicLayoutEffect(() => {\n    if (ref.current && HAS_BEFORE_INPUT_SUPPORT) {\n      // @ts-ignore The `beforeinput` event isn't recognized.\n      ref.current.addEventListener('beforeinput', onDOMBeforeInput);\n    }\n\n    return () => {\n      if (ref.current && HAS_BEFORE_INPUT_SUPPORT) {\n        // @ts-ignore The `beforeinput` event isn't recognized.\n        ref.current.removeEventListener('beforeinput', onDOMBeforeInput);\n      }\n    };\n  }, [onDOMBeforeInput]); // Listen on the native `selectionchange` event to be able to update any time\n  // the selection changes. This is required because React's `onSelect` is leaky\n  // and non-standard so it doesn't fire until after a selection has been\n  // released. This causes issues in situations where another change happens\n  // while a selection is being dragged.\n\n  var onDOMSelectionChange = useCallback(throttle(() => {\n    if (!readOnly && !state.isComposing && !state.isUpdatingSelection && !state.isDraggingInternally) {\n      var root = ReactEditor.findDocumentOrShadowRoot(editor);\n      var {\n        activeElement\n      } = root;\n      var el = ReactEditor.toDOMNode(editor, editor);\n      var domSelection = root.getSelection();\n\n      if (activeElement === el) {\n        state.latestElement = activeElement;\n        IS_FOCUSED.set(editor, true);\n      } else {\n        IS_FOCUSED.delete(editor);\n      }\n\n      if (!domSelection) {\n        return Transforms.deselect(editor);\n      }\n\n      var {\n        anchorNode,\n        focusNode\n      } = domSelection;\n      var anchorNodeSelectable = hasEditableTarget(editor, anchorNode) || isTargetInsideVoid(editor, anchorNode);\n      var focusNodeSelectable = hasEditableTarget(editor, focusNode) || isTargetInsideVoid(editor, focusNode);\n\n      if (anchorNodeSelectable && focusNodeSelectable) {\n        var range = ReactEditor.toSlateRange(editor, domSelection, {\n          exactMatch: false\n        });\n        Transforms.select(editor, range);\n      } else {\n        Transforms.deselect(editor);\n      }\n    }\n  }, 100), [readOnly]);\n  var scheduleOnDOMSelectionChange = useCallback(() => setTimeout(onDOMSelectionChange), [onDOMSelectionChange]); // Attach a native DOM event handler for `selectionchange`, because React's\n  // built-in `onSelect` handler doesn't fire for all selection changes. It's a\n  // leaky polyfill that only fires on keypresses or clicks. Instead, we want to\n  // fire for any change to the selection inside the editor. (2019/11/04)\n  // https://github.com/facebook/react/issues/5785\n\n  useIsomorphicLayoutEffect(() => {\n    var window = ReactEditor.getWindow(editor);\n    window.document.addEventListener('selectionchange', scheduleOnDOMSelectionChange);\n    return () => {\n      window.document.removeEventListener('selectionchange', scheduleOnDOMSelectionChange);\n    };\n  }, [scheduleOnDOMSelectionChange]);\n  var decorations = decorate([editor, []]);\n\n  if (placeholder && editor.children.length === 1 && Array.from(Node.texts(editor)).length === 1 && Node.string(editor) === '' && !isComposing) {\n    var start = Editor.start(editor, []);\n    decorations.push({\n      [PLACEHOLDER_SYMBOL]: true,\n      placeholder,\n      anchor: start,\n      focus: start\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(ReadOnlyContext.Provider, {\n    value: readOnly\n  }, /*#__PURE__*/React.createElement(DecorateContext.Provider, {\n    value: decorate\n  }, /*#__PURE__*/React.createElement(Component // COMPAT: The Grammarly Chrome extension works by changing the DOM\n  // out from under `contenteditable` elements, which leads to weird\n  // behaviors so we have to disable it like editor. (2017/04/24)\n  , Object.assign({\n    \"data-gramm\": false,\n    role: readOnly ? undefined : 'textbox'\n  }, attributes, {\n    // COMPAT: Certain browsers don't support the `beforeinput` event, so we'd\n    // have to use hacks to make these replacement-based features work.\n    spellCheck: !HAS_BEFORE_INPUT_SUPPORT ? false : attributes.spellCheck,\n    autoCorrect: !HAS_BEFORE_INPUT_SUPPORT ? 'false' : attributes.autoCorrect,\n    autoCapitalize: !HAS_BEFORE_INPUT_SUPPORT ? 'false' : attributes.autoCapitalize,\n    \"data-slate-editor\": true,\n    \"data-slate-node\": \"value\",\n    contentEditable: readOnly ? undefined : true,\n    suppressContentEditableWarning: true,\n    ref: ref,\n    style: _objectSpread$2({\n      // Allow positioning relative to the editable element.\n      position: 'relative',\n      // Prevent the default outline styles.\n      outline: 'none',\n      // Preserve adjacent whitespace and new lines.\n      whiteSpace: 'pre-wrap',\n      // Allow words to break if they are too long.\n      wordWrap: 'break-word'\n    }, style),\n    onBeforeInput: useCallback(event => {\n      // COMPAT: Certain browsers don't support the `beforeinput` event, so we\n      // fall back to React's leaky polyfill instead just for it. It\n      // only works for the `insertText` input type.\n      if (!HAS_BEFORE_INPUT_SUPPORT && !readOnly && !isEventHandled(event, attributes.onBeforeInput) && hasEditableTarget(editor, event.target)) {\n        event.preventDefault();\n\n        if (!state.isComposing) {\n          var text = event.data;\n          Editor.insertText(editor, text);\n        }\n      }\n    }, [readOnly]),\n    onInput: useCallback(event => {\n      // Flush native operations, as native events will have propogated\n      // and we can correctly compare DOM text values in components\n      // to stop rendering, so that browser functions like autocorrect\n      // and spellcheck work as expected.\n      flushNativeEvents(editor);\n    }, []),\n    onBlur: useCallback(event => {\n      if (readOnly || state.isUpdatingSelection || !hasEditableTarget(editor, event.target) || isEventHandled(event, attributes.onBlur)) {\n        return;\n      } // COMPAT: If the current `activeElement` is still the previous\n      // one, this is due to the window being blurred when the tab\n      // itself becomes unfocused, so we want to abort early to allow to\n      // editor to stay focused when the tab becomes focused again.\n\n\n      var root = ReactEditor.findDocumentOrShadowRoot(editor);\n\n      if (state.latestElement === root.activeElement) {\n        return;\n      }\n\n      var {\n        relatedTarget\n      } = event;\n      var el = ReactEditor.toDOMNode(editor, editor); // COMPAT: The event should be ignored if the focus is returning\n      // to the editor from an embedded editable element (eg. an <input>\n      // element inside a void node).\n\n      if (relatedTarget === el) {\n        return;\n      } // COMPAT: The event should be ignored if the focus is moving from\n      // the editor to inside a void node's spacer element.\n\n\n      if (isDOMElement(relatedTarget) && relatedTarget.hasAttribute('data-slate-spacer')) {\n        return;\n      } // COMPAT: The event should be ignored if the focus is moving to a\n      // non- editable section of an element that isn't a void node (eg.\n      // a list item of the check list example).\n\n\n      if (relatedTarget != null && isDOMNode(relatedTarget) && ReactEditor.hasDOMNode(editor, relatedTarget)) {\n        var node = ReactEditor.toSlateNode(editor, relatedTarget);\n\n        if (Element$1.isElement(node) && !editor.isVoid(node)) {\n          return;\n        }\n      } // COMPAT: Safari doesn't always remove the selection even if the content-\n      // editable element no longer has focus. Refer to:\n      // https://stackoverflow.com/questions/12353247/force-contenteditable-div-to-stop-accepting-input-after-it-loses-focus-under-web\n\n\n      if (IS_SAFARI) {\n        var domSelection = root.getSelection();\n        domSelection === null || domSelection === void 0 ? void 0 : domSelection.removeAllRanges();\n      }\n\n      IS_FOCUSED.delete(editor);\n    }, [readOnly, attributes.onBlur]),\n    onClick: useCallback(event => {\n      if (!readOnly && hasTarget(editor, event.target) && !isEventHandled(event, attributes.onClick) && isDOMNode(event.target)) {\n        var node = ReactEditor.toSlateNode(editor, event.target);\n        var path = ReactEditor.findPath(editor, node);\n\n        var _start = Editor.start(editor, path);\n\n        var end = Editor.end(editor, path);\n        var startVoid = Editor.void(editor, {\n          at: _start\n        });\n        var endVoid = Editor.void(editor, {\n          at: end\n        });\n\n        if (startVoid && endVoid && Path.equals(startVoid[1], endVoid[1])) {\n          var range = Editor.range(editor, _start);\n          Transforms.select(editor, range);\n        }\n      }\n    }, [readOnly, attributes.onClick]),\n    onCompositionEnd: useCallback(event => {\n      if (hasEditableTarget(editor, event.target) && !isEventHandled(event, attributes.onCompositionEnd)) {\n        state.isComposing && setIsComposing(false);\n        state.isComposing = false; // COMPAT: In Chrome, `beforeinput` events for compositions\n        // aren't correct and never fire the \"insertFromComposition\"\n        // type that we need. So instead, insert whenever a composition\n        // ends since it will already have been committed to the DOM.\n\n        if (!IS_SAFARI && !IS_FIREFOX_LEGACY && !IS_IOS && !IS_QQBROWSER && event.data) {\n          Editor.insertText(editor, event.data);\n        }\n\n        if (editor.selection && Range.isCollapsed(editor.selection)) {\n          var leafPath = editor.selection.anchor.path;\n          var currentTextNode = Node.leaf(editor, leafPath);\n\n          if (state.hasInsertPrefixInCompositon) {\n            state.hasInsertPrefixInCompositon = false;\n            Editor.withoutNormalizing(editor, () => {\n              // remove Unicode BOM prefix added in `onCompositionStart`\n              var text = currentTextNode.text.replace(/^\\uFEFF/, '');\n              Transforms.delete(editor, {\n                distance: currentTextNode.text.length,\n                reverse: true\n              });\n              Transforms.insertText(editor, text);\n            });\n          }\n        }\n      }\n    }, [attributes.onCompositionEnd]),\n    onCompositionUpdate: useCallback(event => {\n      if (hasEditableTarget(editor, event.target) && !isEventHandled(event, attributes.onCompositionUpdate)) {\n        !state.isComposing && setIsComposing(true);\n        state.isComposing = true;\n      }\n    }, [attributes.onCompositionUpdate]),\n    onCompositionStart: useCallback(event => {\n      if (hasEditableTarget(editor, event.target) && !isEventHandled(event, attributes.onCompositionStart)) {\n        var {\n          selection,\n          marks\n        } = editor;\n\n        if (selection) {\n          if (Range.isExpanded(selection)) {\n            Editor.deleteFragment(editor);\n            return;\n          }\n\n          var inline = Editor.above(editor, {\n            match: n => Editor.isInline(editor, n),\n            mode: 'highest'\n          });\n\n          if (inline) {\n            var [, inlinePath] = inline;\n\n            if (Editor.isEnd(editor, selection.anchor, inlinePath)) {\n              var point = Editor.after(editor, inlinePath);\n              Transforms.setSelection(editor, {\n                anchor: point,\n                focus: point\n              });\n            }\n          } // insert new node in advance to ensure composition text will insert\n          // along with final input text\n          // add Unicode BOM prefix to avoid normalize removing this node\n\n\n          if (marks) {\n            state.hasInsertPrefixInCompositon = true;\n            Transforms.insertNodes(editor, _objectSpread$2({\n              text: '\\uFEFF'\n            }, marks), {\n              select: true\n            });\n          }\n        }\n      }\n    }, [attributes.onCompositionStart]),\n    onCopy: useCallback(event => {\n      if (hasEditableTarget(editor, event.target) && !isEventHandled(event, attributes.onCopy)) {\n        event.preventDefault();\n        ReactEditor.setFragmentData(editor, event.clipboardData);\n      }\n    }, [attributes.onCopy]),\n    onCut: useCallback(event => {\n      if (!readOnly && hasEditableTarget(editor, event.target) && !isEventHandled(event, attributes.onCut)) {\n        event.preventDefault();\n        ReactEditor.setFragmentData(editor, event.clipboardData);\n        var {\n          selection\n        } = editor;\n\n        if (selection) {\n          if (Range.isExpanded(selection)) {\n            Editor.deleteFragment(editor);\n          } else {\n            var node = Node.parent(editor, selection.anchor.path);\n\n            if (Editor.isVoid(editor, node)) {\n              Transforms.delete(editor);\n            }\n          }\n        }\n      }\n    }, [readOnly, attributes.onCut]),\n    onDragOver: useCallback(event => {\n      if (hasTarget(editor, event.target) && !isEventHandled(event, attributes.onDragOver)) {\n        // Only when the target is void, call `preventDefault` to signal\n        // that drops are allowed. Editable content is droppable by\n        // default, and calling `preventDefault` hides the cursor.\n        var node = ReactEditor.toSlateNode(editor, event.target);\n\n        if (Editor.isVoid(editor, node)) {\n          event.preventDefault();\n        }\n      }\n    }, [attributes.onDragOver]),\n    onDragStart: useCallback(event => {\n      if (hasTarget(editor, event.target) && !isEventHandled(event, attributes.onDragStart)) {\n        var node = ReactEditor.toSlateNode(editor, event.target);\n        var path = ReactEditor.findPath(editor, node);\n        var voidMatch = Editor.isVoid(editor, node) || Editor.void(editor, {\n          at: path,\n          voids: true\n        }); // If starting a drag on a void node, make sure it is selected\n        // so that it shows up in the selection's fragment.\n\n        if (voidMatch) {\n          var range = Editor.range(editor, path);\n          Transforms.select(editor, range);\n        }\n\n        state.isDraggingInternally = true;\n        ReactEditor.setFragmentData(editor, event.dataTransfer);\n      }\n    }, [attributes.onDragStart]),\n    onDrop: useCallback(event => {\n      if (!readOnly && hasTarget(editor, event.target) && !isEventHandled(event, attributes.onDrop)) {\n        event.preventDefault(); // Keep a reference to the dragged range before updating selection\n\n        var draggedRange = editor.selection; // Find the range where the drop happened\n\n        var range = ReactEditor.findEventRange(editor, event);\n        var data = event.dataTransfer;\n        Transforms.select(editor, range);\n\n        if (state.isDraggingInternally) {\n          if (draggedRange) {\n            Transforms.delete(editor, {\n              at: draggedRange\n            });\n          }\n\n          state.isDraggingInternally = false;\n        }\n\n        ReactEditor.insertData(editor, data); // When dragging from another source into the editor, it's possible\n        // that the current editor does not have focus.\n\n        if (!ReactEditor.isFocused(editor)) {\n          ReactEditor.focus(editor);\n        }\n      }\n    }, [readOnly, attributes.onDrop]),\n    onDragEnd: useCallback(event => {\n      // When dropping on a different droppable element than the current editor,\n      // `onDrop` is not called. So we need to clean up in `onDragEnd` instead.\n      // Note: `onDragEnd` is only called when `onDrop` is not called\n      if (!readOnly && state.isDraggingInternally && hasTarget(editor, event.target) && !isEventHandled(event, attributes.onDragEnd)) {\n        state.isDraggingInternally = false;\n      }\n    }, [readOnly, attributes.onDragEnd]),\n    onFocus: useCallback(event => {\n      if (!readOnly && !state.isUpdatingSelection && hasEditableTarget(editor, event.target) && !isEventHandled(event, attributes.onFocus)) {\n        var el = ReactEditor.toDOMNode(editor, editor);\n        var root = ReactEditor.findDocumentOrShadowRoot(editor);\n        state.latestElement = root.activeElement; // COMPAT: If the editor has nested editable elements, the focus\n        // can go to them. In Firefox, this must be prevented because it\n        // results in issues with keyboard navigation. (2017/03/30)\n\n        if (IS_FIREFOX && event.target !== el) {\n          el.focus();\n          return;\n        }\n\n        IS_FOCUSED.set(editor, true);\n      }\n    }, [readOnly, attributes.onFocus]),\n    onKeyDown: useCallback(event => {\n      if (!readOnly && !state.isComposing && hasEditableTarget(editor, event.target) && !isEventHandled(event, attributes.onKeyDown)) {\n        var {\n          nativeEvent\n        } = event;\n        var {\n          selection\n        } = editor;\n        var element = editor.children[selection !== null ? selection.focus.path[0] : 0];\n        var isRTL = getDirection(Node.string(element)) === 'rtl'; // COMPAT: Since we prevent the default behavior on\n        // `beforeinput` events, the browser doesn't think there's ever\n        // any history stack to undo or redo, so we have to manage these\n        // hotkeys ourselves. (2019/11/06)\n\n        if (Hotkeys.isRedo(nativeEvent)) {\n          event.preventDefault();\n          var maybeHistoryEditor = editor;\n\n          if (typeof maybeHistoryEditor.redo === 'function') {\n            maybeHistoryEditor.redo();\n          }\n\n          return;\n        }\n\n        if (Hotkeys.isUndo(nativeEvent)) {\n          event.preventDefault();\n          var _maybeHistoryEditor = editor;\n\n          if (typeof _maybeHistoryEditor.undo === 'function') {\n            _maybeHistoryEditor.undo();\n          }\n\n          return;\n        } // COMPAT: Certain browsers don't handle the selection updates\n        // properly. In Chrome, the selection isn't properly extended.\n        // And in Firefox, the selection isn't properly collapsed.\n        // (2017/10/17)\n\n\n        if (Hotkeys.isMoveLineBackward(nativeEvent)) {\n          event.preventDefault();\n          Transforms.move(editor, {\n            unit: 'line',\n            reverse: true\n          });\n          return;\n        }\n\n        if (Hotkeys.isMoveLineForward(nativeEvent)) {\n          event.preventDefault();\n          Transforms.move(editor, {\n            unit: 'line'\n          });\n          return;\n        }\n\n        if (Hotkeys.isExtendLineBackward(nativeEvent)) {\n          event.preventDefault();\n          Transforms.move(editor, {\n            unit: 'line',\n            edge: 'focus',\n            reverse: true\n          });\n          return;\n        }\n\n        if (Hotkeys.isExtendLineForward(nativeEvent)) {\n          event.preventDefault();\n          Transforms.move(editor, {\n            unit: 'line',\n            edge: 'focus'\n          });\n          return;\n        } // COMPAT: If a void node is selected, or a zero-width text node\n        // adjacent to an inline is selected, we need to handle these\n        // hotkeys manually because browsers won't be able to skip over\n        // the void node with the zero-width space not being an empty\n        // string.\n\n\n        if (Hotkeys.isMoveBackward(nativeEvent)) {\n          event.preventDefault();\n\n          if (selection && Range.isCollapsed(selection)) {\n            Transforms.move(editor, {\n              reverse: !isRTL\n            });\n          } else {\n            Transforms.collapse(editor, {\n              edge: 'start'\n            });\n          }\n\n          return;\n        }\n\n        if (Hotkeys.isMoveForward(nativeEvent)) {\n          event.preventDefault();\n\n          if (selection && Range.isCollapsed(selection)) {\n            Transforms.move(editor, {\n              reverse: isRTL\n            });\n          } else {\n            Transforms.collapse(editor, {\n              edge: 'end'\n            });\n          }\n\n          return;\n        }\n\n        if (Hotkeys.isMoveWordBackward(nativeEvent)) {\n          event.preventDefault();\n\n          if (selection && Range.isExpanded(selection)) {\n            Transforms.collapse(editor, {\n              edge: 'focus'\n            });\n          }\n\n          Transforms.move(editor, {\n            unit: 'word',\n            reverse: !isRTL\n          });\n          return;\n        }\n\n        if (Hotkeys.isMoveWordForward(nativeEvent)) {\n          event.preventDefault();\n\n          if (selection && Range.isExpanded(selection)) {\n            Transforms.collapse(editor, {\n              edge: 'focus'\n            });\n          }\n\n          Transforms.move(editor, {\n            unit: 'word',\n            reverse: isRTL\n          });\n          return;\n        } // COMPAT: Certain browsers don't support the `beforeinput` event, so we\n        // fall back to guessing at the input intention for hotkeys.\n        // COMPAT: In iOS, some of these hotkeys are handled in the\n\n\n        if (!HAS_BEFORE_INPUT_SUPPORT) {\n          // We don't have a core behavior for these, but they change the\n          // DOM if we don't prevent them, so we have to.\n          if (Hotkeys.isBold(nativeEvent) || Hotkeys.isItalic(nativeEvent) || Hotkeys.isTransposeCharacter(nativeEvent)) {\n            event.preventDefault();\n            return;\n          }\n\n          if (Hotkeys.isSplitBlock(nativeEvent)) {\n            event.preventDefault();\n            Editor.insertBreak(editor);\n            return;\n          }\n\n          if (Hotkeys.isDeleteBackward(nativeEvent)) {\n            event.preventDefault();\n\n            if (selection && Range.isExpanded(selection)) {\n              Editor.deleteFragment(editor, {\n                direction: 'backward'\n              });\n            } else {\n              Editor.deleteBackward(editor);\n            }\n\n            return;\n          }\n\n          if (Hotkeys.isDeleteForward(nativeEvent)) {\n            event.preventDefault();\n\n            if (selection && Range.isExpanded(selection)) {\n              Editor.deleteFragment(editor, {\n                direction: 'forward'\n              });\n            } else {\n              Editor.deleteForward(editor);\n            }\n\n            return;\n          }\n\n          if (Hotkeys.isDeleteLineBackward(nativeEvent)) {\n            event.preventDefault();\n\n            if (selection && Range.isExpanded(selection)) {\n              Editor.deleteFragment(editor, {\n                direction: 'backward'\n              });\n            } else {\n              Editor.deleteBackward(editor, {\n                unit: 'line'\n              });\n            }\n\n            return;\n          }\n\n          if (Hotkeys.isDeleteLineForward(nativeEvent)) {\n            event.preventDefault();\n\n            if (selection && Range.isExpanded(selection)) {\n              Editor.deleteFragment(editor, {\n                direction: 'forward'\n              });\n            } else {\n              Editor.deleteForward(editor, {\n                unit: 'line'\n              });\n            }\n\n            return;\n          }\n\n          if (Hotkeys.isDeleteWordBackward(nativeEvent)) {\n            event.preventDefault();\n\n            if (selection && Range.isExpanded(selection)) {\n              Editor.deleteFragment(editor, {\n                direction: 'backward'\n              });\n            } else {\n              Editor.deleteBackward(editor, {\n                unit: 'word'\n              });\n            }\n\n            return;\n          }\n\n          if (Hotkeys.isDeleteWordForward(nativeEvent)) {\n            event.preventDefault();\n\n            if (selection && Range.isExpanded(selection)) {\n              Editor.deleteFragment(editor, {\n                direction: 'forward'\n              });\n            } else {\n              Editor.deleteForward(editor, {\n                unit: 'word'\n              });\n            }\n\n            return;\n          }\n        } else {\n          if (IS_CHROME || IS_SAFARI) {\n            // COMPAT: Chrome and Safari support `beforeinput` event but do not fire\n            // an event when deleting backwards in a selected void inline node\n            if (selection && (Hotkeys.isDeleteBackward(nativeEvent) || Hotkeys.isDeleteForward(nativeEvent)) && Range.isCollapsed(selection)) {\n              var currentNode = Node.parent(editor, selection.anchor.path);\n\n              if (Element$1.isElement(currentNode) && Editor.isVoid(editor, currentNode) && Editor.isInline(editor, currentNode)) {\n                event.preventDefault();\n                Editor.deleteBackward(editor, {\n                  unit: 'block'\n                });\n                return;\n              }\n            }\n          }\n        }\n      }\n    }, [readOnly, attributes.onKeyDown]),\n    onPaste: useCallback(event => {\n      if (!readOnly && hasEditableTarget(editor, event.target) && !isEventHandled(event, attributes.onPaste)) {\n        // COMPAT: Certain browsers don't support the `beforeinput` event, so we\n        // fall back to React's `onPaste` here instead.\n        // COMPAT: Firefox, Chrome and Safari don't emit `beforeinput` events\n        // when \"paste without formatting\" is used, so fallback. (2020/02/20)\n        if (!HAS_BEFORE_INPUT_SUPPORT || isPlainTextOnlyPaste(event.nativeEvent)) {\n          event.preventDefault();\n          ReactEditor.insertData(editor, event.clipboardData);\n        }\n      }\n    }, [readOnly, attributes.onPaste])\n  }), /*#__PURE__*/React.createElement(Children, {\n    decorations: decorations,\n    node: editor,\n    renderElement: renderElement,\n    renderPlaceholder: renderPlaceholder,\n    renderLeaf: renderLeaf,\n    selection: editor.selection\n  }))));\n};\n/**\r\n * The default placeholder element\r\n */\n\nvar DefaultPlaceholder = _ref => {\n  var {\n    attributes,\n    children\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"span\", Object.assign({}, attributes), children);\n};\n/**\r\n * A default memoized decorate function.\r\n */\n\nvar defaultDecorate = () => [];\n/**\r\n * A default implement to scroll dom range into view.\r\n */\n\nvar defaultScrollSelectionIntoView = (editor, domRange) => {\n  var leafEl = domRange.startContainer.parentElement;\n  leafEl.getBoundingClientRect = domRange.getBoundingClientRect.bind(domRange);\n  scrollIntoView(leafEl, {\n    scrollMode: 'if-needed'\n  });\n  delete leafEl.getBoundingClientRect;\n};\n/**\r\n * Check if the target is in the editor.\r\n */\n\nvar hasTarget = (editor, target) => {\n  return isDOMNode(target) && ReactEditor.hasDOMNode(editor, target);\n};\n/**\r\n * Check if the target is editable and in the editor.\r\n */\n\nvar hasEditableTarget = (editor, target) => {\n  return isDOMNode(target) && ReactEditor.hasDOMNode(editor, target, {\n    editable: true\n  });\n};\n/**\r\n * Check if the target is inside void and in the editor.\r\n */\n\nvar isTargetInsideVoid = (editor, target) => {\n  var slateNode = hasTarget(editor, target) && ReactEditor.toSlateNode(editor, target);\n  return Editor.isVoid(editor, slateNode);\n};\n/**\r\n * Check if an event is overrided by a handler.\r\n */\n\nvar isEventHandled = (event, handler) => {\n  if (!handler) {\n    return false;\n  } // The custom event handler may return a boolean to specify whether the event\n  // shall be treated as being handled or not.\n\n\n  var shouldTreatEventAsHandled = handler(event);\n\n  if (shouldTreatEventAsHandled != null) {\n    return shouldTreatEventAsHandled;\n  }\n\n  return event.isDefaultPrevented() || event.isPropagationStopped();\n};\n/**\r\n * Check if a DOM event is overrided by a handler.\r\n */\n\nvar isDOMEventHandled = (event, handler) => {\n  if (!handler) {\n    return false;\n  } // The custom event handler may return a boolean to specify whether the event\n  // shall be treated as being handled or not.\n\n\n  var shouldTreatEventAsHandled = handler(event);\n\n  if (shouldTreatEventAsHandled != null) {\n    return shouldTreatEventAsHandled;\n  }\n\n  return event.defaultPrevented;\n};\n\n/**\r\n * An auto-incrementing identifier for keys.\r\n */\nvar n = 0;\n/**\r\n * A class that keeps track of a key string. We use a full class here because we\r\n * want to be able to use them as keys in `WeakMap` objects.\r\n */\n\nclass Key {\n  constructor() {\n    this.id = \"\".concat(n++);\n  }\n\n}\n\nvar ReactEditor = {\n  /**\r\n   * Return the host window of the current editor.\r\n   */\n  getWindow(editor) {\n    var window = EDITOR_TO_WINDOW.get(editor);\n\n    if (!window) {\n      throw new Error('Unable to find a host window element for this editor');\n    }\n\n    return window;\n  },\n\n  /**\r\n   * Find a key for a Slate node.\r\n   */\n  findKey(editor, node) {\n    var key = NODE_TO_KEY.get(node);\n\n    if (!key) {\n      key = new Key();\n      NODE_TO_KEY.set(node, key);\n    }\n\n    return key;\n  },\n\n  /**\r\n   * Find the path of Slate node.\r\n   */\n  findPath(editor, node) {\n    var path = [];\n    var child = node;\n\n    while (true) {\n      var parent = NODE_TO_PARENT.get(child);\n\n      if (parent == null) {\n        if (Editor.isEditor(child)) {\n          return path;\n        } else {\n          break;\n        }\n      }\n\n      var i = NODE_TO_INDEX.get(child);\n\n      if (i == null) {\n        break;\n      }\n\n      path.unshift(i);\n      child = parent;\n    }\n\n    throw new Error(\"Unable to find the path for Slate node: \".concat(JSON.stringify(node)));\n  },\n\n  /**\r\n   * Find the DOM node that implements DocumentOrShadowRoot for the editor.\r\n   */\n  findDocumentOrShadowRoot(editor) {\n    var el = ReactEditor.toDOMNode(editor, editor);\n    var root = el.getRootNode();\n\n    if ((root instanceof Document || root instanceof ShadowRoot) && root.getSelection != null) {\n      return root;\n    }\n\n    return el.ownerDocument;\n  },\n\n  /**\r\n   * Check if the editor is focused.\r\n   */\n  isFocused(editor) {\n    return !!IS_FOCUSED.get(editor);\n  },\n\n  /**\r\n   * Check if the editor is in read-only mode.\r\n   */\n  isReadOnly(editor) {\n    return !!IS_READ_ONLY.get(editor);\n  },\n\n  /**\r\n   * Blur the editor.\r\n   */\n  blur(editor) {\n    var el = ReactEditor.toDOMNode(editor, editor);\n    var root = ReactEditor.findDocumentOrShadowRoot(editor);\n    IS_FOCUSED.set(editor, false);\n\n    if (root.activeElement === el) {\n      el.blur();\n    }\n  },\n\n  /**\r\n   * Focus the editor.\r\n   */\n  focus(editor) {\n    var el = ReactEditor.toDOMNode(editor, editor);\n    var root = ReactEditor.findDocumentOrShadowRoot(editor);\n    IS_FOCUSED.set(editor, true);\n\n    if (root.activeElement !== el) {\n      el.focus({\n        preventScroll: true\n      });\n    }\n  },\n\n  /**\r\n   * Deselect the editor.\r\n   */\n  deselect(editor) {\n    ReactEditor.toDOMNode(editor, editor);\n    var {\n      selection\n    } = editor;\n    var root = ReactEditor.findDocumentOrShadowRoot(editor);\n    var domSelection = root.getSelection();\n\n    if (domSelection && domSelection.rangeCount > 0) {\n      domSelection.removeAllRanges();\n    }\n\n    if (selection) {\n      Transforms.deselect(editor);\n    }\n  },\n\n  /**\r\n   * Check if a DOM node is within the editor.\r\n   */\n  hasDOMNode(editor, target) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var {\n      editable = false\n    } = options;\n    var editorEl = ReactEditor.toDOMNode(editor, editor);\n    var targetEl; // COMPAT: In Firefox, reading `target.nodeType` will throw an error if\n    // target is originating from an internal \"restricted\" element (e.g. a\n    // stepper arrow on a number input). (2018/05/04)\n    // https://github.com/ianstormtaylor/slate/issues/1819\n\n    try {\n      targetEl = isDOMElement(target) ? target : target.parentElement;\n    } catch (err) {\n      if (!err.message.includes('Permission denied to access property \"nodeType\"')) {\n        throw err;\n      }\n    }\n\n    if (!targetEl) {\n      return false;\n    }\n\n    return targetEl.closest(\"[data-slate-editor]\") === editorEl && (!editable || targetEl.isContentEditable || !!targetEl.getAttribute('data-slate-zero-width'));\n  },\n\n  /**\r\n   * Insert data from a `DataTransfer` into the editor.\r\n   */\n  insertData(editor, data) {\n    editor.insertData(data);\n  },\n\n  /**\r\n   * Sets data from the currently selected fragment on a `DataTransfer`.\r\n   */\n  setFragmentData(editor, data) {\n    editor.setFragmentData(data);\n  },\n\n  /**\r\n   * Find the native DOM element from a Slate node.\r\n   */\n  toDOMNode(editor, node) {\n    var KEY_TO_ELEMENT = EDITOR_TO_KEY_TO_ELEMENT.get(editor);\n    var domNode = Editor.isEditor(node) ? EDITOR_TO_ELEMENT.get(editor) : KEY_TO_ELEMENT === null || KEY_TO_ELEMENT === void 0 ? void 0 : KEY_TO_ELEMENT.get(ReactEditor.findKey(editor, node));\n\n    if (!domNode) {\n      throw new Error(\"Cannot resolve a DOM node from Slate node: \".concat(JSON.stringify(node)));\n    }\n\n    return domNode;\n  },\n\n  /**\r\n   * Find a native DOM selection point from a Slate point.\r\n   */\n  toDOMPoint(editor, point) {\n    var [node] = Editor.node(editor, point.path);\n    var el = ReactEditor.toDOMNode(editor, node);\n    var domPoint; // If we're inside a void node, force the offset to 0, otherwise the zero\n    // width spacing character will result in an incorrect offset of 1\n\n    if (Editor.void(editor, {\n      at: point\n    })) {\n      point = {\n        path: point.path,\n        offset: 0\n      };\n    } // For each leaf, we need to isolate its content, which means filtering\n    // to its direct text and zero-width spans. (We have to filter out any\n    // other siblings that may have been rendered alongside them.)\n\n\n    var selector = \"[data-slate-string], [data-slate-zero-width]\";\n    var texts = Array.from(el.querySelectorAll(selector));\n    var start = 0;\n\n    for (var text of texts) {\n      var domNode = text.childNodes[0];\n\n      if (domNode == null || domNode.textContent == null) {\n        continue;\n      }\n\n      var {\n        length\n      } = domNode.textContent;\n      var attr = text.getAttribute('data-slate-length');\n      var trueLength = attr == null ? length : parseInt(attr, 10);\n      var end = start + trueLength;\n\n      if (point.offset <= end) {\n        var offset = Math.min(length, Math.max(0, point.offset - start));\n        domPoint = [domNode, offset];\n        break;\n      }\n\n      start = end;\n    }\n\n    if (!domPoint) {\n      throw new Error(\"Cannot resolve a DOM point from Slate point: \".concat(JSON.stringify(point)));\n    }\n\n    return domPoint;\n  },\n\n  /**\r\n   * Find a native DOM range from a Slate `range`.\r\n   *\r\n   * Notice: the returned range will always be ordinal regardless of the direction of Slate `range` due to DOM API limit.\r\n   *\r\n   * there is no way to create a reverse DOM Range using Range.setStart/setEnd\r\n   * according to https://dom.spec.whatwg.org/#concept-range-bp-set.\r\n   */\n  toDOMRange(editor, range) {\n    var {\n      anchor,\n      focus\n    } = range;\n    var isBackward = Range.isBackward(range);\n    var domAnchor = ReactEditor.toDOMPoint(editor, anchor);\n    var domFocus = Range.isCollapsed(range) ? domAnchor : ReactEditor.toDOMPoint(editor, focus);\n    var window = ReactEditor.getWindow(editor);\n    var domRange = window.document.createRange();\n    var [startNode, startOffset] = isBackward ? domFocus : domAnchor;\n    var [endNode, endOffset] = isBackward ? domAnchor : domFocus; // A slate Point at zero-width Leaf always has an offset of 0 but a native DOM selection at\n    // zero-width node has an offset of 1 so we have to check if we are in a zero-width node and\n    // adjust the offset accordingly.\n\n    var startEl = isDOMElement(startNode) ? startNode : startNode.parentElement;\n    var isStartAtZeroWidth = !!startEl.getAttribute('data-slate-zero-width');\n    var endEl = isDOMElement(endNode) ? endNode : endNode.parentElement;\n    var isEndAtZeroWidth = !!endEl.getAttribute('data-slate-zero-width');\n    domRange.setStart(startNode, isStartAtZeroWidth ? 1 : startOffset);\n    domRange.setEnd(endNode, isEndAtZeroWidth ? 1 : endOffset);\n    return domRange;\n  },\n\n  /**\r\n   * Find a Slate node from a native DOM `element`.\r\n   */\n  toSlateNode(editor, domNode) {\n    var domEl = isDOMElement(domNode) ? domNode : domNode.parentElement;\n\n    if (domEl && !domEl.hasAttribute('data-slate-node')) {\n      domEl = domEl.closest(\"[data-slate-node]\");\n    }\n\n    var node = domEl ? ELEMENT_TO_NODE.get(domEl) : null;\n\n    if (!node) {\n      throw new Error(\"Cannot resolve a Slate node from DOM node: \".concat(domEl));\n    }\n\n    return node;\n  },\n\n  /**\r\n   * Get the target range from a DOM `event`.\r\n   */\n  findEventRange(editor, event) {\n    if ('nativeEvent' in event) {\n      event = event.nativeEvent;\n    }\n\n    var {\n      clientX: x,\n      clientY: y,\n      target\n    } = event;\n\n    if (x == null || y == null) {\n      throw new Error(\"Cannot resolve a Slate range from a DOM event: \".concat(event));\n    }\n\n    var node = ReactEditor.toSlateNode(editor, event.target);\n    var path = ReactEditor.findPath(editor, node); // If the drop target is inside a void node, move it into either the\n    // next or previous node, depending on which side the `x` and `y`\n    // coordinates are closest to.\n\n    if (Editor.isVoid(editor, node)) {\n      var rect = target.getBoundingClientRect();\n      var isPrev = editor.isInline(node) ? x - rect.left < rect.left + rect.width - x : y - rect.top < rect.top + rect.height - y;\n      var edge = Editor.point(editor, path, {\n        edge: isPrev ? 'start' : 'end'\n      });\n      var point = isPrev ? Editor.before(editor, edge) : Editor.after(editor, edge);\n\n      if (point) {\n        var _range = Editor.range(editor, point);\n\n        return _range;\n      }\n    } // Else resolve a range from the caret position where the drop occured.\n\n\n    var domRange;\n    var {\n      document\n    } = window; // COMPAT: In Firefox, `caretRangeFromPoint` doesn't exist. (2016/07/25)\n\n    if (document.caretRangeFromPoint) {\n      domRange = document.caretRangeFromPoint(x, y);\n    } else {\n      var position = document.caretPositionFromPoint(x, y);\n\n      if (position) {\n        domRange = document.createRange();\n        domRange.setStart(position.offsetNode, position.offset);\n        domRange.setEnd(position.offsetNode, position.offset);\n      }\n    }\n\n    if (!domRange) {\n      throw new Error(\"Cannot resolve a Slate range from a DOM event: \".concat(event));\n    } // Resolve a Slate range from the DOM range.\n\n\n    var range = ReactEditor.toSlateRange(editor, domRange, {\n      exactMatch: false\n    });\n    return range;\n  },\n\n  /**\r\n   * Find a Slate point from a DOM selection's `domNode` and `domOffset`.\r\n   */\n  toSlatePoint(editor, domPoint, exactMatch) {\n    var [nearestNode, nearestOffset] = exactMatch ? domPoint : normalizeDOMPoint(domPoint);\n    var parentNode = nearestNode.parentNode;\n    var textNode = null;\n    var offset = 0;\n\n    if (parentNode) {\n      var _domNode$textContent;\n\n      var voidNode = parentNode.closest('[data-slate-void=\"true\"]');\n      var leafNode = parentNode.closest('[data-slate-leaf]');\n      var domNode = null; // Calculate how far into the text node the `nearestNode` is, so that we\n      // can determine what the offset relative to the text node is.\n\n      if (leafNode) {\n        textNode = leafNode.closest('[data-slate-node=\"text\"]');\n\n        var _window = ReactEditor.getWindow(editor);\n\n        var range = _window.document.createRange();\n\n        range.setStart(textNode, 0);\n        range.setEnd(nearestNode, nearestOffset);\n        var contents = range.cloneContents();\n        var removals = [...Array.prototype.slice.call(contents.querySelectorAll('[data-slate-zero-width]')), ...Array.prototype.slice.call(contents.querySelectorAll('[contenteditable=false]'))];\n        removals.forEach(el => {\n          el.parentNode.removeChild(el);\n        }); // COMPAT: Edge has a bug where Range.prototype.toString() will\n        // convert \\n into \\r\\n. The bug causes a loop when slate-react\n        // attempts to reposition its cursor to match the native position. Use\n        // textContent.length instead.\n        // https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/10291116/\n\n        offset = contents.textContent.length;\n        domNode = textNode;\n      } else if (voidNode) {\n        // For void nodes, the element with the offset key will be a cousin, not an\n        // ancestor, so find it by going down from the nearest void parent.\n        leafNode = voidNode.querySelector('[data-slate-leaf]'); // COMPAT: In read-only editors the leaf is not rendered.\n\n        if (!leafNode) {\n          offset = 1;\n        } else {\n          textNode = leafNode.closest('[data-slate-node=\"text\"]');\n          domNode = leafNode;\n          offset = domNode.textContent.length;\n          domNode.querySelectorAll('[data-slate-zero-width]').forEach(el => {\n            offset -= el.textContent.length;\n          });\n        }\n      }\n\n      if (domNode && offset === domNode.textContent.length && (parentNode.hasAttribute('data-slate-zero-width') || IS_FIREFOX && (_domNode$textContent = domNode.textContent) !== null && _domNode$textContent !== void 0 && _domNode$textContent.endsWith('\\n\\n'))) {\n        offset--;\n      }\n    }\n\n    if (!textNode) {\n      if (exactMatch) {\n        return null;\n      }\n\n      throw new Error(\"Cannot resolve a Slate point from DOM point: \".concat(domPoint));\n    } // COMPAT: If someone is clicking from one Slate editor into another,\n    // the select event fires twice, once for the old editor's `element`\n    // first, and then afterwards for the correct `element`. (2017/03/03)\n\n\n    var slateNode = ReactEditor.toSlateNode(editor, textNode);\n    var path = ReactEditor.findPath(editor, slateNode);\n    return {\n      path,\n      offset\n    };\n  },\n\n  /**\r\n   * Find a Slate range from a DOM range or selection.\r\n   */\n  toSlateRange(editor, domRange, options) {\n    var {\n      exactMatch\n    } = options;\n    var el = isDOMSelection(domRange) ? domRange.anchorNode : domRange.startContainer;\n    var anchorNode;\n    var anchorOffset;\n    var focusNode;\n    var focusOffset;\n    var isCollapsed;\n\n    if (el) {\n      if (isDOMSelection(domRange)) {\n        anchorNode = domRange.anchorNode;\n        anchorOffset = domRange.anchorOffset;\n        focusNode = domRange.focusNode;\n        focusOffset = domRange.focusOffset; // COMPAT: There's a bug in chrome that always returns `true` for\n        // `isCollapsed` for a Selection that comes from a ShadowRoot.\n        // (2020/08/08)\n        // https://bugs.chromium.org/p/chromium/issues/detail?id=447523\n\n        if (IS_CHROME && hasShadowRoot()) {\n          isCollapsed = domRange.anchorNode === domRange.focusNode && domRange.anchorOffset === domRange.focusOffset;\n        } else {\n          isCollapsed = domRange.isCollapsed;\n        }\n      } else {\n        anchorNode = domRange.startContainer;\n        anchorOffset = domRange.startOffset;\n        focusNode = domRange.endContainer;\n        focusOffset = domRange.endOffset;\n        isCollapsed = domRange.collapsed;\n      }\n    }\n\n    if (anchorNode == null || focusNode == null || anchorOffset == null || focusOffset == null) {\n      throw new Error(\"Cannot resolve a Slate range from DOM range: \".concat(domRange));\n    }\n\n    var anchor = ReactEditor.toSlatePoint(editor, [anchorNode, anchorOffset], exactMatch);\n\n    if (!anchor) {\n      return null;\n    }\n\n    var focus = isCollapsed ? anchor : ReactEditor.toSlatePoint(editor, [focusNode, focusOffset], exactMatch);\n\n    if (!focus) {\n      return null;\n    }\n\n    var range = {\n      anchor: anchor,\n      focus: focus\n    }; // if the selection is a hanging range that ends in a void\n    // and the DOM focus is an Element\n    // (meaning that the selection ends before the element)\n    // unhang the range to avoid mistakenly including the void\n\n    if (Range.isExpanded(range) && Range.isForward(range) && isDOMElement(focusNode) && Editor.void(editor, {\n      at: range.focus,\n      mode: 'highest'\n    })) {\n      range = Editor.unhangRange(editor, range, {\n        voids: true\n      });\n    }\n\n    return range;\n  },\n\n  hasRange(editor, range) {\n    var {\n      anchor,\n      focus\n    } = range;\n    return Editor.hasPath(editor, anchor.path) && Editor.hasPath(editor, focus.path);\n  }\n\n};\n\n/**\r\n * Returns the number of characters that are the same at the beginning of the\r\n * String.\r\n *\r\n * @param prev  the previous text\r\n * @param next  the next text\r\n * @returns the offset of the start of the difference; null if there is no difference\r\n */\n\nfunction getDiffStart(prev, next) {\n  var length = Math.min(prev.length, next.length);\n\n  for (var i = 0; i < length; i++) {\n    if (prev.charAt(i) !== next.charAt(i)) return i;\n  }\n\n  if (prev.length !== next.length) return length;\n  return null;\n}\n/**\r\n * Returns the number of characters that are the same at the end of the String\r\n * up to `max`. Max prevents double-counting characters when there are\r\n * multiple duplicate characters around the diff area.\r\n *\r\n * @param prev  the previous text\r\n * @param next  the next text\r\n * @param max  the max length to test.\r\n * @returns number of characters that are the same at the end of the string\r\n */\n\n\nfunction getDiffEnd(prev, next, max) {\n  var prevLength = prev.length;\n  var nextLength = next.length;\n  var length = Math.min(prevLength, nextLength, max);\n\n  for (var i = 0; i < length; i++) {\n    var prevChar = prev.charAt(prevLength - i - 1);\n    var nextChar = next.charAt(nextLength - i - 1);\n    if (prevChar !== nextChar) return i;\n  }\n\n  if (prev.length !== next.length) return length;\n  return null;\n}\n/**\r\n * Takes two strings and returns an object representing two offsets. The\r\n * first, `start` represents the number of characters that are the same at\r\n * the front of the String. The `end` represents the number of characters\r\n * that are the same at the end of the String.\r\n *\r\n * Returns null if they are identical.\r\n *\r\n * @param prev  the previous text\r\n * @param next  the next text\r\n * @returns the difference text range; null if there are no differences.\r\n */\n\n\nfunction getDiffOffsets(prev, next) {\n  if (prev === next) return null;\n  var start = getDiffStart(prev, next);\n  if (start === null) return null;\n  var maxEnd = Math.min(prev.length - start, next.length - start);\n  var end = getDiffEnd(prev, next, maxEnd);\n  if (end === null) return null;\n  return {\n    start,\n    end\n  };\n}\n/**\r\n * Takes a text string and returns a slice from the string at the given text range\r\n *\r\n * @param text  the text\r\n * @param offsets  the text range\r\n * @returns the text slice at text range\r\n */\n\n\nfunction sliceText(text, offsets) {\n  return text.slice(offsets.start, text.length - offsets.end);\n}\n/**\r\n * Takes two strings and returns a smart diff that can be used to describe the\r\n * change in a way that can be used as operations like inserting, removing or\r\n * replacing text.\r\n *\r\n * @param prev the previous text\r\n * @param next the next text\r\n * @returns the text difference\r\n */\n\n\nfunction diffText(prev, next) {\n  if (prev === undefined || next === undefined) return null;\n  var offsets = getDiffOffsets(prev, next);\n  if (offsets == null) return null;\n  var insertText = sliceText(next, offsets);\n  var removeText = sliceText(prev, offsets);\n  return {\n    start: offsets.start,\n    end: prev.length - offsets.end,\n    insertText,\n    removeText\n  };\n}\nfunction combineInsertedText(insertedText) {\n  return insertedText.reduce((acc, _ref) => {\n    var {\n      text\n    } = _ref;\n    return \"\".concat(acc).concat(text.insertText);\n  }, '');\n}\nfunction getTextInsertion(editor, domNode) {\n  var node = ReactEditor.toSlateNode(editor, domNode);\n\n  if (!Text$1.isText(node)) {\n    return undefined;\n  }\n\n  var prevText = node.text;\n  var nextText = domNode.textContent; // textContent will pad an extra \\n when the textContent ends with an \\n\n\n  if (nextText.endsWith('\\n')) {\n    nextText = nextText.slice(0, nextText.length - 1);\n  } // If the text is no different, there is no diff.\n\n\n  if (nextText !== prevText) {\n    var textDiff = diffText(prevText, nextText);\n\n    if (textDiff !== null) {\n      var textPath = ReactEditor.findPath(editor, node);\n      return {\n        text: textDiff,\n        path: textPath\n      };\n    }\n  }\n\n  return undefined;\n}\nfunction normalizeTextInsertionRange(editor, range, _ref2) {\n  var {\n    path,\n    text\n  } = _ref2;\n  var insertionRange = {\n    anchor: {\n      path,\n      offset: text.start\n    },\n    focus: {\n      path,\n      offset: text.end\n    }\n  };\n\n  if (!range || !Range.isCollapsed(range)) {\n    return insertionRange;\n  }\n\n  var {\n    insertText,\n    removeText\n  } = text;\n  var isSingleCharacterInsertion = insertText.length === 1 || removeText.length === 1;\n  /**\r\n   * This code handles edge cases that arise from text diffing when the\r\n   * inserted or removed character is a single character, and the character\r\n   * right before or after the anchor is the same as the one being inserted or\r\n   * removed.\r\n   *\r\n   * Take this example: hello|o\r\n   *\r\n   * If another `o` is inserted at the selection's anchor in the example above,\r\n   * it should be inserted at the anchor, but using text diffing, we actually\r\n   * detect that the character was inserted after the second `o`:\r\n   *\r\n   * helloo[o]|\r\n   *\r\n   * Instead, in these very specific edge cases, we assume that the character\r\n   * needs to be inserted after the anchor rather than where the diff was found:\r\n   *\r\n   * hello[o]|o\r\n   */\n\n  if (isSingleCharacterInsertion && Path.equals(range.anchor.path, path)) {\n    var [_text] = Array.from(Editor.nodes(editor, {\n      at: range,\n      match: Text$1.isText\n    }));\n\n    if (_text) {\n      var [node] = _text;\n      var {\n        anchor\n      } = range;\n      var characterBeforeAnchor = node.text[anchor.offset - 1];\n      var characterAfterAnchor = node.text[anchor.offset];\n\n      if (insertText.length === 1 && insertText === characterAfterAnchor) {\n        // Assume text should be inserted at the anchor\n        return range;\n      }\n\n      if (removeText.length === 1 && removeText === characterBeforeAnchor) {\n        // Assume text should be removed right before the anchor\n        return {\n          anchor: {\n            path,\n            offset: anchor.offset - 1\n          },\n          focus: {\n            path,\n            offset: anchor.offset\n          }\n        };\n      }\n    }\n  }\n\n  return insertionRange;\n}\n\nfunction gatherMutationData(editor, mutations) {\n  var addedNodes = [];\n  var removedNodes = [];\n  var insertedText = [];\n  var characterDataMutations = [];\n  mutations.forEach(mutation => {\n    switch (mutation.type) {\n      case 'childList':\n        {\n          if (mutation.addedNodes.length) {\n            mutation.addedNodes.forEach(addedNode => {\n              addedNodes.push(addedNode);\n            });\n          }\n\n          mutation.removedNodes.forEach(removedNode => {\n            removedNodes.push(removedNode);\n          });\n          break;\n        }\n\n      case 'characterData':\n        {\n          characterDataMutations.push(mutation); // Changes to text nodes should consider the parent element\n\n          var {\n            parentNode\n          } = mutation.target;\n\n          if (!parentNode) {\n            return;\n          }\n\n          var textInsertion = getTextInsertion(editor, parentNode);\n\n          if (!textInsertion) {\n            return;\n          } // If we've already detected a diff at that path, we can return early\n\n\n          if (insertedText.some(_ref => {\n            var {\n              path\n            } = _ref;\n            return Path.equals(path, textInsertion.path);\n          })) {\n            return;\n          } // Add the text diff to the array of detected text insertions that need to be reconciled\n\n\n          insertedText.push(textInsertion);\n        }\n    }\n  });\n  return {\n    addedNodes,\n    removedNodes,\n    insertedText,\n    characterDataMutations\n  };\n}\n/**\r\n * In general, when a line break occurs, there will be more `addedNodes` than `removedNodes`.\r\n *\r\n * This isn't always the case however. In some cases, there will be more `removedNodes` than\r\n * `addedNodes`.\r\n *\r\n * To account for these edge cases, the most reliable strategy to detect line break mutations\r\n * is to check whether a new block was inserted of the same type as the current block.\r\n */\n\nvar isLineBreak = (editor, _ref2) => {\n  var {\n    addedNodes\n  } = _ref2;\n  var {\n    selection\n  } = editor;\n  var parentNode = selection ? Node.parent(editor, selection.anchor.path) : null;\n  var parentDOMNode = parentNode ? ReactEditor.toDOMNode(editor, parentNode) : null;\n\n  if (!parentDOMNode) {\n    return false;\n  }\n\n  return addedNodes.some(addedNode => addedNode instanceof HTMLElement && addedNode.tagName === (parentDOMNode === null || parentDOMNode === void 0 ? void 0 : parentDOMNode.tagName));\n};\n/**\r\n * So long as we check for line break mutations before deletion mutations,\r\n * we can safely assume that a set of mutations was a deletion if there are\r\n * removed nodes.\r\n */\n\nvar isDeletion = (_, _ref3) => {\n  var {\n    removedNodes\n  } = _ref3;\n  return removedNodes.length > 0;\n};\n/**\r\n * If the selection was expanded and there are removed nodes,\r\n * the contents of the selection need to be replaced with the diff\r\n */\n\nvar isReplaceExpandedSelection = (_ref4, _ref5) => {\n  var {\n    selection\n  } = _ref4;\n  var {\n    removedNodes\n  } = _ref5;\n  return selection ? Range.isExpanded(selection) && removedNodes.length > 0 : false;\n};\n/**\r\n * Plain text insertion\r\n */\n\nvar isTextInsertion = (_, _ref6) => {\n  var {\n    insertedText\n  } = _ref6;\n  return insertedText.length > 0;\n};\n/**\r\n * Edge case. Detect mutations that remove leaf nodes and also update character data\r\n */\n\nvar isRemoveLeafNodes = (_, _ref7) => {\n  var {\n    addedNodes,\n    characterDataMutations,\n    removedNodes\n  } = _ref7;\n  return removedNodes.length > 0 && addedNodes.length === 0 && characterDataMutations.length > 0;\n};\n\nfunction restoreDOM(editor) {\n  try {\n    var onRestoreDOM = EDITOR_TO_RESTORE_DOM.get(editor);\n\n    if (onRestoreDOM) {\n      onRestoreDOM();\n    }\n  } catch (err) {\n    // eslint-disable-next-line no-console\n    console.error(err);\n  }\n}\n\nfunction ownKeys$1(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$1(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys$1(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys$1(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n/**\r\n * Based loosely on:\r\n *\r\n * https://github.com/facebook/draft-js/blob/master/src/component/handlers/composition/DOMObserver.js\r\n * https://github.com/ProseMirror/prosemirror-view/blob/master/src/domobserver.js\r\n *\r\n * The input manager attempts to map observed mutations on the document to a\r\n * set of operations in order to reconcile Slate's internal value with the DOM.\r\n *\r\n * Mutations are processed synchronously as they come in. Only mutations that occur\r\n * during a user input loop are processed, as other mutations can occur within the\r\n * document that were not initiated by user input.\r\n *\r\n * The mutation reconciliation process attempts to match mutations to the following\r\n * patterns:\r\n *\r\n * - Text updates\r\n * - Deletions\r\n * - Line breaks\r\n *\r\n * @param editor\r\n */\n\n\nclass AndroidInputManager {\n  constructor(editor) {\n    this.editor = editor;\n    /**\r\n     * Handle MutationObserver flush\r\n     *\r\n     * @param mutations\r\n     */\n\n    this.flush = mutations => {\n\n      try {\n        this.reconcileMutations(mutations);\n      } catch (err) {\n        // eslint-disable-next-line no-console\n        console.error(err); // Failed to reconcile mutations, restore DOM to its previous state\n\n        restoreDOM(this.editor);\n      }\n    };\n    /**\r\n     * Reconcile a batch of mutations\r\n     *\r\n     * @param mutations\r\n     */\n\n\n    this.reconcileMutations = mutations => {\n      var mutationData = gatherMutationData(this.editor, mutations);\n      var {\n        insertedText,\n        removedNodes\n      } = mutationData;\n\n      if (isReplaceExpandedSelection(this.editor, mutationData)) {\n        var text = combineInsertedText(insertedText);\n        this.replaceExpandedSelection(text);\n      } else if (isLineBreak(this.editor, mutationData)) {\n        this.insertBreak();\n      } else if (isRemoveLeafNodes(this.editor, mutationData)) {\n        this.removeLeafNodes(removedNodes);\n      } else if (isDeletion(this.editor, mutationData)) {\n        this.deleteBackward();\n      } else if (isTextInsertion(this.editor, mutationData)) {\n        this.insertText(insertedText);\n      }\n    };\n    /**\r\n     * Apply text diff\r\n     */\n\n\n    this.insertText = insertedText => {\n      var {\n        selection,\n        marks\n      } = this.editor; // Insert the batched text diffs\n\n      insertedText.forEach(insertion => {\n        var text = insertion.text.insertText;\n        var at = normalizeTextInsertionRange(this.editor, selection, insertion);\n\n        if (marks) {\n          var node = _objectSpread$1({\n            text\n          }, marks);\n\n          Transforms.insertNodes(this.editor, node, {\n            match: Text$1.isText,\n            at,\n            select: true\n          });\n          this.editor.marks = null;\n        } else {\n          Transforms.insertText(this.editor, text, {\n            at\n          });\n        }\n      });\n    };\n    /**\r\n     * Handle line breaks\r\n     */\n\n\n    this.insertBreak = () => {\n      var {\n        selection\n      } = this.editor;\n      Editor.insertBreak(this.editor); // To-do: Need a more granular solution to restoring only a specific portion\n      // of the document. Restoring the entire document is expensive.\n\n      restoreDOM(this.editor);\n\n      if (selection) {\n        // Compat: Move selection to the newly inserted block if it has not moved\n        setTimeout(() => {\n          if (this.editor.selection && Range.equals(selection, this.editor.selection)) {\n            Transforms.move(this.editor);\n          }\n        }, 100);\n      }\n    };\n    /**\r\n     * Handle expanded selection being deleted or replaced by text\r\n     */\n\n\n    this.replaceExpandedSelection = text => {\n\n      Editor.deleteFragment(this.editor);\n\n      if (text.length) {\n        // Selection was replaced by text, insert the entire text diff\n        Editor.insertText(this.editor, text);\n      }\n\n      restoreDOM(this.editor);\n    };\n    /**\r\n     * Handle `backspace` that merges blocks\r\n     */\n\n\n    this.deleteBackward = () => {\n      Editor.deleteBackward(this.editor);\n      ReactEditor.focus(this.editor);\n      restoreDOM(this.editor);\n    };\n    /**\r\n     * Handle mutations that remove specific leaves\r\n     */\n\n\n    this.removeLeafNodes = nodes => {\n      for (var node of nodes) {\n        var slateNode = ReactEditor.toSlateNode(this.editor, node);\n\n        if (slateNode) {\n          var path = ReactEditor.findPath(this.editor, slateNode);\n          Transforms.delete(this.editor, {\n            at: path\n          });\n          restoreDOM(this.editor);\n        }\n      }\n    };\n\n    this.editor = editor;\n  }\n\n}\n\nfunction useMutationObserver(node, callback, options) {\n  var [mutationObserver] = useState(() => new MutationObserver(callback));\n  useIsomorphicLayoutEffect(() => {\n    // Disconnect mutation observer during render phase\n    mutationObserver.disconnect();\n  });\n  useEffect(() => {\n    if (!node.current) {\n      throw new Error('Failed to attach MutationObserver, `node` is undefined');\n    } // Attach mutation observer after render phase has finished\n\n\n    mutationObserver.observe(node.current, options); // Clean up after effect\n\n    return mutationObserver.disconnect.bind(mutationObserver);\n  });\n}\n\nfunction useTrackUserInput() {\n  var editor = useSlateStatic();\n  var receivedUserInput = useRef(false);\n  var animationFrameRef = useRef(null);\n  var onUserInput = useCallback(() => {\n    if (receivedUserInput.current === false) {\n      var window = ReactEditor.getWindow(editor);\n      receivedUserInput.current = true;\n\n      if (animationFrameRef.current) {\n        window.cancelAnimationFrame(animationFrameRef.current);\n      }\n\n      animationFrameRef.current = window.requestAnimationFrame(() => {\n        receivedUserInput.current = false;\n        animationFrameRef.current = null;\n      });\n    }\n  }, []);\n  useEffect(() => {\n    // Reset user input tracking on every render\n    if (receivedUserInput.current) {\n      receivedUserInput.current = false;\n    }\n  });\n  return {\n    receivedUserInput,\n    onUserInput\n  };\n}\n\nvar MUTATION_OBSERVER_CONFIG = {\n  childList: true,\n  characterData: true,\n  characterDataOldValue: true,\n  subtree: true\n};\nfunction useAndroidInputManager(node) {\n  var editor = useSlateStatic();\n  var [inputManager] = useState(() => new AndroidInputManager(editor));\n  var {\n    receivedUserInput,\n    onUserInput\n  } = useTrackUserInput();\n  var timeoutId = useRef(null);\n  var isReconciling = useRef(false);\n  var flush = useCallback(mutations => {\n    if (!receivedUserInput.current) {\n      return;\n    }\n\n    isReconciling.current = true;\n    inputManager.flush(mutations);\n\n    if (timeoutId.current) {\n      clearTimeout(timeoutId.current);\n    }\n\n    timeoutId.current = setTimeout(() => {\n      isReconciling.current = false;\n      timeoutId.current = null;\n    }, 250);\n  }, []);\n  useMutationObserver(node, flush, MUTATION_OBSERVER_CONFIG);\n  return {\n    isReconciling,\n    onUserInput\n  };\n}\n\nvar _excluded$1 = [\"autoFocus\", \"decorate\", \"onDOMBeforeInput\", \"placeholder\", \"readOnly\", \"renderElement\", \"renderLeaf\", \"renderPlaceholder\", \"style\", \"as\"];\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n/**\r\n * Editable.\r\n */\n\nvar AndroidEditable = props => {\n  var {\n    autoFocus,\n    decorate = defaultDecorate,\n    onDOMBeforeInput: propsOnDOMBeforeInput,\n    placeholder,\n    readOnly = false,\n    renderElement,\n    renderLeaf,\n    renderPlaceholder = props => /*#__PURE__*/React.createElement(DefaultPlaceholder, Object.assign({}, props)),\n    style = {},\n    as: Component = 'div'\n  } = props,\n      attributes = _objectWithoutProperties(props, _excluded$1);\n\n  var editor = useSlate();\n  var ref = useRef(null);\n  var inputManager = useAndroidInputManager(ref); // Update internal state on each render.\n\n  IS_READ_ONLY.set(editor, readOnly); // Keep track of some state for the event handler logic.\n\n  var state = useMemo(() => ({\n    isUpdatingSelection: false,\n    latestElement: null\n  }), []);\n  var [contentKey, setContentKey] = useState(0);\n  var onRestoreDOM = useCallback(() => {\n    setContentKey(prev => prev + 1);\n  }, [contentKey]); // Whenever the editor updates...\n\n  useIsomorphicLayoutEffect(() => {\n    // Update element-related weak maps with the DOM element ref.\n    var window;\n\n    if (ref.current && (window = getDefaultView(ref.current))) {\n      EDITOR_TO_WINDOW.set(editor, window);\n      EDITOR_TO_ELEMENT.set(editor, ref.current);\n      NODE_TO_ELEMENT.set(editor, ref.current);\n      ELEMENT_TO_NODE.set(ref.current, editor);\n      EDITOR_TO_RESTORE_DOM.set(editor, onRestoreDOM);\n    } else {\n      NODE_TO_ELEMENT.delete(editor);\n      EDITOR_TO_RESTORE_DOM.delete(editor);\n    }\n\n    try {\n      // Make sure the DOM selection state is in sync.\n      var {\n        selection\n      } = editor;\n      var root = ReactEditor.findDocumentOrShadowRoot(editor);\n      var domSelection = root.getSelection();\n\n      if (!domSelection || !ReactEditor.isFocused(editor)) {\n        return;\n      }\n\n      var hasDomSelection = domSelection.type !== 'None'; // If the DOM selection is properly unset, we're done.\n\n      if (!selection && !hasDomSelection) {\n        return;\n      } // verify that the dom selection is in the editor\n\n\n      var editorElement = EDITOR_TO_ELEMENT.get(editor);\n      var hasDomSelectionInEditor = false;\n\n      if (editorElement.contains(domSelection.anchorNode) && editorElement.contains(domSelection.focusNode)) {\n        hasDomSelectionInEditor = true;\n      } // If the DOM selection is in the editor and the editor selection is already correct, we're done.\n\n\n      if (hasDomSelection && hasDomSelectionInEditor && selection) {\n        var slateRange = ReactEditor.toSlateRange(editor, domSelection, {\n          exactMatch: true\n        });\n\n        if (slateRange && Range.equals(slateRange, selection)) {\n          return;\n        }\n      } // when <Editable/> is being controlled through external value\n      // then its children might just change - DOM responds to it on its own\n      // but Slate's value is not being updated through any operation\n      // and thus it doesn't transform selection on its own\n\n\n      if (selection && !ReactEditor.hasRange(editor, selection)) {\n        editor.selection = ReactEditor.toSlateRange(editor, domSelection, {\n          exactMatch: false\n        });\n        return;\n      } // Otherwise the DOM selection is out of sync, so update it.\n\n\n      var el = ReactEditor.toDOMNode(editor, editor);\n      state.isUpdatingSelection = true;\n      var newDomRange = selection && ReactEditor.toDOMRange(editor, selection);\n\n      if (newDomRange) {\n        if (Range.isBackward(selection)) {\n          domSelection.setBaseAndExtent(newDomRange.endContainer, newDomRange.endOffset, newDomRange.startContainer, newDomRange.startOffset);\n        } else {\n          domSelection.setBaseAndExtent(newDomRange.startContainer, newDomRange.startOffset, newDomRange.endContainer, newDomRange.endOffset);\n        }\n\n        var leafEl = newDomRange.startContainer.parentElement;\n        leafEl.getBoundingClientRect = newDomRange.getBoundingClientRect.bind(newDomRange);\n        scrollIntoView(leafEl, {\n          scrollMode: 'if-needed',\n          boundary: el\n        }); // @ts-ignore\n\n        delete leafEl.getBoundingClientRect;\n      } else {\n        domSelection.removeAllRanges();\n      }\n\n      setTimeout(() => {\n        state.isUpdatingSelection = false;\n      });\n    } catch (_unused) {\n      // Failed to update selection, likely due to reconciliation error\n      state.isUpdatingSelection = false;\n    }\n  }); // The autoFocus TextareaHTMLAttribute doesn't do anything on a div, so it\n  // needs to be manually focused.\n\n  useEffect(() => {\n    if (ref.current && autoFocus) {\n      ref.current.focus();\n    }\n  }, [autoFocus]); // Listen on the native `beforeinput` event to get real \"Level 2\" events. This\n  // is required because React's `beforeinput` is fake and never really attaches\n  // to the real event sadly. (2019/11/01)\n  // https://github.com/facebook/react/issues/11211\n\n  var onDOMBeforeInput = useCallback(event => {\n    if (!readOnly && hasEditableTarget(editor, event.target) && !isDOMEventHandled(event, propsOnDOMBeforeInput)) {\n      inputManager.onUserInput();\n    }\n  }, [readOnly, propsOnDOMBeforeInput]); // Attach a native DOM event handler for `beforeinput` events, because React's\n  // built-in `onBeforeInput` is actually a leaky polyfill that doesn't expose\n  // real `beforeinput` events sadly... (2019/11/04)\n\n  useIsomorphicLayoutEffect(() => {\n    var node = ref.current; // @ts-ignore The `beforeinput` event isn't recognized.\n\n    node === null || node === void 0 ? void 0 : node.addEventListener('beforeinput', onDOMBeforeInput); // @ts-ignore The `beforeinput` event isn't recognized.\n\n    return () => node === null || node === void 0 ? void 0 : node.removeEventListener('beforeinput', onDOMBeforeInput);\n  }, [contentKey, propsOnDOMBeforeInput]); // Listen on the native `selectionchange` event to be able to update any time\n  // the selection changes. This is required because React's `onSelect` is leaky\n  // and non-standard so it doesn't fire until after a selection has been\n  // released. This causes issues in situations where another change happens\n  // while a selection is being dragged.\n\n  var onDOMSelectionChange = useCallback(throttle(() => {\n    try {\n      if (!readOnly && !state.isUpdatingSelection && !inputManager.isReconciling.current) {\n        var root = ReactEditor.findDocumentOrShadowRoot(editor);\n        var {\n          activeElement\n        } = root;\n        var el = ReactEditor.toDOMNode(editor, editor);\n        var domSelection = root.getSelection();\n\n        if (activeElement === el) {\n          state.latestElement = activeElement;\n          IS_FOCUSED.set(editor, true);\n        } else {\n          IS_FOCUSED.delete(editor);\n        }\n\n        if (!domSelection) {\n          return Transforms.deselect(editor);\n        }\n\n        var {\n          anchorNode,\n          focusNode\n        } = domSelection;\n        var anchorNodeSelectable = hasEditableTarget(editor, anchorNode) || isTargetInsideVoid(editor, anchorNode);\n        var focusNodeSelectable = hasEditableTarget(editor, focusNode) || isTargetInsideVoid(editor, focusNode);\n\n        if (anchorNodeSelectable && focusNodeSelectable) {\n          var range = ReactEditor.toSlateRange(editor, domSelection, {\n            exactMatch: false\n          });\n          Transforms.select(editor, range);\n        } else {\n          Transforms.deselect(editor);\n        }\n      }\n    } catch (_unused2) {// Failed to update selection, likely due to reconciliation error\n    }\n  }, 100), [readOnly]); // Attach a native DOM event handler for `selectionchange`, because React's\n  // built-in `onSelect` handler doesn't fire for all selection changes. It's a\n  // leaky polyfill that only fires on keypresses or clicks. Instead, we want to\n  // fire for any change to the selection inside the editor. (2019/11/04)\n  // https://github.com/facebook/react/issues/5785\n\n  useIsomorphicLayoutEffect(() => {\n    var window = ReactEditor.getWindow(editor);\n    window.document.addEventListener('selectionchange', onDOMSelectionChange);\n    return () => {\n      window.document.removeEventListener('selectionchange', onDOMSelectionChange);\n    };\n  });\n  var decorations = decorate([editor, []]);\n\n  if (placeholder && editor.children.length === 1 && Array.from(Node.texts(editor)).length === 1 && Node.string(editor) === '') {\n    var start = Editor.start(editor, []);\n    decorations.push({\n      [PLACEHOLDER_SYMBOL]: true,\n      placeholder,\n      anchor: start,\n      focus: start\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(ReadOnlyContext.Provider, {\n    value: readOnly\n  }, /*#__PURE__*/React.createElement(DecorateContext.Provider, {\n    value: decorate\n  }, /*#__PURE__*/React.createElement(Component, Object.assign({\n    key: contentKey,\n    role: readOnly ? undefined : 'textbox'\n  }, attributes, {\n    spellCheck: attributes.spellCheck,\n    autoCorrect: attributes.autoCorrect,\n    autoCapitalize: attributes.autoCapitalize,\n    \"data-slate-editor\": true,\n    \"data-slate-node\": \"value\",\n    contentEditable: readOnly ? undefined : true,\n    suppressContentEditableWarning: true,\n    ref: ref,\n    style: _objectSpread({\n      // Allow positioning relative to the editable element.\n      position: 'relative',\n      // Prevent the default outline styles.\n      outline: 'none',\n      // Preserve adjacent whitespace and new lines.\n      whiteSpace: 'pre-wrap',\n      // Allow words to break if they are too long.\n      wordWrap: 'break-word'\n    }, style),\n    onCopy: useCallback(event => {\n      if (hasEditableTarget(editor, event.target) && !isEventHandled(event, attributes.onCopy)) {\n        event.preventDefault();\n        ReactEditor.setFragmentData(editor, event.clipboardData);\n      }\n    }, [attributes.onCopy]),\n    onCut: useCallback(event => {\n      if (!readOnly && hasEditableTarget(editor, event.target) && !isEventHandled(event, attributes.onCut)) {\n        event.preventDefault();\n        ReactEditor.setFragmentData(editor, event.clipboardData);\n        var {\n          selection\n        } = editor;\n\n        if (selection) {\n          if (Range.isExpanded(selection)) {\n            Editor.deleteFragment(editor);\n          } else {\n            var node = Node.parent(editor, selection.anchor.path);\n\n            if (Editor.isVoid(editor, node)) {\n              Transforms.delete(editor);\n            }\n          }\n        }\n      }\n    }, [readOnly, attributes.onCut]),\n    onFocus: useCallback(event => {\n      if (!readOnly && !state.isUpdatingSelection && hasEditableTarget(editor, event.target) && !isEventHandled(event, attributes.onFocus)) {\n        var root = ReactEditor.findDocumentOrShadowRoot(editor);\n        state.latestElement = root.activeElement;\n        IS_FOCUSED.set(editor, true);\n      }\n    }, [readOnly, attributes.onFocus]),\n    onBlur: useCallback(event => {\n      if (readOnly || state.isUpdatingSelection || !hasEditableTarget(editor, event.target) || isEventHandled(event, attributes.onBlur)) {\n        return;\n      } // COMPAT: If the current `activeElement` is still the previous\n      // one, this is due to the window being blurred when the tab\n      // itself becomes unfocused, so we want to abort early to allow to\n      // editor to stay focused when the tab becomes focused again.\n\n\n      var root = ReactEditor.findDocumentOrShadowRoot(editor);\n\n      if (state.latestElement === root.activeElement) {\n        return;\n      }\n\n      var {\n        relatedTarget\n      } = event;\n      var el = ReactEditor.toDOMNode(editor, editor); // COMPAT: The event should be ignored if the focus is returning\n      // to the editor from an embedded editable element (eg. an <input>\n      // element inside a void node).\n\n      if (relatedTarget === el) {\n        return;\n      } // COMPAT: The event should be ignored if the focus is moving from\n      // the editor to inside a void node's spacer element.\n\n\n      if (isDOMElement(relatedTarget) && relatedTarget.hasAttribute('data-slate-spacer')) {\n        return;\n      } // COMPAT: The event should be ignored if the focus is moving to a\n      // non- editable section of an element that isn't a void node (eg.\n      // a list item of the check list example).\n\n\n      if (relatedTarget != null && isDOMNode(relatedTarget) && ReactEditor.hasDOMNode(editor, relatedTarget)) {\n        var node = ReactEditor.toSlateNode(editor, relatedTarget);\n\n        if (Element$1.isElement(node) && !editor.isVoid(node)) {\n          return;\n        }\n      }\n\n      IS_FOCUSED.delete(editor);\n    }, [readOnly, attributes.onBlur]),\n    onPaste: useCallback(event => {\n      // this will make application/x-slate-fragment exist when onPaste attributes is passed\n      event.clipboardData = getClipboardData(event.clipboardData); // This unfortunately needs to be handled with paste events instead.\n\n      if (hasEditableTarget(editor, event.target) && !isEventHandled(event, attributes.onPaste) && !readOnly) {\n        event.preventDefault();\n        ReactEditor.insertData(editor, event.clipboardData);\n      }\n    }, [readOnly, attributes.onPaste])\n  }), useChildren({\n    decorations,\n    node: editor,\n    renderElement,\n    renderPlaceholder,\n    renderLeaf,\n    selection: editor.selection\n  }))));\n};\n\n/**\r\n * A React context for sharing the `focused` state of the editor.\r\n */\n\nvar FocusedContext = /*#__PURE__*/createContext(false);\n/**\r\n * Get the current `focused` state of the editor.\r\n */\n\nvar useFocused = () => {\n  return useContext(FocusedContext);\n};\n\nvar _excluded = [\"editor\", \"children\", \"onChange\", \"value\"];\n/**\r\n * A wrapper around the provider to handle `onChange` events, because the editor\r\n * is a mutable singleton so it won't ever register as \"changed\" otherwise.\r\n */\n\nvar Slate = props => {\n  var {\n    editor,\n    children,\n    onChange,\n    value\n  } = props,\n      rest = _objectWithoutProperties(props, _excluded);\n\n  var [key, setKey] = useState(0);\n  var context = useMemo(() => {\n    if (!Node.isNodeList(value)) {\n      throw new Error(\"[Slate] value is invalid! Expected a list of elements\" + \"but got: \".concat(JSON.stringify(value)));\n    }\n\n    if (!Editor.isEditor(editor)) {\n      throw new Error(\"[Slate] editor is invalid! you passed:\" + \"\".concat(JSON.stringify(editor)));\n    }\n\n    editor.children = value;\n    Object.assign(editor, rest);\n    return [editor];\n  }, [key, value, ...Object.values(rest)]);\n  var onContextChange = useCallback(() => {\n    onChange(editor.children);\n    setKey(key + 1);\n  }, [key, onChange]);\n  EDITOR_TO_ON_CHANGE.set(editor, onContextChange);\n  useEffect(() => {\n    return () => {\n      EDITOR_TO_ON_CHANGE.set(editor, () => {});\n    };\n  }, []);\n  var [isFocused, setIsFocused] = useState(ReactEditor.isFocused(editor));\n  useEffect(() => {\n    setIsFocused(ReactEditor.isFocused(editor));\n  });\n  useIsomorphicLayoutEffect(() => {\n    var fn = () => setIsFocused(ReactEditor.isFocused(editor));\n\n    document.addEventListener('focus', fn, true);\n    return () => document.removeEventListener('focus', fn, true);\n  }, []);\n  useIsomorphicLayoutEffect(() => {\n    var fn = () => setIsFocused(ReactEditor.isFocused(editor));\n\n    document.addEventListener('blur', fn, true);\n    return () => document.removeEventListener('blur', fn, true);\n  }, []);\n  return /*#__PURE__*/React.createElement(SlateContext.Provider, {\n    value: context\n  }, /*#__PURE__*/React.createElement(EditorContext.Provider, {\n    value: editor\n  }, /*#__PURE__*/React.createElement(FocusedContext.Provider, {\n    value: isFocused\n  }, children)));\n};\n\n/**\r\n * Get the current editor object from the React context.\r\n * @deprecated Use useSlateStatic instead.\r\n */\n\nvar useEditor = () => {\n  var editor = useContext(EditorContext);\n\n  if (!editor) {\n    throw new Error(\"The `useEditor` hook must be used inside the <Slate> component's context.\");\n  }\n\n  return editor;\n};\n\n/**\r\n * Utilities for single-line deletion\r\n */\n\nvar doRectsIntersect = (rect, compareRect) => {\n  var middle = (compareRect.top + compareRect.bottom) / 2;\n  return rect.top <= middle && rect.bottom >= middle;\n};\n\nvar areRangesSameLine = (editor, range1, range2) => {\n  var rect1 = ReactEditor.toDOMRange(editor, range1).getBoundingClientRect();\n  var rect2 = ReactEditor.toDOMRange(editor, range2).getBoundingClientRect();\n  return doRectsIntersect(rect1, rect2) && doRectsIntersect(rect2, rect1);\n};\n/**\r\n * A helper utility that returns the end portion of a `Range`\r\n * which is located on a single line.\r\n *\r\n * @param {Editor} editor The editor object to compare against\r\n * @param {Range} parentRange The parent range to compare against\r\n * @returns {Range} A valid portion of the parentRange which is one a single line\r\n */\n\n\nvar findCurrentLineRange = (editor, parentRange) => {\n  var parentRangeBoundary = Editor.range(editor, Range.end(parentRange));\n  var positions = Array.from(Editor.positions(editor, {\n    at: parentRange\n  }));\n  var left = 0;\n  var right = positions.length;\n  var middle = Math.floor(right / 2);\n\n  if (areRangesSameLine(editor, Editor.range(editor, positions[left]), parentRangeBoundary)) {\n    return Editor.range(editor, positions[left], parentRangeBoundary);\n  }\n\n  if (positions.length < 2) {\n    return Editor.range(editor, positions[positions.length - 1], parentRangeBoundary);\n  }\n\n  while (middle !== positions.length && middle !== left) {\n    if (areRangesSameLine(editor, Editor.range(editor, positions[middle]), parentRangeBoundary)) {\n      right = middle;\n    } else {\n      left = middle;\n    }\n\n    middle = Math.floor((left + right) / 2);\n  }\n\n  return Editor.range(editor, positions[right], parentRangeBoundary);\n};\n\n/**\r\n * `withReact` adds React and DOM specific behaviors to the editor.\r\n *\r\n * If you are using TypeScript, you must extend Slate's CustomTypes to use\r\n * this plugin.\r\n *\r\n * See https://docs.slatejs.org/concepts/11-typescript to learn how.\r\n */\n\nvar withReact = editor => {\n  var e = editor;\n  var {\n    apply,\n    onChange,\n    deleteBackward\n  } = e; // The WeakMap which maps a key to a specific HTMLElement must be scoped to the editor instance to\n  // avoid collisions between editors in the DOM that share the same value.\n\n  EDITOR_TO_KEY_TO_ELEMENT.set(e, new WeakMap());\n\n  e.deleteBackward = unit => {\n    if (unit !== 'line') {\n      return deleteBackward(unit);\n    }\n\n    if (editor.selection && Range.isCollapsed(editor.selection)) {\n      var parentBlockEntry = Editor.above(editor, {\n        match: n => Editor.isBlock(editor, n),\n        at: editor.selection\n      });\n\n      if (parentBlockEntry) {\n        var [, parentBlockPath] = parentBlockEntry;\n        var parentElementRange = Editor.range(editor, parentBlockPath, editor.selection.anchor);\n        var currentLineRange = findCurrentLineRange(e, parentElementRange);\n\n        if (!Range.isCollapsed(currentLineRange)) {\n          Transforms.delete(editor, {\n            at: currentLineRange\n          });\n        }\n      }\n    }\n  };\n\n  e.apply = op => {\n    // if we're NOT an insert_text and there's a queue\n    // of native events, bail out and flush the queue.\n    // otherwise transforms as part of this cycle will\n    // be incorrect.\n    //\n    // This is needed as overriden operations (e.g. `insertText`)\n    // can call additional transforms, which will need accurate\n    // content, and will be called _before_ `onInput` is fired.\n    if (op.type !== 'insert_text') {\n      AS_NATIVE.set(editor, false);\n      flushNativeEvents(editor);\n    } // If we're in native mode, queue the operation\n    // and it will be applied later.\n\n\n    if (AS_NATIVE.get(editor)) {\n      var nativeOps = NATIVE_OPERATIONS.get(editor);\n\n      if (nativeOps) {\n        nativeOps.push(op);\n      } else {\n        NATIVE_OPERATIONS.set(editor, [op]);\n      }\n\n      return;\n    }\n\n    var matches = [];\n\n    switch (op.type) {\n      case 'insert_text':\n      case 'remove_text':\n      case 'set_node':\n        {\n          for (var [node, path] of Editor.levels(e, {\n            at: op.path\n          })) {\n            var key = ReactEditor.findKey(e, node);\n            matches.push([path, key]);\n          }\n\n          break;\n        }\n\n      case 'insert_node':\n      case 'remove_node':\n      case 'merge_node':\n      case 'split_node':\n        {\n          for (var [_node, _path] of Editor.levels(e, {\n            at: Path.parent(op.path)\n          })) {\n            var _key = ReactEditor.findKey(e, _node);\n\n            matches.push([_path, _key]);\n          }\n\n          break;\n        }\n\n      case 'move_node':\n        {\n          for (var [_node2, _path2] of Editor.levels(e, {\n            at: Path.common(Path.parent(op.path), Path.parent(op.newPath))\n          })) {\n            var _key2 = ReactEditor.findKey(e, _node2);\n\n            matches.push([_path2, _key2]);\n          }\n\n          break;\n        }\n    }\n\n    apply(op);\n\n    for (var [_path3, _key3] of matches) {\n      var [_node3] = Editor.node(e, _path3);\n      NODE_TO_KEY.set(_node3, _key3);\n    }\n  };\n\n  e.setFragmentData = data => {\n    var {\n      selection\n    } = e;\n\n    if (!selection) {\n      return;\n    }\n\n    var [start, end] = Range.edges(selection);\n    var startVoid = Editor.void(e, {\n      at: start.path\n    });\n    var endVoid = Editor.void(e, {\n      at: end.path\n    });\n\n    if (Range.isCollapsed(selection) && !startVoid) {\n      return;\n    } // Create a fake selection so that we can add a Base64-encoded copy of the\n    // fragment to the HTML, to decode on future pastes.\n\n\n    var domRange = ReactEditor.toDOMRange(e, selection);\n    var contents = domRange.cloneContents();\n    var attach = contents.childNodes[0]; // Make sure attach is non-empty, since empty nodes will not get copied.\n\n    contents.childNodes.forEach(node => {\n      if (node.textContent && node.textContent.trim() !== '') {\n        attach = node;\n      }\n    }); // COMPAT: If the end node is a void node, we need to move the end of the\n    // range from the void node's spacer span, to the end of the void node's\n    // content, since the spacer is before void's content in the DOM.\n\n    if (endVoid) {\n      var [voidNode] = endVoid;\n      var r = domRange.cloneRange();\n      var domNode = ReactEditor.toDOMNode(e, voidNode);\n      r.setEndAfter(domNode);\n      contents = r.cloneContents();\n    } // COMPAT: If the start node is a void node, we need to attach the encoded\n    // fragment to the void node's content node instead of the spacer, because\n    // attaching it to empty `<div>/<span>` nodes will end up having it erased by\n    // most browsers. (2018/04/27)\n\n\n    if (startVoid) {\n      attach = contents.querySelector('[data-slate-spacer]');\n    } // Remove any zero-width space spans from the cloned DOM so that they don't\n    // show up elsewhere when pasted.\n\n\n    Array.from(contents.querySelectorAll('[data-slate-zero-width]')).forEach(zw => {\n      var isNewline = zw.getAttribute('data-slate-zero-width') === 'n';\n      zw.textContent = isNewline ? '\\n' : '';\n    }); // Set a `data-slate-fragment` attribute on a non-empty node, so it shows up\n    // in the HTML, and can be used for intra-Slate pasting. If it's a text\n    // node, wrap it in a `<span>` so we have something to set an attribute on.\n\n    if (isDOMText(attach)) {\n      var span = document.createElement('span'); // COMPAT: In Chrome and Safari, if we don't add the `white-space` style\n      // then leading and trailing spaces will be ignored. (2017/09/21)\n\n      span.style.whiteSpace = 'pre';\n      span.appendChild(attach);\n      contents.appendChild(span);\n      attach = span;\n    }\n\n    var fragment = e.getFragment();\n    var string = JSON.stringify(fragment);\n    var encoded = window.btoa(encodeURIComponent(string));\n    attach.setAttribute('data-slate-fragment', encoded);\n    data.setData('application/x-slate-fragment', encoded); // Add the content to a <div> so that we can get its inner HTML.\n\n    var div = document.createElement('div');\n    div.appendChild(contents);\n    div.setAttribute('hidden', 'true');\n    document.body.appendChild(div);\n    data.setData('text/html', div.innerHTML);\n    data.setData('text/plain', getPlainText(div));\n    document.body.removeChild(div);\n    return data;\n  };\n\n  e.insertData = data => {\n    /**\r\n     * Checking copied fragment from application/x-slate-fragment or data-slate-fragment\r\n     */\n    var fragment = data.getData('application/x-slate-fragment') || getSlateFragmentAttribute(data);\n\n    if (fragment) {\n      var decoded = decodeURIComponent(window.atob(fragment));\n      var parsed = JSON.parse(decoded);\n      e.insertFragment(parsed);\n      return;\n    }\n\n    var text = data.getData('text/plain');\n\n    if (text) {\n      var lines = text.split(/\\r\\n|\\r|\\n/);\n      var split = false;\n\n      for (var line of lines) {\n        if (split) {\n          Transforms.splitNodes(e, {\n            always: true\n          });\n        }\n\n        e.insertText(line);\n        split = true;\n      }\n    }\n  };\n\n  e.onChange = () => {\n    // COMPAT: React doesn't batch `setState` hook calls, which means that the\n    // children and selection can get out of sync for one render pass. So we\n    // have to use this unstable API to ensure it batches them. (2019/12/03)\n    // https://github.com/facebook/react/issues/14259#issuecomment-439702367\n    ReactDOM.unstable_batchedUpdates(() => {\n      var onContextChange = EDITOR_TO_ON_CHANGE.get(e);\n\n      if (onContextChange) {\n        onContextChange();\n      }\n\n      onChange();\n    });\n  };\n\n  return e;\n};\n\n// Components\nvar Editable = IS_ANDROID ? AndroidEditable : Editable$1;\n\nexport { AndroidEditable, Editable$1 as DefaultEditable, DefaultElement, DefaultLeaf, DefaultPlaceholder, Editable, ReactEditor, Slate, useEditor, useFocused, useReadOnly, useSelected, useSlate, useSlateStatic, withReact };\n//# sourceMappingURL=index.es.js.map\n","import { isPlainObject } from 'is-plain-object';\nimport { Operation, Editor, Path } from 'slate';\n\nvar History = {\n  /**\r\n   * Check if a value is a `History` object.\r\n   */\n  isHistory(value) {\n    return isPlainObject(value) && Array.isArray(value.redos) && Array.isArray(value.undos) && (value.redos.length === 0 || Operation.isOperationList(value.redos[0])) && (value.undos.length === 0 || Operation.isOperationList(value.undos[0]));\n  }\n\n};\n\n/**\r\n * Weakmaps for attaching state to the editor.\r\n */\n\nvar HISTORY = new WeakMap();\nvar SAVING = new WeakMap();\nvar MERGING = new WeakMap();\nvar HistoryEditor = {\n  /**\r\n   * Check if a value is a `HistoryEditor` object.\r\n   */\n  isHistoryEditor(value) {\n    return History.isHistory(value.history) && Editor.isEditor(value);\n  },\n\n  /**\r\n   * Get the merge flag's current value.\r\n   */\n  isMerging(editor) {\n    return MERGING.get(editor);\n  },\n\n  /**\r\n   * Get the saving flag's current value.\r\n   */\n  isSaving(editor) {\n    return SAVING.get(editor);\n  },\n\n  /**\r\n   * Redo to the previous saved state.\r\n   */\n  redo(editor) {\n    editor.redo();\n  },\n\n  /**\r\n   * Undo to the previous saved state.\r\n   */\n  undo(editor) {\n    editor.undo();\n  },\n\n  /**\r\n   * Apply a series of changes inside a synchronous `fn`, without merging any of\r\n   * the new operations into previous save point in the history.\r\n   */\n  withoutMerging(editor, fn) {\n    var prev = HistoryEditor.isMerging(editor);\n    MERGING.set(editor, false);\n    fn();\n    MERGING.set(editor, prev);\n  },\n\n  /**\r\n   * Apply a series of changes inside a synchronous `fn`, without saving any of\r\n   * their operations into the history.\r\n   */\n  withoutSaving(editor, fn) {\n    var prev = HistoryEditor.isSaving(editor);\n    SAVING.set(editor, false);\n    fn();\n    SAVING.set(editor, prev);\n  }\n\n};\n\n/**\r\n * The `withHistory` plugin keeps track of the operation history of a Slate\r\n * editor as operations are applied to it, using undo and redo stacks.\r\n *\r\n * If you are using TypeScript, you must extend Slate's CustomTypes to use\r\n * this plugin.\r\n *\r\n * See https://docs.slatejs.org/concepts/11-typescript to learn how.\r\n */\n\nvar withHistory = editor => {\n  var e = editor;\n  var {\n    apply\n  } = e;\n  e.history = {\n    undos: [],\n    redos: []\n  };\n\n  e.redo = () => {\n    var {\n      history\n    } = e;\n    var {\n      redos\n    } = history;\n\n    if (redos.length > 0) {\n      var batch = redos[redos.length - 1];\n      HistoryEditor.withoutSaving(e, () => {\n        Editor.withoutNormalizing(e, () => {\n          for (var op of batch) {\n            e.apply(op);\n          }\n        });\n      });\n      history.redos.pop();\n      history.undos.push(batch);\n    }\n  };\n\n  e.undo = () => {\n    var {\n      history\n    } = e;\n    var {\n      undos\n    } = history;\n\n    if (undos.length > 0) {\n      var batch = undos[undos.length - 1];\n      HistoryEditor.withoutSaving(e, () => {\n        Editor.withoutNormalizing(e, () => {\n          var inverseOps = batch.map(Operation.inverse).reverse();\n\n          for (var op of inverseOps) {\n            e.apply(op);\n          }\n        });\n      });\n      history.redos.push(batch);\n      history.undos.pop();\n    }\n  };\n\n  e.apply = op => {\n    var {\n      operations,\n      history\n    } = e;\n    var {\n      undos\n    } = history;\n    var lastBatch = undos[undos.length - 1];\n    var lastOp = lastBatch && lastBatch[lastBatch.length - 1];\n    var overwrite = shouldOverwrite(op, lastOp);\n    var save = HistoryEditor.isSaving(e);\n    var merge = HistoryEditor.isMerging(e);\n\n    if (save == null) {\n      save = shouldSave(op);\n    }\n\n    if (save) {\n      if (merge == null) {\n        if (lastBatch == null) {\n          merge = false;\n        } else if (operations.length !== 0) {\n          merge = true;\n        } else {\n          merge = shouldMerge(op, lastOp) || overwrite;\n        }\n      }\n\n      if (lastBatch && merge) {\n        if (overwrite) {\n          lastBatch.pop();\n        }\n\n        lastBatch.push(op);\n      } else {\n        var batch = [op];\n        undos.push(batch);\n      }\n\n      while (undos.length > 100) {\n        undos.shift();\n      }\n\n      if (shouldClear(op)) {\n        history.redos = [];\n      }\n    }\n\n    apply(op);\n  };\n\n  return e;\n};\n/**\r\n * Check whether to merge an operation into the previous operation.\r\n */\n\nvar shouldMerge = (op, prev) => {\n  if (op.type === 'set_selection') {\n    return true;\n  }\n\n  if (prev && op.type === 'insert_text' && prev.type === 'insert_text' && op.offset === prev.offset + prev.text.length && Path.equals(op.path, prev.path)) {\n    return true;\n  }\n\n  if (prev && op.type === 'remove_text' && prev.type === 'remove_text' && op.offset + op.text.length === prev.offset && Path.equals(op.path, prev.path)) {\n    return true;\n  }\n\n  return false;\n};\n/**\r\n * Check whether an operation needs to be saved to the history.\r\n */\n\n\nvar shouldSave = (op, prev) => {\n  if (op.type === 'set_selection' && (op.properties == null || op.newProperties == null)) {\n    return false;\n  }\n\n  return true;\n};\n/**\r\n * Check whether an operation should overwrite the previous one.\r\n */\n\n\nvar shouldOverwrite = (op, prev) => {\n  if (prev && op.type === 'set_selection' && prev.type === 'set_selection') {\n    return true;\n  }\n\n  return false;\n};\n/**\r\n * Check whether an operation should clear the redos stack.\r\n */\n\n\nvar shouldClear = op => {\n  if (op.type === 'set_selection') {\n    return false;\n  }\n\n  return true;\n};\n\nexport { HISTORY, History, HistoryEditor, MERGING, SAVING, withHistory };\n//# sourceMappingURL=index.es.js.map\n","// 通过order转数字\nconst getLetterByOrder = order => {\n  const result = []\n  while (order) {\n    var t = order % 26;\n    if (!t) {\n      t = 26;\n      --order;\n    }\n    result.push(String.fromCodePoint(t + 64));\n    order = ~~(order / 26);\n  }\n  return result.reverse().join('');\n};\n\nconst orderUse = (offset, order) => {\n  const type = offset % 3;\n  if (type === 0) {\n    return order;\n  } else if (type === 1) {\n    return getLetterByOrder(order);\n  } else {\n    return getLetterByOrder(order).toLowerCase();\n  }\n};\n\nconst uListUse = offset => {\n  const type = offset % 4;\n  if (type === 0) {\n    return '•';\n  } else if (type === 1) {\n    return '◦';\n  } else if (type === 2) {\n    return '▪';\n  } else {\n    return '▫';\n  }\n};\n\nexport { orderUse, uListUse };\n","import { Transforms, Range, Editor, Element as SlateElement } from 'slate';\nimport { ReactEditor } from 'slate-react';\n\n\nconst setNodeTag = (editor, element, key, value, at = null) => {\n    if (at) {\n        Transforms.setNodes(editor, { [key]: value }, { at: at });\n    } else if (!element) {\n        // 如果没有传入对象，则操作当前行\n        Transforms.setNodes(editor, { [key]: value });\n    } else {\n        const checkedAt = ReactEditor.findPath(editor, element);\n        Transforms.setNodes(editor, { [key]: value }, { at: checkedAt });\n    }\n}\n\nconst setChecked = (editor, element, checked) => {\n    setNodeTag(editor, element, 'checked', checked);\n}\n\nconst setTitle = (editor, element, title) => {\n    setNodeTag(editor, element, 'title', title);\n}\n\nconst setTextAlign = (editor, element, textAlign) => {\n    setNodeTag(editor, element, 'textAlign', textAlign);\n}\n\nconst setQuote = (editor, element, quote) => {\n    setNodeTag(editor, element, 'quote', quote);\n}\n\n// 设置有序列表的前边顺序符\nconst setListOrder = (editor, element, listOrder, path = null) => {\n    setNodeTag(editor, element, 'listOrder', listOrder, path);\n\n    // 向下查找，把下边连接的相同区域的有序列表序号都重置\n    if (!!path) {\n        setNextListOrder(editor, element, path, listOrder + 1);\n    } else if (!!element) {\n        const path = ReactEditor.findPath(editor, element);\n        setNextListOrder(editor, element, path, listOrder + 1);\n    } else {\n        const { selection } = editor;\n        // 如果不是光标点，不操作\n        if (!selection || !Range.isCollapsed(selection)) {\n            return;\n        }\n        // 获取当前对象\n        const block = Editor.above(editor, {\n            match: n => Editor.isBlock(editor, n),\n        });\n        if (!block) {\n            return;\n        }\n        const [el, path] = block;\n        setNextListOrder(editor, el, path, listOrder + 1);\n    }\n};\n\nconst setNextListOrder = (editor, element, path, listOrder) => {\n    // 这个函数在insertBreak的时候有bug，path是准的，但是内容不准\n    const nextBlock = Editor.next(editor, { at: path });\n\n    if (!nextBlock) {\n        return;\n    }\n\n    const [el, nextPath] = nextBlock;\n    // 如果下一个不是有序列表，不做操作\n    if (!!el.type && el.type != 'paragraph') {\n        return;\n    }\n    if (!el.list || el.list != 'ol') {\n        return;\n    }\n\n    const nowOffset = element.indentation || 0;\n    const nextOffset = el.indentation || 0;\n\n    // 如果缩进不一致，不做操作\n    if (nowOffset != nextOffset) {\n        return;\n    }\n\n    setListOrder(editor, el, listOrder, nextPath);\n};\n\nconst setList = (editor, element, list) => {\n    // 如果是去除list效果，则所有附加属性全部清空\n    if (!list) {\n        setNodeTag(editor, element, 'list', null);\n        setNodeTag(editor, element, 'checked', null);\n        setNodeTag(editor, element, 'listOrder', null);\n    } else {\n        setNodeTag(editor, element, 'list', list);\n        if (list != 'checkbox') {\n            setNodeTag(editor, element, 'checked', null);\n        }\n        if (list != 'ol') {\n            setNodeTag(editor, element, 'listOrder', null);\n        }\n    }\n};\n\nconst setIndentation = (editor, element, indentation, at = null) => {\n    if (!indentation || indentation <= 0) {\n        setNodeTag(editor, element, 'indentation', null, at);\n    } else {\n        setNodeTag(editor, element, 'indentation', indentation, at);\n    }\n}\n\nconst wrapLink = (editor) => {\n    const { selection } = editor\n    if (!selection) {\n        return\n    }\n\n    const isCollapsed = Range.isCollapsed(selection)\n    if (isCollapsed) {\n        return\n    }\n\n    const link = {\n        type: 'link',\n        url: 'http://',\n        target: '_self',\n        children: [],\n    }\n\n    Transforms.wrapNodes(editor, link, { split: true })\n}\n\nconst unWrapLink = (editor, element = null) => {\n    if (element) {\n        const at = ReactEditor.findPath(editor, element);\n        Transforms.unwrapNodes(editor, {\n            match: n =>\n                !Editor.isEditor(n) && SlateElement.isElement(n) && n.type === 'link',\n            at\n        })\n    } else {\n        Transforms.unwrapNodes(editor, {\n            match: n =>\n                !Editor.isEditor(n) && SlateElement.isElement(n) && n.type === 'link',\n\n        })\n    }\n}\n\nconst setURL = (editor, element, url) => {\n    if (element.type && element.type === 'link') {\n        setNodeTag(editor, element, 'url', url);\n    }\n}\n\nconst setLinkTarget = (editor, element, target) => {\n    if (element.type && element.type === 'link') {\n        setNodeTag(editor, element, 'target', target);\n    }\n}\n\nconst setStarNum = (editor, element, number) => {\n    setNodeTag(editor, element, 'number', number);\n}\n\nconst insertStar = (editor) => {\n    const star = {\n        type: 'star',\n        number: 5,\n        children: [{ text: '' }],\n    }\n    Transforms.insertNodes(editor, star)\n}\n\nexport {\n    setChecked,\n    setTitle,\n    setTextAlign,\n    setQuote,\n    setList,\n    setListOrder,\n    setIndentation,\n    wrapLink,\n    unWrapLink,\n    setURL,\n    setLinkTarget,\n    insertStar,\n    setStarNum,\n}","\n/**\n * Expose `isUrl`.\n */\n\nmodule.exports = isUrl;\n\n/**\n * RegExps.\n * A URL must match #1 and then at least one of #2/#3.\n * Use two levels of REs to avoid REDOS.\n */\n\nvar protocolAndDomainRE = /^(?:\\w+:)?\\/\\/(\\S+)$/;\n\nvar localhostDomainRE = /^localhost[\\:?\\d]*(?:[^\\:?\\d]\\S*)?$/\nvar nonLocalhostDomainRE = /^[^\\s\\.]+\\.\\S{2,}$/;\n\n/**\n * Loosely validate a URL `string`.\n *\n * @param {String} string\n * @return {Boolean}\n */\n\nfunction isUrl(string){\n  if (typeof string !== 'string') {\n    return false;\n  }\n\n  var match = string.match(protocolAndDomainRE);\n  if (!match) {\n    return false;\n  }\n\n  var everythingAfterProtocol = match[1];\n  if (!everythingAfterProtocol) {\n    return false;\n  }\n\n  if (localhostDomainRE.test(everythingAfterProtocol) ||\n      nonLocalhostDomainRE.test(everythingAfterProtocol)) {\n    return true;\n  }\n\n  return false;\n}\n","import React from 'react';\nimport { Button, Tooltip } from 'antd';\n\nconst Single = props => {\n    const { selected, description, content, onClick } = props\n\n    const onMouseDown = (event) => {\n        event.preventDefault();\n\n        onClick()\n    }\n\n    return (\n        <Tooltip title={description}>\n            <Button\n                size=\"small\"\n                type={selected ? 'primary' : 'default'}\n                onMouseDown={event => onMouseDown(event)}\n                style={{ marginLeft: '2px', marginRight: '2px' }}\n            >\n                {content}\n            </Button>\n        </Tooltip>\n    )\n}\n\nexport default Single","import React from 'react';\nimport { Button, Tooltip } from 'antd';\n\n// 单选组件，selected表示选中的按钮，notNull代表不能有空选择\nconst Select = props => {\n  const { selected, notNull, onChange, buttons } = props;\n\n  const onMouseDown = (event, key) => {\n    event.preventDefault();\n\n    if (notNull) {\n      // 如果必填，点击按钮和当前一致，则不做操作\n      if (isKeySelected(key)) {\n        return;\n      } else {\n        onChange(key);\n      }\n    } else {\n      // 如果非必填，点击选中的等于取消\n      if (isKeySelected(key)) {\n        onChange(null);\n      } else {\n        onChange(key);\n      }\n    }\n  };\n\n  const isKeySelected = key => {\n    return selected && selected == key;\n  };\n\n  const buttonArray = [];\n  for (let i = 0; i < buttons.length; i++) {\n    buttonArray.push(\n      <Tooltip key={buttons[i].key} title={buttons[i].description}>\n        <Button\n          size=\"small\"\n          type={isKeySelected(buttons[i].key) ? 'primary' : 'default'}\n          onMouseDown={event => onMouseDown(event, buttons[i].key)}\n          style={{ marginLeft: '2px', marginRight: '2px' }}\n        >\n          {buttons[i].content}\n        </Button>\n      </Tooltip>\n    );\n  }\n\n  return <span>{buttonArray}</span>;\n}\n\nexport default Select\n","import React, { useState } from 'react'\nimport {\n  CheckSquareOutlined,\n  BorderOutlined,\n  DeleteOutlined,\n} from '@ant-design/icons'\nimport { useFocused, useSelected, useSlate } from 'slate-react'\nimport { orderUse, uListUse } from './utils/list'\nimport {\n  setChecked,\n  setURL,\n  setLinkTarget,\n  unWrapLink,\n  setStarNum,\n} from './utils/node'\nimport { Tooltip, Input, message, Rate } from 'antd'\nimport isUrl from 'is-url'\nimport Single from '../../components/button/single'\nimport Select from '../../components/button/select'\n\nconst IndentationText = (props) => {\n  // children 主要文本内容\n  // icon 前置标志\n  // offset 缩进值\n  const { children, icon, offset } = props\n\n  if (!!icon) {\n    return (\n      <div style={{ display: 'flex' }}>\n        <div\n          contentEditable={false}\n          style={{\n            marginLeft: `${offset * 20}px`,\n            minWidth: '10px',\n            textAlign: 'right',\n            marginRight: '5px',\n            userSelect: 'none',\n          }}\n        >\n          {icon}\n        </div>\n        <div style={{ flex: 1 }}>{children}</div>\n      </div>\n    )\n  } else {\n    return (\n      <div style={{ display: 'flex' }}>\n        <div\n          style={{\n            flex: 1,\n            marginLeft: `${offset * 20}px`,\n          }}\n        >\n          {children}\n        </div>\n      </div>\n    )\n  }\n}\n\n// 基础文本格式类\nconst Element = React.memo((props) => {\n  // 子组件\n  let { children } = props\n\n  // 基础配置\n  const { element, attributes } = props\n  // 文本参数\n  const { title, textAlign, list, quote } = element\n  // 文本额外参数\n  // checked(bool): checkbox是否打勾\n  // indentation(num): list的缩进配置\n  const { checked, indentation, listOrder } = element\n  // 转换缩进值，没有写的就是0\n  const offset = indentation || 0\n\n  const editor = useSlate()\n\n  // 列表类型，支持checkbox、有序无序列表\n  if (!!list) {\n    if (list === 'checkbox') {\n      // checkbox的点击事件支持\n      const Checkbox = (props) => {\n        const onMouseDown = (event) => {\n          if (editor.readOnly) {\n            return\n          }\n\n          event.preventDefault()\n\n          setChecked(editor, element, !checked)\n        }\n\n        const Box = () => {\n          return (\n            <span style={{ cursor: 'pointer' }} onMouseDown={onMouseDown}>\n              {!!checked ? <CheckSquareOutlined /> : <BorderOutlined />}\n            </span>\n          )\n        }\n\n        return (\n          <IndentationText offset={offset} icon={<Box />}>\n            {!!checked ? (\n              <s style={{ color: '#B7BAC6' }}>{props.children}</s>\n            ) : (\n              props.children\n            )}\n          </IndentationText>\n        )\n      }\n\n      children = <Checkbox>{children}</Checkbox>\n    }\n\n    if (list === 'ul') {\n      children = (\n        <IndentationText\n          offset={offset}\n          icon={<span style={{ color: '#4E61E8' }}>{uListUse(offset)}</span>}\n        >\n          {children}\n        </IndentationText>\n      )\n    }\n\n    if (list === 'ol' && !!listOrder) {\n      children = (\n        <IndentationText\n          offset={offset}\n          icon={\n            <span style={{ color: '#4E61E8' }}>\n              {orderUse(offset, listOrder)}.\n            </span>\n          }\n        >\n          {children}\n        </IndentationText>\n      )\n    }\n  }\n\n  // 如果设置了标题属性\n  if (!!title) {\n    if (title === 'h1') {\n      children = <h1 style={{ fontSize: '28px' }}>{children}</h1>\n    }\n    if (title === 'h2') {\n      children = <h2 style={{ fontSize: '26px' }}>{children}</h2>\n    }\n    if (title === 'h3') {\n      children = <h3 style={{ fontSize: '24px' }}>{children}</h3>\n    }\n    if (title === 'h4') {\n      children = <h4 style={{ fontSize: '22px' }}>{children}</h4>\n    }\n    if (title === 'h5') {\n      children = <h5 style={{ fontSize: '20px' }}>{children}</h5>\n    }\n  }\n\n  // 处理缩进，list本身已经处理过缩进，不再处理。处理其他文本的\n  if (!list) {\n    children = <IndentationText offset={offset}>{children}</IndentationText>\n  }\n\n  // 引用处理\n  if (!!quote) {\n    children = (\n      <div\n        style={{\n          padding: '0px 0 0px 10px',\n          borderLeft: '1px solid #2447F5',\n          color: '#A5A6A6',\n        }}\n      >\n        {children}\n      </div>\n    )\n  }\n\n  return (\n    <div\n      style={{ wordBreak: 'break-all', textAlign: textAlign || 'left' }}\n      {...attributes}\n    >\n      {children}\n    </div>\n  )\n})\n\nconst LinkElement = (props) => {\n  // 基础配置\n  const { element, attributes, children } = props\n\n  const { url, target } = element\n\n  const editor = useSlate()\n  const { readOnly } = editor\n\n  const LinkEditor = (props) => {\n    const [value, setValue] = useState(url)\n\n    const onChange = (v) => {\n      setValue(v.target.value)\n    }\n\n    return (\n      <>\n        <div style={{ display: 'inline-block', width: '280px' }}>\n          <Input value={value} onChange={onChange} />\n        </div>\n        &nbsp;\n        <Single\n          selected={true}\n          description='修改链接'\n          content='修改'\n          onClick={() => {\n            setURL(editor, element, value)\n            message.info('修改链接成功')\n          }}\n        />\n        <Single\n          selected={true}\n          description='清除链接'\n          content={<DeleteOutlined />}\n          onClick={() => {\n            unWrapLink(editor, element)\n          }}\n        />\n        <div style={{ marginTop: '10px' }}>\n          <font style={{ color: 'black' }}>打开方式:</font>&nbsp;\n          <Select\n            selected={target}\n            notNull={true}\n            onChange={(key) => {\n              setLinkTarget(editor, element, key)\n            }}\n            buttons={[\n              {\n                key: '_self',\n                content: '本页面',\n                description: '会在本页面跳转链接',\n              },\n              {\n                key: '_blank',\n                content: '新页面',\n                description: '会在新页面跳转链接',\n              },\n            ]}\n          />\n        </div>\n      </>\n    )\n  }\n\n  // 处理超链接\n  return readOnly ? (\n    <a\n      onMouseDown={() => {\n        if (isUrl(url)) {\n          window.open(url, target)\n        }\n      }}\n      {...attributes}\n    >\n      {children}\n    </a>\n  ) : (\n    <Tooltip\n      title={<LinkEditor />}\n      color='white'\n      overlayStyle={{ minWidth: '400px' }}\n      destroyTooltipOnHide={true}\n    >\n      <a\n        onMouseDown={() => {\n          if (isUrl(url)) {\n            window.open(url, target)\n          }\n        }}\n        {...attributes}\n      >\n        {children}\n      </a>\n    </Tooltip>\n  )\n}\n\nconst StarElement = (props) => {\n  // 基础配置\n  const { attributes, children, element } = props\n\n  const editor = useSlate()\n  const selected = useSelected()\n  const focused = useFocused()\n\n  const onChange = (number) => {\n    setStarNum(editor, element, number)\n  }\n\n  return (\n    <span {...attributes}>\n      {children}\n      <span\n        contentEditable={false}\n        style={{\n          display: 'inline-block',\n          borderRadius: '2px',\n          boxShadow: selected && focused ? '0 0 0 2px #B4D5FF' : 'none',\n        }}\n      >\n        <Rate\n          disabled={editor.readOnly}\n          allowClear={true}\n          value={element.number}\n          onChange={onChange}\n        />\n      </span>\n    </span>\n  )\n}\n\nexport { Element, LinkElement, StarElement }\n","import React from 'react';\n\nconst Leaf = ({ attributes, children, leaf }) => {\n\t// 加粗\n\tif (leaf.bold) {\n\t\tchildren = <b>{children}</b>;\n\t}\n\n\t// 斜线\n\tif (leaf.italic) {\n\t\tchildren = <i>{children}</i>;\n\t}\n\n\t// 下划线\n\tif (leaf.underline) {\n\t\tchildren = <u>{children}</u>;\n\t}\n\n\t// 处理删除线\n\tif (leaf.strikethrough) {\n\t\tchildren = <s>{children}</s>;\n\t}\n\n\t// 处理代码块\n\tif (leaf.code) {\n\t\tchildren = (\n\t\t\t<span style={{ backgroundColor: '#DCDCDC', borderRadius: '5px' }}>\n\t\t\t\t<span style={{ marginLeft: '5px', marginRight: '5px' }}>{children}</span>\n\t\t\t</span>\n\t\t);\n\t}\n\n\t// // 处理超链接\n\t// if (leaf.link) {\n\t//     children = (\n\t//         <Tooltip title={leaf.link}>\n\t//             <span\n\t//                 style={{\n\t//                     color: '#007FFF',\n\t//                     cursor: 'pointer',\n\t//                 }}\n\t//                 onMouseDown={() => {\n\t//                     window.open(leaf.link, '_blank');\n\t//                 }}\n\t//             >\n\t//                 {children}\n\t//             </span>\n\t//         </Tooltip>\n\t//     )\n\t// }\n\n\t// 处理文字颜色\n\tif (leaf.fontColor) {\n\t\tchildren = (\n\t\t\t<span\n\t\t\t\tstyle={{\n\t\t\t\t\tcolor: leaf.fontColor,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{children}\n\t\t\t</span>\n\t\t);\n\t}\n\n\t// 处理背景颜色\n\tlet backgroundColor = '';\n\tif (leaf.backgroundColor) {\n\t\tbackgroundColor = leaf.backgroundColor;\n\t}\n\n\treturn (\n\t\t<span style={{ backgroundColor: backgroundColor }} {...attributes}>\n\t\t\t{children}\n\t\t</span>\n\t);\n};\n\nexport { Leaf };\n","import { Editor, Element as SlateElement, Range } from 'slate';\n\nconst isColorActive = (editor, key, color) => {\n    const { selection } = editor\n    if (selection && Range.isCollapsed(selection)) {\n        return false\n    }\n\n    const [match] = Editor.nodes(editor, {\n        match: n => n[key] === color,\n        mode: 'all',\n    });\n    return !!match;\n};\n\nconst isFormatActive = (editor, format) => {\n    const { selection } = editor\n    if (selection && Range.isCollapsed(selection)) {\n        return false\n    }\n\n    const [match] = Editor.nodes(editor, {\n        match: n => n[format] === true,\n        mode: 'all',\n    });\n    return !!match;\n};\n\nconst isLinkActive = (editor) => {\n    const { selection } = editor\n    if (selection && Range.isCollapsed(selection)) {\n        return false\n    }\n\n    const [link] = Editor.nodes(editor, {\n        match: n =>\n            !Editor.isEditor(n) && SlateElement.isElement(n) && n.type === 'link',\n    })\n    return !!link\n}\n\nexport { isColorActive, isFormatActive, isLinkActive }","import React from 'react';\nimport { Button, Tooltip } from 'antd';\n\n// 多选组件，selected表示选中的按钮，notNull代表不能有空选择\nconst Muti = props => {\n  const { selectedKeys, onChange, buttons } = props;\n\n  const onMouseDown = (event, key) => {\n    event.preventDefault();\n\n    onChange(key);\n  };\n\n  const isKeySelected = key => {\n    for (let i = 0; i < selectedKeys.length; i++) {\n      if (selectedKeys[i] == key) {\n        return true;\n      }\n    }\n\n    return false;\n  };\n\n  const buttonArray = [];\n  for (let i = 0; i < buttons.length; i++) {\n    buttonArray.push(\n      <Tooltip key={buttons[i].key} title={buttons[i].description}>\n        <Button\n          size=\"small\"\n          type={isKeySelected(buttons[i].key) ? 'primary' : 'default'}\n          onMouseDown={event => onMouseDown(event, buttons[i].key)}\n          style={{ marginLeft: '2px', marginRight: '2px' }}\n        >\n          {buttons[i].content}\n        </Button>\n      </Tooltip>\n    )\n  }\n\n  return <span>{buttonArray}</span>\n}\n\nexport default Muti","import {\n\tLinkOutlined,\n\tBgColorsOutlined,\n\tFontColorsOutlined,\n\tBoldOutlined,\n\tUnderlineOutlined,\n\tItalicOutlined,\n\tCodeOutlined,\n\tStrikethroughOutlined,\n\tStarFilled,\n\tFormatPainterOutlined,\n} from '@ant-design/icons';\nimport { useSlate } from 'slate-react';\nimport { Editor } from 'slate';\nimport { isColorActive, isFormatActive, isLinkActive } from './utils/active';\nimport { wrapLink, unWrapLink, insertStar } from './utils/node';\nimport { message } from 'antd';\nimport Select from '../../components/button/select';\nimport Muti from '../../components/button/muti';\nimport Single from '../../components/button/single';\nimport React from 'react';\n\nconst backgroundColorList = ['#ffd666', '#ffccc7', '#95de64', '#91d5ff', '#d3adf7', '#bfbfbf'];\nconst fontColorList = ['#f5222d', '#d4b106', '#389e0d', '#096dd9', '#722ed1', '#595959'];\n\nconst normalConfig = [\n\t{\n\t\tkey: 'bold',\n\t\tdescription: '加粗',\n\t\tcontent: <BoldOutlined />,\n\t},\n\t{\n\t\tkey: 'italic',\n\t\tdescription: '斜体',\n\t\tcontent: <ItalicOutlined />,\n\t},\n\t{\n\t\tkey: 'underline',\n\t\tdescription: '下划线',\n\t\tcontent: <UnderlineOutlined />,\n\t},\n\t{\n\t\tkey: 'strikethrough',\n\t\tdescription: '删除线',\n\t\tcontent: <StrikethroughOutlined />,\n\t},\n\t{\n\t\tkey: 'code',\n\t\tdescription: '代码',\n\t\tcontent: <CodeOutlined />,\n\t},\n];\n\nconst execCoy = text => {\n\tconst input = document.createElement('TEXTAREA');\n\tinput.style.opacity = 0;\n\tinput.style.position = 'absolute';\n\tinput.style.left = '-100000px';\n\tdocument.body.appendChild(input);\n\n\tinput.value = text;\n\tinput.select();\n\tinput.setSelectionRange(0, text.length);\n\tdocument.execCommand('copy');\n\tdocument.body.removeChild(input);\n};\n\nconst LeafBar = props => {\n\tconst editor = useSlate();\n\n\tconst getActiveColor = (type, colorList) => {\n\t\tfor (var i = 0; i < colorList.length; i++) {\n\t\t\tconst color = colorList[i];\n\n\t\t\tif (isColorActive(editor, type, color)) {\n\t\t\t\treturn color;\n\t\t\t}\n\t\t}\n\n\t\treturn '';\n\t};\n\n\tconst getColorList = (type, colorList) => {\n\t\tconst buttons = [];\n\t\tfor (var i = 0; i < colorList.length; i++) {\n\t\t\tconst color = colorList[i];\n\t\t\tbuttons.push({\n\t\t\t\tkey: color,\n\t\t\t\tdescription: color,\n\t\t\t\tcontent:\n\t\t\t\t\ttype === 'backgroundColor' ? (\n\t\t\t\t\t\t<BgColorsOutlined style={{ color: color, backgroundColor: color }} />\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<FontColorsOutlined style={{ color: color }} />\n\t\t\t\t\t),\n\t\t\t});\n\t\t}\n\n\t\tconst onChange = color => {\n\t\t\t// 重置颜色\n\t\t\tEditor.addMark(editor, type, color);\n\t\t};\n\n\t\treturn (\n\t\t\t<Select\n\t\t\t\tselected={getActiveColor(type, colorList)}\n\t\t\t\tnotNull={false}\n\t\t\t\tonChange={onChange}\n\t\t\t\tbuttons={buttons}\n\t\t\t/>\n\t\t);\n\t};\n\n\tconst getFormatActiveKeys = () => {\n\t\tconst keys = [];\n\t\tfor (let i = 0; i < normalConfig.length; i++) {\n\t\t\tconst key = normalConfig[i].key;\n\t\t\tif (isFormatActive(editor, key)) {\n\t\t\t\tkeys.push(key);\n\t\t\t}\n\t\t}\n\n\t\treturn keys;\n\t};\n\n\tconst getNormalList = () => {\n\t\tconst onChange = key => {\n\t\t\t// 修改基础样式\n\t\t\tEditor.addMark(editor, key, isFormatActive(editor, key) ? null : true);\n\t\t};\n\n\t\treturn <Muti selectedKeys={getFormatActiveKeys()} onChange={onChange} buttons={normalConfig} />;\n\t};\n\n\tconst GetFormatPainter = props => {\n\t\tconst setFormatCache = () => {\n\t\t\tconst cache = {};\n\n\t\t\tcache['backgroundColor'] = getActiveColor('backgroundColor', backgroundColorList);\n\t\t\tcache['fontColor'] = getActiveColor('fontColor', fontColorList);\n\t\t\tcache['normal'] = getFormatActiveKeys();\n\n\t\t\texecCoy('&_FORMAT_CACHE' + JSON.stringify(cache));\n\t\t\tmessage.info('样式已经复制到剪贴板');\n\t\t};\n\n\t\treturn (\n\t\t\t<Single\n\t\t\t\tselected={false}\n\t\t\t\tdescription=\"点击复制样式到剪贴板，选中其他文本ctrl+v即可复用样式\"\n\t\t\t\tcontent={\n\t\t\t\t\t<span style={{ color: '#003a8c' }}>\n\t\t\t\t\t\t<FormatPainterOutlined style={{ color: '#d4380d' }} />\n\t\t\t\t\t\t&nbsp;格式刷\n\t\t\t\t\t</span>\n\t\t\t\t}\n\t\t\t\tonClick={() => {\n\t\t\t\t\tsetFormatCache();\n\t\t\t\t}}\n\t\t\t/>\n\t\t);\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<span>{getColorList('backgroundColor', backgroundColorList)}</span>\n\t\t\t<span>{getColorList('fontColor', fontColorList)}</span>\n\t\t\t<hr style={{ border: '1px solid #91d5ff' }} />\n\t\t\t<span>{getNormalList()}</span>&nbsp;&nbsp;\n\t\t\t{GetFormatPainter()}&nbsp;&nbsp;\n\t\t</>\n\t);\n};\n\nconst LinkBar = props => {\n\tconst editor = useSlate();\n\n\tconst selected = isLinkActive(editor);\n\n\treturn (\n\t\t<>\n\t\t\t<Single\n\t\t\t\tselected={selected}\n\t\t\t\tdescription=\"加入超链接，点击后悬停于文字上修改链接内容\"\n\t\t\t\tcontent={<LinkOutlined style={{ color: '#0000cc' }} />}\n\t\t\t\tonClick={() => {\n\t\t\t\t\tselected ? unWrapLink(editor) : wrapLink(editor);\n\t\t\t\t}}\n\t\t\t/>\n\t\t\t&nbsp;&nbsp;\n\t\t</>\n\t);\n};\n\nconst StarBar = props => {\n\tconst editor = useSlate();\n\n\treturn (\n\t\t<>\n\t\t\t<Single\n\t\t\t\tselected={false}\n\t\t\t\tdescription=\"新增评分\"\n\t\t\t\tcontent={<StarFilled style={{ color: '#fadb14' }} />}\n\t\t\t\tonClick={() => {\n\t\t\t\t\tinsertStar(editor);\n\t\t\t\t}}\n\t\t\t/>\n\t\t\t&nbsp;&nbsp;\n\t\t</>\n\t);\n};\n\nexport { LeafBar, LinkBar, StarBar };\n","import { ReactEditor } from 'slate-react';\nimport { Editor, Range, Transforms, Point, Path } from 'slate';\nimport { setTitle, setQuote, setList, setListOrder, setIndentation } from './utils/node';\n\nconst formatPrinter = (editor, format) => {\n    if (format['normal'].length > 0) {\n        const normalArr = format['normal']\n        for (var i = 0; i < normalArr.length; i++) {\n            // 修改基础样式\n            Editor.addMark(editor, normalArr[i], true)\n        }\n    }\n    if (format['fontColor']) {\n        Editor.addMark(editor, 'fontColor', format['fontColor'])\n    }\n    if (format['backgroundColor']) {\n        // 修改背景色\n        Editor.addMark(editor, 'backgroundColor', format['backgroundColor'])\n    }\n}\n\nconst insertEndBreak = (editor, element, path) => {\n    const nextData = {\n        ...element,\n        children: [\n            {\n                text: ''\n            }\n        ]\n    }\n\n    const at = Path.next(path)\n    Transforms.insertNodes(editor, nextData, { at })\n\n    if (element.title) {\n        Transforms.setNodes(editor, { ['title']: null }, { at })\n    }\n\n    const point = Editor.start(editor, at)\n    Transforms.select(editor, { anchor: point, focus: point });\n}\n\nconst withParagraph = editor => {\n    const { insertText, insertBreak, deleteBackward, insertData, getFragment, isEmpty, onTabDown, normalizeNode } = editor\n\n    // 保证第一行是title\n    editor.normalizeNode = ([node, path]) => {\n        if (path.length === 0) {\n            const line1 = editor.children[0]\n            if (line1.type !== 'paragraph' || line1.title !== 'h1') {\n                const titleLine = {\n                    type: 'paragraph',\n                    title: 'h1',\n                    children: [\n                        {\n                            text: '',\n                        }\n                    ],\n                }\n                Transforms.insertNodes(editor, titleLine, { at: [0] })\n            }\n        }\n\n        return normalizeNode([node, path])\n    }\n\n\n    // 重写部分拷贝方法，保证纯paragraph拷贝时，不拷贝父元素属性\n    editor.getFragment = () => {\n        let fragment = getFragment()\n\n        while (true) {\n            if (fragment.length > 1) {\n                // 只有纯文本段落的，就返回段落\n                let allParagraph = true\n                for (var child of fragment) {\n                    if (child.type !== 'paragraph') {\n                        allParagraph = false\n                        break\n                    }\n                }\n                if (allParagraph) {\n                    return fragment\n                }\n\n                // 如果不是段落文本，则不处理\n                break\n            }\n\n            if (fragment.length === 0) {\n                break\n            }\n\n            const current = fragment[0]\n            if (!current.type || !current.children) {\n                break\n            }\n\n            if (current.type === 'paragraph') {\n                return fragment\n            }\n\n            fragment = current.children\n        }\n\n        return getFragment()\n    }\n\n    // 插入拦截\n    editor.insertText = text => {\n        const { selection } = editor;\n\n        const block = Editor.above(editor, {\n            match: n => Editor.isBlock(editor, n),\n        });\n\n        const isCollapsed = Range.isCollapsed(selection)\n\n        // 处理markdown指令\n        if (block) {\n            const [element, path] = block;\n\n            // 未设置类型或者是paragraph，同时输入了空格，并且有光标\n            if (text === ' ' && element.type === 'paragraph' && isCollapsed) {\n                const { anchor } = selection;\n                const start = Editor.start(editor, path);\n                const range = { anchor, focus: start };\n                const beforeText = Editor.string(editor, range);\n                const config = markdownKeys[beforeText];\n\n                // 正常的模式，config内容存在，则命中markdow语法，删除辅助词\n                if (config) {\n                    Transforms.select(editor, range);\n                    Transforms.delete(editor);\n\n                    // 正常的模式\n                    if (config.key === 'title') {\n                        setTitle(editor, null, config.value);\n                        return;\n                    }\n                    if (config.key === 'quote') {\n                        setQuote(editor, null, config.value);\n                        return;\n                    }\n                    if (config.key === 'list') {\n                        setList(editor, null, config.value);\n                        return;\n                    }\n                }\n\n                // 有序列表处理\n                const r = /^\\+?[1-9][0-9]*$/;\n                const strArr = beforeText.split('.');\n                if (strArr.length === 2 && r.test(strArr[0])) {\n                    const order = parseInt(strArr[0]);\n\n                    if (order > 0) {\n                        Transforms.select(editor, range);\n                        Transforms.delete(editor);\n                        setList(editor, null, 'ol');\n                        setListOrder(editor, null, order);\n\n                        return;\n                    }\n                }\n            }\n        }\n\n        // 处理格式刷\n        if (!isCollapsed && text.indexOf('&_FORMAT_CACHE') === 0) {\n            const format = JSON.parse(text.split('&_FORMAT_CACHE')[1])\n            if (format) {\n                formatPrinter(editor, format)\n\n                return\n            }\n        }\n\n        insertText(text);\n    };\n\n    editor.insertData = data => {\n        const text = data.getData('text/plain');\n        const { selection } = editor;\n        // 处理格式刷\n        if (!Range.isCollapsed(selection) && text.indexOf('&_FORMAT_CACHE') === 0) {\n            const format = JSON.parse(text.split('&_FORMAT_CACHE')[1])\n            if (format) {\n                formatPrinter(editor, format)\n\n                return\n            }\n        }\n\n        insertData(data)\n    }\n\n    // 分行事件，主要处理list和缩进相关\n    editor.insertBreak = () => {\n        const block = Editor.above(editor, {\n            match: n => Editor.isBlock(editor, n),\n        });\n        if (!!block) {\n            const [element, path] = block;\n\n            if (element.type === 'paragraph') {\n                // 对所有富文本在第一个位置点击分行。则减少缩进不分行。\n                const { selection } = editor;\n                // 判断是不是光标\n                if (element.list && !!selection && Range.isCollapsed(selection)) {\n                    const { anchor } = selection;\n                    const start = Editor.start(editor, path);\n                    const range = { anchor, focus: start };\n\n                    // 如果是list在块的第一个位置拆分，则不做拆分，改为减少缩进\n                    if (Range.isCollapsed(range)) {\n                        // 如果是没有缩进了，则删除list效果\n                        if (!element.indentation || element.indentation <= 0) {\n                            setList(editor, null, null);\n                        } else {\n                            setIndentation(editor, null, element.indentation - 1, path);\n                        }\n\n                        return;\n                    }\n                }\n\n                const end = Editor.end(editor, path)\n\n                // 如果是对有序列表的分行\n                if (!!element.list && element.list === 'ol') {\n                    // 换行不带上行样式\n                    if (Point.equals(selection.anchor, end)) {\n                        insertEndBreak(editor, element, path)\n                    } else {\n                        insertBreak();\n                    }\n\n                    setListOrder(editor, null, element.listOrder + 1)\n                    return\n                }\n\n                // 换行不带上行样式\n                if (Point.equals(selection.anchor, end)) {\n                    insertEndBreak(editor, element, path)\n                    return\n                }\n            }\n        }\n\n        insertBreak();\n    };\n\n    editor.deleteBackward = (...args) => {\n        const block = Editor.above(editor, {\n            match: n => Editor.isBlock(editor, n),\n        });\n        if (!!block) {\n            const [element, path] = block;\n\n            if (element.type === 'paragraph') {\n                // 对所有富文本在第一个位置点击分行。则减少缩进不分行。\n                const { selection } = editor;\n                // 判断是不是光标\n                if (!!selection && Range.isCollapsed(selection)) {\n                    const { anchor } = selection;\n                    const start = Editor.start(editor, path);\n                    const range = { anchor, focus: start };\n\n                    // 如果是第一个位置，则处理\n                    if (Range.isCollapsed(range)) {\n                        // 如果是list效果，优先删除效果\n                        if (element.list) {\n                            setList(editor, null, null);\n                            return;\n                        }\n                        // 如果不是list，但是有缩进，先删除缩进\n                        if (element.indentation && element.indentation > 0) {\n                            setIndentation(editor, null, element.indentation - 1, path);\n                            return;\n                        }\n                    }\n                }\n            }\n        }\n\n        deleteBackward(...args);\n    };\n\n    // 当前行是不是一个空的\n    editor.isEmpty = element => {\n        if (element.type === 'paragraph') {\n            const at = ReactEditor.findPath(editor, element);\n            const text = Editor.string(editor, at);\n            // 文本如果没空就是没空\n            if (text !== '') {\n                return false;\n            }\n\n            // 还有字段标记，则认为非空\n            if (\n                !!element.list ||\n                !!element.quote ||\n                !!element.title ||\n                !!element.textAlign ||\n                !!element.indentation ||\n                !!element.listOrder\n            ) {\n                return false;\n            }\n\n            // 兼容星星还有却判断为空的case\n            if (element.children && element.children.length > 1) {\n                return false\n            }\n\n            return true;\n        }\n\n        // 最底层的，直接用Editor提供的判断\n        return isEmpty(element)\n    };\n\n    // 输入tab事件拦截，return的是true就代码事件被重置\n    editor.onTabDown = () => {\n        const block = Editor.above(editor, {\n            match: n => Editor.isBlock(editor, n),\n        });\n        if (!!block) {\n            const [element, path] = block;\n\n            if (!element.type || element.type === 'paragraph') {\n                const offset = element.indentation || 0;\n                setIndentation(editor, null, offset + 1, path);\n\n                return true;\n            }\n        }\n\n        if (!onTabDown) {\n            return false\n        }\n\n        return onTabDown()\n    };\n\n    return editor\n}\n\nconst withLink = editor => {\n    const { isInline } = editor\n\n    editor.isInline = element => element.type === 'link' || isInline(element)\n\n    return editor\n}\n\nconst withStar = editor => {\n    const { isInline, isVoid, isEmpty } = editor\n\n    editor.isInline = element => element.type === 'star' || isInline(element)\n\n    editor.isVoid = element => {\n        return element.type === 'star' ? true : isVoid(element);\n    }\n\n    editor.isEmpty = element => {\n        if (element.type === 'star') {\n            return false\n        }\n\n        return isEmpty(element)\n    }\n\n    return editor\n}\n\n// 支持的markdown快捷键\nconst markdownKeys = {\n    '#': {\n        key: 'title',\n        value: 'h1',\n    },\n    '##': {\n        key: 'title',\n        value: 'h2',\n    },\n    '###': {\n        key: 'title',\n        value: 'h3',\n    },\n    '####': {\n        key: 'title',\n        value: 'h4',\n    },\n    '#####': {\n        key: 'title',\n        value: 'h5',\n    },\n    '>': {\n        key: 'quote',\n        value: 'quote',\n    },\n    '》': { // 兼容中文输入法\n        key: 'quote',\n        value: 'quote',\n    },\n    '*': {\n        key: 'list',\n        value: 'ul',\n    },\n    '+': {\n        key: 'list',\n        value: 'ul',\n    },\n    '-': {\n        key: 'list',\n        value: 'ul',\n    },\n    '[]': {\n        key: 'list',\n        value: 'checkbox',\n    },\n    '【】': { // 兼容中文输入法\n        key: 'list',\n        value: 'checkbox',\n    },\n};\n\nexport { withParagraph, withLink, withStar }","import Select from '../../components/button/select';\nimport { useSlate } from 'slate-react';\nimport { setTitle, setTextAlign, setQuote, setList, setListOrder } from './utils/node';\nimport {\n\tUnorderedListOutlined,\n\tOrderedListOutlined,\n\tCheckSquareOutlined,\n\tInfoCircleOutlined,\n\tAlignLeftOutlined,\n\tAlignCenterOutlined,\n\tAlignRightOutlined,\n} from '@ant-design/icons';\nimport React from 'react';\n\nconst Menu = props => {\n\tconst { element } = props;\n\tconst editor = useSlate();\n\n\tconst titleButton = () => {\n\t\t// 变更标题\n\t\tconst onChange = key => {\n\t\t\tsetTitle(editor, element, key);\n\t\t};\n\t\treturn <Select selected={element.title} buttons={titleButtonList} onChange={onChange} />;\n\t};\n\n\tconst listButton = () => {\n\t\t// 变更标题\n\t\tconst onChange = key => {\n\t\t\tsetList(editor, element, key);\n\n\t\t\tif (key === 'ol') {\n\t\t\t\tsetListOrder(editor, element, 1);\n\t\t\t}\n\t\t};\n\t\treturn <Select selected={element.list} buttons={listButtonList} onChange={onChange} />;\n\t};\n\n\tconst textAlignButton = () => {\n\t\t// 变更标题\n\t\tconst onChange = key => {\n\t\t\tsetTextAlign(editor, element, key);\n\t\t};\n\t\treturn <Select selected={element.textAlign} buttons={textAlignButtonList} onChange={onChange} />;\n\t};\n\n\tconst quoteButton = () => {\n\t\t// 变更标题\n\t\tconst onChange = key => {\n\t\t\tsetQuote(editor, element, key);\n\t\t};\n\t\treturn <Select selected={element.quote} buttons={quoteButtonList} onChange={onChange} />;\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t{titleButton()}\n\t\t\t<hr style={{ border: '1px solid #f5f5f5' }} />\n\t\t\t{listButton()}&nbsp;&nbsp;&nbsp;&nbsp;\n\t\t\t{quoteButton()}\n\t\t\t<hr style={{ border: '1px solid #f5f5f5' }} />\n\t\t\t{textAlignButton()}\n\t\t</>\n\t);\n};\n\nconst titleButtonList = [\n\t{\n\t\tkey: 'h1',\n\t\tcontent: 'h1',\n\t\tdescription: '标题1; MarkDown:#',\n\t},\n\t{\n\t\tkey: 'h2',\n\t\tcontent: 'h2',\n\t\tdescription: '标题2; MarkDown:##',\n\t},\n\t{\n\t\tkey: 'h3',\n\t\tcontent: 'h3',\n\t\tdescription: '标题3; MarkDown:###',\n\t},\n\t{\n\t\tkey: 'h4',\n\t\tcontent: 'h4',\n\t\tdescription: '标题4; MarkDown:####',\n\t},\n\t{\n\t\tkey: 'h5',\n\t\tcontent: 'h5',\n\t\tdescription: '标题5; MarkDown:#####',\n\t},\n];\n\nconst listButtonList = [\n\t{\n\t\tkey: 'ul',\n\t\tcontent: <UnorderedListOutlined />,\n\t\tdescription: '无序列表; MarkDown:-/+/*',\n\t},\n\t{\n\t\tkey: 'ol',\n\t\tcontent: <OrderedListOutlined />,\n\t\tdescription: '有序列表; MarkDown:1.',\n\t},\n\t{\n\t\tkey: 'checkbox',\n\t\tcontent: <CheckSquareOutlined />,\n\t\tdescription: 'checkbox; MarkDown:[]',\n\t},\n];\n\nconst quoteButtonList = [\n\t{\n\t\tkey: 'quote',\n\t\tcontent: <InfoCircleOutlined />,\n\t\tdescription: '引用; MarkDown:>',\n\t},\n];\n\nconst textAlignButtonList = [\n\t{\n\t\tkey: 'left',\n\t\tcontent: <AlignLeftOutlined />,\n\t\tdescription: '左对齐',\n\t},\n\t{\n\t\tkey: 'center',\n\t\tcontent: <AlignCenterOutlined />,\n\t\tdescription: '居中',\n\t},\n\t{\n\t\tkey: 'right',\n\t\tcontent: <AlignRightOutlined />,\n\t\tdescription: '右对齐',\n\t},\n];\n\nexport { Menu };\n","import { Element, LinkElement, StarElement } from './element'\nimport { Leaf } from \"./leaf\"\nimport { LeafBar, LinkBar, StarBar } from './toolbar'\nimport { withParagraph, withLink, withStar } from './plugin'\nimport { Menu } from './menu'\n\nconst Paragraph = {\n    type: 'paragraph',\n    IsBlock: true,\n    AddMenu: Menu,\n    EditMenu: Menu,\n    Element,\n    Leaf,\n    LeafBar,\n    Plugin: withParagraph,\n}\n\nconst Link = {\n    type: 'link',\n    IsBlock: false,\n    Element: LinkElement,\n    Plugin: withLink,\n    LeafBar: LinkBar,\n}\n\nconst Star = {\n    type: 'star',\n    IsBlock: false,\n    Element: StarElement,\n    Plugin: withStar,\n    LeafBar: StarBar,\n}\n\nexport { Paragraph, Link, Star }","import { Transforms } from 'slate';\nimport { ReactEditor } from 'slate-react';\n\nconst setNodeTag = (editor, element, key, value, at = null) => {\n    if (at) {\n        Transforms.setNodes(editor, { [key]: value }, { at: at });\n    } else if (!element) {\n        // 如果没有传入对象，则操作当前行\n        Transforms.setNodes(editor, { [key]: value });\n    } else {\n        const checkedAt = ReactEditor.findPath(editor, element);\n        Transforms.setNodes(editor, { [key]: value }, { at: checkedAt });\n    }\n}\n\nconst setIcon = (editor, element, icon) => {\n    setNodeTag(editor, element, 'icon', icon)\n}\n\nconst setIconColor = (editor, element, iconColor) => {\n    setNodeTag(editor, element, 'iconColor', iconColor)\n}\n\nconst setCardType = (editor, element, cardType) => {\n    setNodeTag(editor, element, 'cardType', cardType)\n}\n\nconst setCard = (editor, element) => {\n    if (element) {\n        const at = ReactEditor.findPath(editor, element);\n        const cardBlock = {\n            type: 'card',\n            cardType: 'success',\n            icon: 'tag',\n            children: [\n                {\n                    type: 'paragraph',\n                    children: [\n                        {\n                            text: '',\n                        },\n                    ],\n                },\n            ],\n        };\n\n        Transforms.removeNodes(editor, { at: at });\n        Transforms.insertNodes(editor, cardBlock, { at });\n    }\n}\n\nexport { setCard, setIcon, setIconColor, setCardType }","import {\n\tTagOutlined,\n\tTagsOutlined,\n\tSoundOutlined,\n\tThunderboltOutlined,\n\tStarOutlined,\n\tSettingOutlined,\n\tScheduleOutlined,\n\tPushpinOutlined,\n\tMessageOutlined,\n\tHeartOutlined,\n\tEditOutlined,\n\tSnippetsOutlined,\n\tAliwangwangOutlined,\n\tWarningOutlined,\n\tCaretUpOutlined,\n\tCaretDownOutlined,\n\tSmileOutlined,\n\tQuestionCircleOutlined,\n\tWechatOutlined,\n\tWeiboOutlined,\n} from '@ant-design/icons';\nimport React from 'react';\n\nconst iconMap = {\n\ttag: color => {\n\t\treturn <TagOutlined style={{ color }} />;\n\t},\n\ttags: color => {\n\t\treturn <TagsOutlined style={{ color }} />;\n\t},\n\tsound: color => {\n\t\treturn <SoundOutlined style={{ color }} />;\n\t},\n\tquestion: color => {\n\t\treturn <QuestionCircleOutlined style={{ color }} />;\n\t},\n\tthunderbolt: color => {\n\t\treturn <ThunderboltOutlined style={{ color }} />;\n\t},\n\tstar: color => {\n\t\treturn <StarOutlined style={{ color }} />;\n\t},\n\tsetting: color => {\n\t\treturn <SettingOutlined style={{ color }} />;\n\t},\n\tschedule: color => {\n\t\treturn <ScheduleOutlined style={{ color }} />;\n\t},\n\tpushpin: color => {\n\t\treturn <PushpinOutlined style={{ color }} />;\n\t},\n\tmessage: color => {\n\t\treturn <MessageOutlined style={{ color }} />;\n\t},\n\theart: color => {\n\t\treturn <HeartOutlined style={{ color }} />;\n\t},\n\tedit: color => {\n\t\treturn <EditOutlined style={{ color }} />;\n\t},\n\tsnipets: color => {\n\t\treturn <SnippetsOutlined style={{ color }} />;\n\t},\n\taliwangwang: color => {\n\t\treturn <AliwangwangOutlined style={{ color }} />;\n\t},\n\twechat: color => {\n\t\treturn <WechatOutlined style={{ color }} />;\n\t},\n\tweibo: color => {\n\t\treturn <WeiboOutlined style={{ color }} />;\n\t},\n\twarning: color => {\n\t\treturn <WarningOutlined style={{ color }} />;\n\t},\n\tcareUP: color => {\n\t\treturn <CaretUpOutlined style={{ color }} />;\n\t},\n\tcareDown: color => {\n\t\treturn <CaretDownOutlined style={{ color }} />;\n\t},\n\tsmile: color => {\n\t\treturn <SmileOutlined style={{ color }} />;\n\t},\n};\n\nconst iconColorList = ['#cf1322', '#fadb14', '#08979c', '#096dd9', '#000000'];\n\nexport { iconMap, iconColorList };\n","import { Button } from 'antd';\nimport {\n\tCreditCardOutlined,\n\tFontSizeOutlined,\n\tCheckCircleOutlined,\n\tInfoCircleOutlined,\n\tExclamationCircleOutlined,\n\tCloseCircleOutlined,\n} from '@ant-design/icons';\nimport Select from '../../components/button/select';\nimport { setCard, setCardType, setIcon, setIconColor } from './utils/node';\nimport { useSlate } from 'slate-react';\nimport { iconMap, iconColorList } from './utils/icon';\nimport React from 'react';\n\n// 'success', 'info', 'warning', 'error'\nconst cardTypeList = [\n\t{\n\t\tkey: 'success',\n\t\tcontent: <CheckCircleOutlined />,\n\t\tdescription: 'success',\n\t},\n\t{\n\t\tkey: 'info',\n\t\tcontent: <InfoCircleOutlined />,\n\t\tdescription: 'info',\n\t},\n\t{\n\t\tkey: 'warning',\n\t\tcontent: <ExclamationCircleOutlined />,\n\t\tdescription: 'warning',\n\t},\n\t{\n\t\tkey: 'error',\n\t\tcontent: <CloseCircleOutlined />,\n\t\tdescription: 'error',\n\t},\n];\n\nconst EditMenu = props => {\n\tconst { element } = props;\n\tconst editor = useSlate();\n\n\tconst getCardTypeList = () => {\n\t\treturn (\n\t\t\t<Select\n\t\t\t\tselected={element.cardType}\n\t\t\t\tnotNull={true}\n\t\t\t\tonChange={key => {\n\t\t\t\t\tsetCardType(editor, element, key);\n\t\t\t\t}}\n\t\t\t\tbuttons={cardTypeList}\n\t\t\t/>\n\t\t);\n\t};\n\n\tconst getIconList = () => {\n\t\tconst buttons = [];\n\t\tfor (var key in iconMap) {\n\t\t\tbuttons.push({\n\t\t\t\tkey: key,\n\t\t\t\tcontent: iconMap[key](element.iconColor),\n\t\t\t\tdescription: key,\n\t\t\t});\n\t\t}\n\n\t\treturn (\n\t\t\t<Select\n\t\t\t\tselected={element.icon}\n\t\t\t\tnotNull={false}\n\t\t\t\tonChange={key => {\n\t\t\t\t\tsetIcon(editor, element, key);\n\t\t\t\t}}\n\t\t\t\tbuttons={buttons}\n\t\t\t/>\n\t\t);\n\t};\n\n\tconst getIconColorList = () => {\n\t\tconst buttons = [];\n\t\tfor (var i = 0; i < iconColorList.length; i++) {\n\t\t\tbuttons.push({\n\t\t\t\tkey: iconColorList[i],\n\t\t\t\tcontent: <FontSizeOutlined style={{ color: iconColorList[i] }} />,\n\t\t\t\tdescription: iconColorList[i],\n\t\t\t});\n\t\t}\n\n\t\treturn (\n\t\t\t<Select\n\t\t\t\tselected={element.iconColor}\n\t\t\t\tnotNull={false}\n\t\t\t\tonChange={key => {\n\t\t\t\t\tsetIconColor(editor, element, key);\n\t\t\t\t}}\n\t\t\t\tbuttons={buttons}\n\t\t\t/>\n\t\t);\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t{getCardTypeList()}\n\t\t\t<hr style={{ border: '1px solid #f5f5f5' }} />\n\t\t\t{getIconList()}\n\t\t\t<hr style={{ border: '1px solid #f5f5f5' }} />\n\t\t\t{getIconColorList()}\n\t\t</>\n\t);\n};\n\nconst AddMenu = props => {\n\tconst editor = useSlate();\n\tconst { element } = props;\n\n\treturn (\n\t\t<Button\n\t\t\ttype=\"text\"\n\t\t\ticon={<CreditCardOutlined style={{ color: '#ad4e00' }} />}\n\t\t\tstyle={{ width: '100%', textAlign: 'left' }}\n\t\t\tonMouseDown={() => {\n\t\t\t\tsetCard(editor, element);\n\t\t\t}}\n\t\t>\n\t\t\t卡片\n\t\t</Button>\n\t);\n};\n\nexport { EditMenu, AddMenu };\n","import { Alert } from 'antd';\nimport { iconMap } from './utils/icon';\nimport { memo } from 'react';\nimport React from 'react';\n\nconst Element = memo(props => {\n\t// 基础配置\n\tconst { attributes, children, element } = props;\n\n\tlet icon = null;\n\tif (element.icon && iconMap[element.icon]) {\n\t\ticon = iconMap[element.icon](element.iconColor);\n\t}\n\n\treturn (\n\t\t<div {...attributes} style={{ paddingTop: '5px', paddingBottom: '5px' }}>\n\t\t\t<Alert type={element.cardType} message={children} icon={icon} showIcon={!!icon} />\n\t\t</div>\n\t);\n});\n\nexport { Element };\n","const withCard = editor => {\n    const { isEmpty } = editor\n\n    editor.isEmpty = element => {\n        if (element.type === 'card') {\n            return false\n        }\n\n        return isEmpty(element)\n    }\n\n    return editor\n}\n\nexport { withCard }","import { EditMenu, AddMenu } from \"./menu\"\nimport { Element } from \"./element\"\nimport { withCard } from \"./plugin\"\n\nconst Card = {\n    type: 'card',\n    IsBlock: true,\n    AddMenu,\n    EditMenu,\n    Element,\n    Plugin: withCard,\n}\n\nexport { Card }","import { Transforms, Editor } from 'slate';\nimport { ReactEditor } from 'slate-react';\n\nconst setNodeTag = (editor, element, key, value, at = null) => {\n    if (at) {\n        Transforms.setNodes(editor, { [key]: value }, { at: at });\n    } else if (!element) {\n        // 如果没有传入对象，则操作当前行\n        Transforms.setNodes(editor, { [key]: value });\n    } else {\n        const checkedAt = ReactEditor.findPath(editor, element);\n        Transforms.setNodes(editor, { [key]: value }, { at: checkedAt });\n    }\n}\n\nconst setImage = (editor, element, src) => {\n    if (element) {\n        const at = ReactEditor.findPath(editor, element);\n        const cardBlock = {\n            type: 'image',\n            src: src,\n            width: 300,\n            children: [\n                {\n                    text: '',\n                }\n            ]\n        };\n\n        Transforms.setNodes(editor, cardBlock, { at });\n    }\n}\n\n// 插入图片，如果行是空的就在本行插入\nconst insertImage = (editor, src) => {\n    const block = Editor.above(editor, {\n        match: n => Editor.isBlock(editor, n),\n    });\n    if (!!block) {\n        const [element] = block\n        const image = {\n            type: 'image',\n            width: 300,\n            src,\n            children: [{ text: '' }]\n        }\n\n        if (editor.isEmpty(element)) {\n            Transforms.setNodes(editor, image);\n        } else {\n            Transforms.insertNodes(editor, image);\n        }\n    }\n};\n\n\nconst getInsertImageCallBack = (editor, element) => {\n    return (src) => {\n        insertImage(editor, src)\n    }\n}\n\nconst setTextAlign = (editor, element, textAlign) => {\n    setNodeTag(editor, element, 'textAlign', textAlign)\n}\n\nconst setWidth = (editor, element, width) => {\n    if (width < 40 || width > 2000) {\n        return\n    }\n\n    setNodeTag(editor, element, 'width', width)\n}\n\nexport { insertImage, setTextAlign, setWidth, getInsertImageCallBack, setImage }","export default [\n\t\"ase\",\n\t\"art\",\n\t\"bmp\",\n\t\"blp\",\n\t\"cd5\",\n\t\"cit\",\n\t\"cpt\",\n\t\"cr2\",\n\t\"cut\",\n\t\"dds\",\n\t\"dib\",\n\t\"djvu\",\n\t\"egt\",\n\t\"exif\",\n\t\"gif\",\n\t\"gpl\",\n\t\"grf\",\n\t\"icns\",\n\t\"ico\",\n\t\"iff\",\n\t\"jng\",\n\t\"jpeg\",\n\t\"jpg\",\n\t\"jfif\",\n\t\"jp2\",\n\t\"jps\",\n\t\"lbm\",\n\t\"max\",\n\t\"miff\",\n\t\"mng\",\n\t\"msp\",\n\t\"nitf\",\n\t\"ota\",\n\t\"pbm\",\n\t\"pc1\",\n\t\"pc2\",\n\t\"pc3\",\n\t\"pcf\",\n\t\"pcx\",\n\t\"pdn\",\n\t\"pgm\",\n\t\"PI1\",\n\t\"PI2\",\n\t\"PI3\",\n\t\"pict\",\n\t\"pct\",\n\t\"pnm\",\n\t\"pns\",\n\t\"ppm\",\n\t\"psb\",\n\t\"psd\",\n\t\"pdd\",\n\t\"psp\",\n\t\"px\",\n\t\"pxm\",\n\t\"pxr\",\n\t\"qfx\",\n\t\"raw\",\n\t\"rle\",\n\t\"sct\",\n\t\"sgi\",\n\t\"rgb\",\n\t\"int\",\n\t\"bw\",\n\t\"tga\",\n\t\"tiff\",\n\t\"tif\",\n\t\"vtf\",\n\t\"xbm\",\n\t\"xcf\",\n\t\"xpm\",\n\t\"3dv\",\n\t\"amf\",\n\t\"ai\",\n\t\"awg\",\n\t\"cgm\",\n\t\"cdr\",\n\t\"cmx\",\n\t\"dxf\",\n\t\"e2d\",\n\t\"egt\",\n\t\"eps\",\n\t\"fs\",\n\t\"gbr\",\n\t\"odg\",\n\t\"svg\",\n\t\"stl\",\n\t\"vrml\",\n\t\"x3d\",\n\t\"sxd\",\n\t\"v2d\",\n\t\"vnd\",\n\t\"wmf\",\n\t\"emf\",\n\t\"art\",\n\t\"xar\",\n\t\"png\",\n\t\"webp\",\n\t\"jxr\",\n\t\"hdp\",\n\t\"wdp\",\n\t\"cur\",\n\t\"ecw\",\n\t\"iff\",\n\t\"lbm\",\n\t\"liff\",\n\t\"nrrd\",\n\t\"pam\",\n\t\"pcx\",\n\t\"pgf\",\n\t\"sgi\",\n\t\"rgb\",\n\t\"rgba\",\n\t\"bw\",\n\t\"int\",\n\t\"inta\",\n\t\"sid\",\n\t\"ras\",\n\t\"sun\",\n\t\"tga\"\n]\n","import { Button, Popover, Input, message } from 'antd';\nimport {\n\tPictureOutlined,\n\tAlignLeftOutlined,\n\tAlignCenterOutlined,\n\tAlignRightOutlined,\n\tMinusCircleOutlined,\n\tPlusCircleOutlined,\n} from '@ant-design/icons';\nimport Select from '../../components/button/select';\nimport { setImage, setTextAlign, setWidth } from './utils/node';\nimport { useSlate } from 'slate-react';\nimport Single from '../../components/button/single';\nimport { useState } from 'react';\nimport isUrl from 'is-url';\nimport imageExtensions from '../../util/imgExt';\nimport React from 'react';\n\n// 判断是不是图片链接\nconst isImageUrl = url => {\n\tif (!url) return false;\n\tif (!isUrl(url)) return false;\n\tconst ext = new URL(url).pathname.split('.').pop();\n\treturn imageExtensions.includes(ext);\n};\n\nconst EditMenu = props => {\n\tconst editor = useSlate();\n\tconst { element } = props;\n\n\treturn (\n\t\t<>\n\t\t\t<Select\n\t\t\t\tselected={element.textAlign}\n\t\t\t\tbuttons={textAlignButtonList}\n\t\t\t\tonChange={key => {\n\t\t\t\t\tsetTextAlign(editor, element, key);\n\t\t\t\t}}\n\t\t\t/>\n\t\t\t<hr style={{ border: '1px solid #f5f5f5' }} />\n\t\t\t<Button\n\t\t\t\tsize=\"small\"\n\t\t\t\ttype=\"text\"\n\t\t\t\ticon={<MinusCircleOutlined style={{ color: '#389e0d' }} />}\n\t\t\t\tonMouseDown={() => {\n\t\t\t\t\tsetWidth(editor, element, element.width - 20);\n\t\t\t\t}}\n\t\t\t/>\n\t\t\t<Button\n\t\t\t\tsize=\"small\"\n\t\t\t\ttype=\"text\"\n\t\t\t\ticon={<PlusCircleOutlined style={{ color: '#f5222d' }} />}\n\t\t\t\tonMouseDown={() => {\n\t\t\t\t\tsetWidth(editor, element, element.width + 20);\n\t\t\t\t}}\n\t\t\t/>\n\t\t</>\n\t);\n};\n\nconst AddMenu = props => {\n\tconst editor = useSlate();\n\tconst { element } = props;\n\n\tconst URL = Props => {\n\t\tconst [value, setValue] = useState('');\n\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<div style={{ display: 'inline-block', width: '280px' }}>\n\t\t\t\t\t<Input value={value} placeholder=\"输入图片地址\" onChange={v => setValue(v.target.value)} />\n\t\t\t\t</div>\n\t\t\t\t&nbsp;\n\t\t\t\t<Single\n\t\t\t\t\tselected={true}\n\t\t\t\t\tdescription=\"使用图片的url\"\n\t\t\t\t\tcontent=\"确认\"\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tif (!isImageUrl(value)) {\n\t\t\t\t\t\t\tmessage.error('输入有效的图片地址');\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tsetImage(editor, element, value);\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t</>\n\t\t);\n\t};\n\n\tconst edit = () => {\n\t\treturn <>{<URL />}</>;\n\t};\n\n\treturn (\n\t\t<Popover content={edit()} placement=\"topRight\">\n\t\t\t<Button\n\t\t\t\ttype=\"text\"\n\t\t\t\ticon={<PictureOutlined style={{ color: '#fadb14' }} />}\n\t\t\t\tstyle={{ width: '100%', textAlign: 'left' }}\n\t\t\t>\n\t\t\t\t图片\n\t\t\t</Button>\n\t\t</Popover>\n\t);\n};\n\nconst textAlignButtonList = [\n\t{\n\t\tkey: 'left',\n\t\tcontent: <AlignLeftOutlined />,\n\t\tdescription: '左对齐',\n\t},\n\t{\n\t\tkey: 'center',\n\t\tcontent: <AlignCenterOutlined />,\n\t\tdescription: '居中',\n\t},\n\t{\n\t\tkey: 'right',\n\t\tcontent: <AlignRightOutlined />,\n\t\tdescription: '右对齐',\n\t},\n];\n\nexport { EditMenu, AddMenu };\n","const config = {\n    fallback: 'data:image/png;base64,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'\n}\n\nexport { config }","import { Image } from 'antd';\nimport { config } from './utils/config';\nimport { memo } from 'react';\nimport React from 'react';\n\nconst Element = memo(props => {\n\t// 基础配置\n\tconst { attributes, children, element } = props;\n\n\treturn (\n\t\t<div {...attributes} style={{ textAlign: element.textAlign || 'left' }}>\n\t\t\t<Image\n\t\t\t\tsrc={element.src}\n\t\t\t\tstyle={{ maxWidth: '100%', width: `${element.width}px` }}\n\t\t\t\tfallback={config.fallback}\n\t\t\t/>\n\t\t\t{children}\n\t\t</div>\n\t);\n});\n\nexport { Element };\n","import { getInsertImageCallBack } from \"./utils/node\"\nimport { Editor } from 'slate'\n\nconst withImage = editor => {\n    const { isEmpty, isVoid, insertData } = editor\n\n    editor.isEmpty = element => {\n        if (element.type === 'image') {\n            return false\n        }\n\n        return isEmpty(element)\n    }\n\n    editor.isVoid = element => {\n        return element.type === 'image' ? true : isVoid(element);\n    }\n\n    editor.insertData = data => {\n        const { files } = data;\n        if (files && files.length > 0) {\n            for (const file of files) {\n                const [mime] = file.type.split('/');\n\n                if (mime === 'image') {\n                    const { onUploadImage } = editor.param\n                    if (onUploadImage) {\n                        const block = Editor.above(editor, {\n                            match: n => Editor.isBlock(editor, n),\n                        });\n                        if (!!block) {\n                            const [element] = block;\n                            onUploadImage(file, getInsertImageCallBack(editor, element))\n                        }\n                    }\n\n                    return\n                }\n            }\n        }\n\n        insertData(data);\n    }\n\n    return editor\n}\n\nexport { withImage }","import { EditMenu, AddMenu } from \"./menu\"\nimport { Element } from \"./element\"\nimport { withImage } from \"./plugin\"\n\nconst Image = {\n    type: 'image',\n    IsBlock: true,\n    AddMenu,\n    EditMenu,\n    Element,\n    Plugin: withImage,\n}\n\nexport { Image }","import { Editor, Path, Transforms, Node, Range } from 'slate';\nimport { ReactEditor } from 'slate-react';\n\nconst setTable = (editor, element, r, c) => {\n    if (element) {\n        const at = ReactEditor.findPath(editor, element);\n\n        const rows = []\n        for (var i = 0; i < r; i++) {\n            const cells = []\n            for (var j = 0; j < c; j++) {\n                cells.push({\n                    type: 'table-cell',\n                    width: 100, // 默认长度100\n                    children: [\n                        {\n                            type: 'paragraph',\n                            children: [\n                                {\n                                    text: ''\n                                }\n                            ]\n                        }\n                    ],\n                })\n            }\n\n            rows.push({\n                type: 'table-row',\n                children: cells,\n            })\n        }\n\n        const tableBlock = {\n            type: 'table',\n            children: rows,\n        };\n\n        Transforms.removeNodes(editor, { at: at });\n        Transforms.insertNodes(editor, tableBlock, { at });\n    }\n}\n\nconst addRow = (editor, cellPath, isNext = true) => {\n    const table = getTableFromCell(editor, cellPath)\n\n    let at = Path.parent(cellPath)\n    if (isNext) {\n        at = Path.next(at)\n    }\n    const tablePath = Path.parent(at)\n\n    const atRow = at[at.length - 1]\n\n    const mergedCols = []\n    // 判断是否需要增加span\n    for (var r = 0; r < atRow; r++) {\n        const row = table.children[r]\n        for (var c = 0; c < row.children.length; c++) {\n            const cellElement = row.children[c]\n            if (!cellElement.rowSpan || r + cellElement.rowSpan <= atRow) {\n                continue\n            }\n\n            Transforms.setNodes(editor, { ['rowSpan']: cellElement.rowSpan + 1 }, { at: [...tablePath, r, c] });\n\n            let colSpan = 1\n            if (cellElement.colSpan) {\n                colSpan = cellElement.colSpan\n            }\n\n            // 计算所有需要merged的cell\n            for (var offset = 0; offset < colSpan; offset++) {\n                mergedCols.push(c + offset)\n            }\n        }\n    }\n\n    const cells = []\n    let col = 0\n    for (var cell of table.children[0].children) {\n        let newCell = {\n            type: 'table-cell',\n            width: cell.width,\n            children: [\n                {\n                    type: 'paragraph',\n                    children: [\n                        {\n                            text: '',\n                        }\n                    ]\n                },\n            ]\n        }\n\n        if (mergedCols.indexOf(col) > -1) {\n            newCell = {\n                type: 'table-cell-merged',\n                width: cell.width,\n                children: [\n                    {\n                        text: '',\n                    },\n                ]\n            }\n        }\n\n        cells.push(newCell)\n        col++\n    }\n\n    const emptyRow = {\n        type: 'table-row',\n        children: cells,\n    }\n\n    Transforms.insertNodes(editor, emptyRow, { at });\n}\n\nconst deleteRow = (editor, cellPath) => {\n    const table = getTableFromCell(editor, cellPath)\n\n    // 只有表格行数大于1才允许删除行\n    if (table.children.length <= 1) {\n        return\n    }\n\n    const at = Path.parent(cellPath)\n    const atRow = at[at.length - 1]\n\n    const tablePath = Path.parent(at)\n\n    // 计算span的变化\n    // 判断是否需要减少span\n    for (var r = 0; r <= atRow; r++) {\n        const row = table.children[r]\n        for (var c = 0; c < row.children.length; c++) {\n            const cellElement = row.children[c]\n            if (!cellElement.rowSpan || r + cellElement.rowSpan <= atRow) {\n                continue\n            }\n\n            let newRowSpan = cellElement.rowSpan - 1\n            if (newRowSpan === 1) {\n                newRowSpan = null\n            }\n\n            // 如果当前行就有span\n            if (r === atRow) {\n                const newCell = {\n                    type: 'table-cell',\n                    width: cellElement.width,\n                    children: cellElement.children,\n                }\n\n                if (newRowSpan) {\n                    newCell.rowSpan = newRowSpan\n                }\n                if (cellElement.colSpan) {\n                    newCell.colSpan = cellElement.colSpan\n                }\n\n                Transforms.removeNodes(editor, { at: [...tablePath, r + 1, c] })\n                Transforms.insertNodes(editor, newCell, { at: [...tablePath, r + 1, c] })\n            } else {\n                Transforms.setNodes(editor, { ['rowSpan']: newRowSpan }, { at: [...tablePath, r, c] })\n            }\n        }\n    }\n\n    Transforms.removeNodes(editor, { at })\n}\n\nconst addCol = (editor, cellPath, isNext = true) => {\n    const table = getTableFromCell(editor, cellPath)\n    let [, col] = getCellPathInTable(cellPath)\n    const tablePath = Path.parent(Path.parent(cellPath))\n\n    if (isNext) {\n        col++\n    }\n\n    const mergedRows = []\n    // 判断是否需要增加span\n    for (var r = 0; r < table.children.length; r++) {\n        const row = table.children[r]\n        for (var c = 0; c < col; c++) {\n            const cellElement = row.children[c]\n            if (!cellElement.colSpan || c + cellElement.colSpan <= col) {\n                continue\n            }\n\n            Transforms.setNodes(editor, { ['colSpan']: cellElement.colSpan + 1 }, { at: [...tablePath, r, c] });\n\n            let rowSpan = 1\n            if (cellElement.rowSpan) {\n                rowSpan = cellElement.rowSpan\n            }\n\n            // 计算所有需要merged的cell\n            for (var offset = 0; offset < rowSpan; offset++) {\n                mergedRows.push(r + offset)\n            }\n        }\n    }\n\n    for (var i = 0; i < table.children.length; i++) {\n        let at = [...tablePath, i, col]\n\n        let emptyCol = {\n            type: 'table-cell',\n            width: 100,\n            children: [\n                {\n                    type: 'paragraph',\n                    children: [\n                        {\n                            text: '',\n                        }\n                    ]\n                },\n            ]\n        }\n\n        if (mergedRows.indexOf(i) > -1) {\n            emptyCol = {\n                type: 'table-cell-merged',\n                width: 100,\n                children: [\n                    {\n                        text: '',\n                    },\n                ]\n            }\n        }\n\n        Transforms.insertNodes(editor, emptyCol, { at });\n    }\n}\n\nconst deleteCol = (editor, cellPath) => {\n    const row = getRowFromCell(editor, cellPath)\n\n    // 大于1列才能删除\n    if (row.children.length <= 1) {\n        return\n    }\n\n    const table = getTableFromCell(editor, cellPath)\n    const [, atCol] = getCellPathInTable(cellPath)\n    const tablePath = Path.parent(Path.parent(cellPath))\n\n    // 计算span的变化\n    // 判断是否需要减少span\n    for (var r = 0; r < table.children.length; r++) {\n        const row = table.children[r]\n        for (var c = 0; c <= atCol; c++) {\n            const cellElement = row.children[c]\n            if (!cellElement.colSpan || c + cellElement.colSpan <= atCol) {\n                continue\n            }\n\n            let newColSpan = cellElement.colSpan - 1\n            if (newColSpan === 1) {\n                newColSpan = null\n            }\n\n            // 如果当前行就有span\n            if (c === atCol) {\n                const newCell = {\n                    type: 'table-cell',\n                    width: cellElement.width,\n                    children: cellElement.children,\n                }\n\n                if (newColSpan) {\n                    newCell.colSpan = newColSpan\n                }\n                if (cellElement.rowSpan) {\n                    newCell.rowSpan = cellElement.rowSpan\n                }\n\n                Transforms.removeNodes(editor, { at: [...tablePath, r, c + 1] })\n                Transforms.insertNodes(editor, newCell, { at: [...tablePath, r, c + 1] })\n            } else {\n                Transforms.setNodes(editor, { ['colSpan']: newColSpan }, { at: [...tablePath, r, c] })\n            }\n        }\n    }\n\n    // 删除对应列\n    for (var i = 0; i < table.children.length; i++) {\n        const at = [...tablePath, i, atCol]\n        Transforms.removeNodes(editor, { at });\n    }\n}\n\nconst setColWidth = (editor, cellPath, width) => {\n    // 单元格最小宽度为40\n    if (width < 40) {\n        return\n    }\n\n    const table = getTableFromCell(editor, cellPath)\n    const [, c] = getCellPathInTable(cellPath)\n    const tablePath = Path.parent(Path.parent(cellPath))\n\n    for (var i = 0; i < table.children.length; i++) {\n        const at = [...tablePath, i, c]\n\n        Transforms.setNodes(editor, { ['width']: width }, { at: at });\n    }\n}\n\n// 拆分单元格\nconst splitCells = (editor) => {\n    const { selection } = editor\n    // 鼠标必须是单点\n    if (!selection || !Range.isCollapsed(selection)) {\n        return\n    }\n\n    const { anchor, focus } = selection\n    const [nodeEntry,] = Editor.node(editor, {})\n    const common = Node.common(nodeEntry, anchor.path, focus.path)\n    const [, path] = common\n\n    // 获得cellPath\n    let cellPath = [...path]\n    while (true) {\n        // 如果不是在同一个table中，不再继续处理\n        if (cellPath.length < 3) {\n            return\n        }\n\n        const n = Node.get(nodeEntry, cellPath)\n        if (n.type && n.type == 'table-cell') {\n            break\n        }\n        cellPath = Path.parent(cellPath)\n    }\n\n    const tablePath = Path.parent(Path.parent(cellPath))\n    const cellInTable = getCellPathInTable(cellPath)\n    const tableElement = Node.get(nodeEntry, tablePath)\n    const cellElement = Node.get(tableElement, cellInTable)\n\n    if (!cellElement.rowSpan && !cellElement.colSpan) {\n        return\n    }\n\n    // 去掉span\n    Transforms.setNodes(editor, { ['rowSpan']: null, ['colSpan']: null }, { at: cellPath })\n    // 插入数据\n    const rowSpan = cellElement.rowSpan ? cellElement.rowSpan : 1\n    const colSpan = cellElement.colSpan ? cellElement.colSpan : 1\n\n    for (var r = cellInTable[0]; r <= cellInTable[0] + rowSpan - 1; r++) {\n        for (var c = cellInTable[1]; c <= cellInTable[1] + colSpan - 1; c++) {\n            // 跳过第一个\n            if (r === cellInTable[0] && c === cellInTable[1]) {\n                continue\n            }\n\n            const current = Node.get(tableElement, [r, c])\n            const newCell = {\n                type: 'table-cell',\n                width: current.width,\n                children: [\n                    {\n                        type: 'paragraph',\n                        children: [\n                            {\n                                text: '',\n                            }\n                        ]\n                    }\n                ],\n            }\n            // 继承所有宽度数据，其余都删除掉\n            Transforms.removeNodes(editor, { at: [...tablePath, r, c] })\n            Transforms.insertNodes(editor, newCell, { at: [...tablePath, r, c] })\n        }\n    }\n}\n\n// 合并单元格\nconst mergeCells = (editor) => {\n    const { tableSelection } = editor\n    if (!tableSelection) {\n        return\n    }\n\n    const { start, end } = tableSelection\n\n    const startInTable = getCellPathInTable(start)\n    const endInTable = getCellPathInTable(end)\n\n    // 其余单元格全部设置成空\n    const tablePath = Path.parent(Path.parent(start))\n    const [nodeEntry,] = Editor.node(editor, {})\n    const tableElement = Node.get(nodeEntry, tablePath)\n\n    const children = []\n    const startElement = Node.get(tableElement, startInTable)\n    children.push(...startElement.children)\n\n    for (var r = startInTable[0]; r <= endInTable[0]; r++) {\n        for (var c = startInTable[1]; c <= endInTable[1]; c++) {\n            // 跳过第一个\n            if (r === startInTable[0] && c === startInTable[1]) {\n                continue\n            }\n            const current = Node.get(tableElement, [r, c])\n\n            if (current.type === 'table-cell' && Node.string(current).length > 0) {\n                children.push(...current.children)\n            }\n\n            const cellMerged = {\n                type: 'table-cell-merged',\n                width: current.width,\n                children: [{ text: '' }],\n            }\n            // 继承所有宽度数据，其余都删除掉\n            Transforms.removeNodes(editor, { at: [...tablePath, r, c] })\n            Transforms.insertNodes(editor, cellMerged, { at: [...tablePath, r, c] })\n        }\n    }\n\n    // 设置初始单元格的span\n    const rowSpan = endInTable[0] - startInTable[0] + 1\n    const colSpan = endInTable[1] - startInTable[1] + 1\n\n    const newCell = {\n        type: 'table-cell',\n        width: startElement.width,\n        children: children,\n    }\n\n    if (rowSpan > 1) {\n        newCell.rowSpan = rowSpan\n    }\n    if (colSpan > 1) {\n        newCell.colSpan = colSpan\n    }\n\n    Transforms.removeNodes(editor, { at: start })\n    Transforms.insertNodes(editor, newCell, { at: start })\n}\n\nconst clearTableSelection = (editor, tableSelection) => {\n    const { start, end } = tableSelection\n\n    const startInTable = getCellPathInTable(start)\n    const endInTable = getCellPathInTable(end)\n\n    // 其余单元格全部设置成空\n    const tablePath = Path.parent(Path.parent(start))\n    const tableElement = Node.get(editor, tablePath)\n\n    for (var r = startInTable[0]; r <= endInTable[0]; r++) {\n        for (var c = startInTable[1]; c <= endInTable[1]; c++) {\n            const current = Node.get(tableElement, [r, c])\n\n            const newCell = { ...current }\n\n            // 继承所有数据，内容都删除掉\n            if (newCell.type === 'table-cell') {\n                newCell.children = [\n                    {\n                        type: \"paragraph\",\n                        children: [\n                            {\n                                text: ''\n                            }\n                        ]\n                    }\n                ]\n            } else {\n                newCell.children = [\n                    {\n                        text: '',\n                    }\n                ]\n            }\n\n            Transforms.removeNodes(editor, { at: [...tablePath, r, c] })\n            Transforms.insertNodes(editor, newCell, { at: [...tablePath, r, c] })\n        }\n    }\n}\n\nconst getAllSpanCells = (tableElement) => {\n    const mergedCellRowCols = []\n    for (var r = 0; r < tableElement.children.length; r++) {\n        const rowElement = tableElement.children[r]\n        for (var c = 0; c < rowElement.children.length; c++) {\n            const cellElement = rowElement.children[c]\n            if (!cellElement.rowSpan && !cellElement.colSpan) {\n                continue\n            }\n\n            mergedCellRowCols.push([\n                [r - 1, c - 1],\n                [r + (cellElement.rowSpan ? cellElement.rowSpan : 1) - 1, c + (cellElement.colSpan ? cellElement.colSpan : 1) - 1],\n            ])\n        }\n    }\n\n    return mergedCellRowCols\n}\n\n// 计算表格内的选择情况\nconst getTableSelection = (editor) => {\n    const { selection } = editor\n    if (!selection || Range.isCollapsed(selection)) {\n        return null\n    }\n\n    const { anchor, focus } = selection\n    const [nodeEntry,] = Editor.node(editor, {})\n    const common = Node.common(nodeEntry, anchor.path, focus.path)\n    const [, path] = common\n\n    // 获得tablePath\n    let tablePath = [...path]\n    while (true) {\n        // 如果不是在同一个table中，不再继续处理\n        if (tablePath.length == 0) {\n            return null\n        }\n\n        const n = Node.get(nodeEntry, tablePath)\n        if (n.type && n.type == 'table') {\n            break\n        }\n\n        tablePath = Path.parent(tablePath)\n    }\n\n    const tableElement = Node.get(nodeEntry, tablePath)\n    const mergedCellRowCols = getAllSpanCells(tableElement)\n\n    const row = tableElement.children.length\n    const col = tableElement.children[0].children.length\n\n    const level = tablePath.length\n    const anchorPathInTable = [anchor.path[level], anchor.path[level + 1]]\n    const focusPathInTable = [focus.path[level], focus.path[level + 1]]\n\n    if (Path.equals(anchorPathInTable, focusPathInTable)) {\n        return null\n    }\n\n    let [minRow, maxRow] = [anchorPathInTable[0], focusPathInTable[0]]\n    if (anchorPathInTable[0] > focusPathInTable[0]) {\n        [minRow, maxRow] = [focusPathInTable[0], anchorPathInTable[0]]\n    }\n    let [minCol, maxCol] = [anchorPathInTable[1], focusPathInTable[1]]\n    if (anchorPathInTable[1] > focusPathInTable[1]) {\n        [minCol, maxCol] = [focusPathInTable[1], anchorPathInTable[1]]\n    }\n\n    [minRow, minCol] = [minRow - 1, minCol - 1]\n    while (true) {\n        const [minR, minC, maxR, maxC] = getCuerrentSelection([minRow, minCol, maxRow, maxCol], mergedCellRowCols, row, col)\n\n        let change = false\n        if (minRow > minR) {\n            minRow = minR\n            change = true\n        }\n        if (maxRow < maxR) {\n            maxRow = maxR\n            change = true\n        }\n        if (minCol > minC) {\n            minCol = minC\n            change = true\n        }\n        if (maxCol < maxC) {\n            maxCol = maxC\n            change = true\n        }\n\n        if (!change) {\n            break\n        }\n    }\n\n    return {\n        start: [...tablePath, minRow + 1, minCol + 1],\n        end: [...tablePath, maxRow, maxCol],\n    }\n}\n\nconst isCellInTableSelection = (editor, element) => {\n    const { tableSelection } = editor\n    if (!tableSelection) {\n        return false\n    }\n\n    const at = ReactEditor.findPath(editor, element)\n    const { start, end } = tableSelection\n\n    // 判断有没有在一个table中\n    const [nodeEntry,] = Editor.node(editor, {})\n    const common = Node.common(nodeEntry, at, start)\n    const [, path] = common\n\n    // 获得tablePath\n    let tablePath = [...path]\n    while (true) {\n        // 如果不是在同一个table中，不再继续处理\n        if (tablePath.length == 0) {\n            return false\n        }\n\n        const n = Node.get(nodeEntry, tablePath)\n        if (n.type && n.type == 'table') {\n            break\n        }\n\n        tablePath = Path.parent(tablePath)\n    }\n\n    // 防止表格嵌套表格导致错误识别\n    if (tablePath.length + 2 != at.length || tablePath.length + 2 != start.length) {\n        return false\n    }\n\n    const atInTable = getCellPathInTable(at)\n    const startInTable = getCellPathInTable(start)\n    const endInTable = getCellPathInTable(end)\n\n    return startInTable[0] <= atInTable[0] && startInTable[1] <= atInTable[1] && atInTable[0] <= endInTable[0] && atInTable[1] <= endInTable[1]\n}\n\nconst getCuerrentSelection = (current, mergedCellRowCols, row, col) => {\n    let [minRow, minCol, maxRow, maxCol] = current\n    // 向上\n    for (var ir = minRow; ir >= -1; ir--) {\n        minRow = ir\n        if (!isLineCrossAnyCells([[ir, minCol], [ir, maxCol]], mergedCellRowCols)) {\n            break\n        }\n    }\n\n    // 向下\n    for (var ar = maxRow; ar <= row; ar++) {\n        maxRow = ar\n        if (!isLineCrossAnyCells([[ar, minCol], [ar, maxCol]], mergedCellRowCols)) {\n            break\n        }\n    }\n\n    // 向左\n    for (var ic = minCol; ic >= -1; ic--) {\n        minCol = ic\n        if (!isLineCrossAnyCells([[minRow, ic], [maxRow, ic]], mergedCellRowCols)) {\n            break\n        }\n    }\n\n    // 向右\n    for (var ac = maxCol; ac <= col; ac++) {\n        maxCol = ac\n        if (!isLineCrossAnyCells([[minRow, ac], [maxRow, ac]], mergedCellRowCols)) {\n            break\n        }\n    }\n\n    return [minRow, minCol, maxRow, maxCol]\n}\n\nconst isLineCrossAnyCells = (line, cells) => {\n    for (var cell of cells) {\n        if (isLineCrossCell(line, cell)) {\n            return true\n        }\n    }\n\n    return false\n}\n\nconst isLineCrossCell = (line, cell) => {\n    const [lineStart, lineEnd] = line\n    const [cellStart, cellEnd] = cell\n\n    if (lineStart[0] >= cellEnd[0] || lineEnd[0] <= cellStart[0]) {\n        return false\n    }\n\n    if (lineStart[1] >= cellEnd[1] || lineEnd[1] <= cellStart[1]) {\n        return false\n    }\n\n    return true\n}\n\nconst getRowFromCell = (editor, cellPath) => {\n    const [nodeEntry,] = Editor.node(editor, [])\n    const rowPath = Path.parent(cellPath)\n\n    return Node.get(nodeEntry, rowPath)\n}\n\nconst getTableFromCell = (editor, cellPath) => {\n    const [nodeEntry,] = Editor.node(editor, [])\n    const rowPath = Path.parent(cellPath)\n    const tablePath = Path.parent(rowPath)\n\n    return Node.get(nodeEntry, tablePath)\n}\n\nconst getCellPathInTable = (path) => {\n    const len = path.length\n    return [path[len - 2], path[len - 1]]\n}\n\nexport {\n    setTable,\n    getCellPathInTable,\n    addRow,\n    deleteRow,\n    addCol,\n    deleteCol,\n    setColWidth,\n    getTableSelection,\n    isCellInTableSelection,\n    mergeCells,\n    splitCells,\n    clearTableSelection,\n}","import React, { useState } from 'react';\n\nimport { Card } from 'antd';\n\nconst TableInput = (props) => {\n  const {\n    rowLength, // 行数\n    colLength, // 列数\n    normalColor, // 正常颜色\n    selectedColor, // 选中区域颜色\n    onChange, // 坐标变化回调\n    onClick, // 点击格子回调\n  } = props;\n  // 初始化位置\n  const [row, setRow] = useState(0);\n  const [col, setCol] = useState(0);\n\n  // 没有规定长度则默认9*9大小\n  const rLength = rowLength || 9;\n  const cLength = colLength || 9;\n  // 没有设置颜色则使用默认颜色\n  const sColor = selectedColor || '#A6E6F8';\n  const nColor = normalColor || '#EDF1F1';\n\n  const onMouseOver = (r, c) => {\n    resetRowCol(r, c);\n  };\n\n  const resetRowCol = (r, c) => {\n    setRow(r);\n    setCol(c);\n\n    onChange && onChange(r, c);\n  };\n\n  const grids = [];\n  for (let i = 1; i <= rLength; i++) {\n    const rowGrids = [];\n    for (let j = 1; j <= cLength; j++) {\n      const selected = i <= row && j <= col;\n\n      rowGrids.push(\n        <div\n          key={j}\n          style={{\n            backgroundColor: selected ? sColor : nColor,\n            height: '25px',\n            width: '25px',\n            margin: '3px',\n            display: 'inline-block',\n          }}\n          onMouseOver={() => onMouseOver(i, j)}\n          onClick={() => onClick && onClick(i, j)}\n        />,\n      )\n    }\n    grids.push(<div key={i}>{rowGrids}</div>);\n  }\n\n  const width = rLength * 31 + 3;\n  const height = cLength * 31 + 3;\n\n  return (\n    <Card>\n      <div\n        style={{\n          cursor: 'pointer',\n          fontSize: 0,\n          height: height,\n          width: width,\n        }}\n        onMouseLeave={() => {resetRowCol(0, 0)}}\n      >\n        {grids}\n      </div>\n    </Card>\n  )\n}\n\nexport default TableInput","import { Popover, Button } from 'antd';\nimport { TableOutlined } from '@ant-design/icons';\nimport { setTable } from './utils/node';\nimport { useSlate } from 'slate-react';\nimport TableInput from '../../components/table-input';\nimport { useState } from 'react';\nimport React from 'react';\n\nconst AddMenu = props => {\n\tconst editor = useSlate();\n\tconst { element } = props;\n\n\tconst [title, settitle] = useState('0行0列');\n\n\tconst onChange = (r, c) => {\n\t\tsettitle(`${r}行${c}列`);\n\t};\n\n\tconst onClick = (r, c) => {\n\t\tsetTable(editor, element, r, c);\n\t};\n\n\treturn (\n\t\t<Popover\n\t\t\ttitle={title}\n\t\t\tcontent={<TableInput onChange={onChange} onClick={onClick} />}\n\t\t\tplacement=\"topRight\"\n\t\t>\n\t\t\t<Button\n\t\t\t\ttype=\"text\"\n\t\t\t\ticon={<TableOutlined style={{ color: '#91d5ff' }} />}\n\t\t\t\tstyle={{ width: '100%', textAlign: 'left' }}\n\t\t\t>\n\t\t\t\t表格\n\t\t\t</Button>\n\t\t</Popover>\n\t);\n};\n\nexport { AddMenu };\n","import {\n\tInsertRowLeftOutlined,\n\tInsertRowRightOutlined,\n\tDeleteColumnOutlined,\n\tInsertRowAboveOutlined,\n\tDeleteRowOutlined,\n\tInsertRowBelowOutlined,\n\tMinusCircleOutlined,\n\tPlusCircleOutlined,\n} from '@ant-design/icons';\nimport { Popover, Button } from 'antd';\nimport { useSlate, ReactEditor } from 'slate-react';\nimport { Editor, Node, Path } from 'slate';\nimport {\n\tgetCellPathInTable,\n\taddRow,\n\tdeleteRow,\n\taddCol,\n\tdeleteCol,\n\tsetColWidth,\n\tgetTableSelection,\n\tisCellInTableSelection,\n} from './utils/node';\nimport { memo } from 'react';\nimport React from 'react';\n\nconst Element = memo(props => {\n\t// 基础配置\n\tconst { attributes, children, element } = props;\n\n\tconst editor = useSlate();\n\teditor.tableSelection = getTableSelection(editor);\n\n\tlet width = 0;\n\tconst tr0 = element.children[0];\n\tfor (var i = 0; i < tr0.children.length; i++) {\n\t\twidth += tr0.children[i].width;\n\t}\n\n\treturn (\n\t\t<div style={{ marginTop: '10px', marginBottom: '10px', overflow: 'auto' }}>\n\t\t\t<table style={{ borderCollapse: 'collapse', width: `${width}px` }}>\n\t\t\t\t<tbody {...attributes}>{children}</tbody>\n\t\t\t</table>\n\t\t</div>\n\t);\n});\n\nconst RowElement = props => {\n\t// 基础配置\n\tconst { attributes, children, element } = props;\n\n\tconst editor = useSlate();\n\tconst rowPath = ReactEditor.findPath(editor, element);\n\tconst rowPathInTable = rowPath[rowPath.length - 1];\n\n\tconst colEditor = () => {\n\t\tif (rowPathInTable !== 0) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst cells = [<td key=\"-1\" style={{ width: '7px', height: '6px' }} />];\n\n\t\tconst editorColMenu = (cellSort, width) => {\n\t\t\treturn (\n\t\t\t\t<>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\ticon={<InsertRowLeftOutlined style={{ color: '#096dd9' }} />}\n\t\t\t\t\t\tonMouseDown={() => {\n\t\t\t\t\t\t\taddCol(editor, [...rowPath, cellSort], false);\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\ticon={<MinusCircleOutlined style={{ color: '#389e0d' }} />}\n\t\t\t\t\t\tonMouseDown={() => {\n\t\t\t\t\t\t\tsetColWidth(editor, [...rowPath, cellSort], width - 20);\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\ticon={<DeleteColumnOutlined style={{ color: '#f5222d' }} />}\n\t\t\t\t\t\tonMouseDown={() => {\n\t\t\t\t\t\t\tdeleteCol(editor, [...rowPath, cellSort]);\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\ticon={<PlusCircleOutlined style={{ color: '#389e0d' }} />}\n\t\t\t\t\t\tonMouseDown={() => {\n\t\t\t\t\t\t\tsetColWidth(editor, [...rowPath, cellSort], width + 20);\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\ticon={<InsertRowRightOutlined style={{ color: '#096dd9' }} />}\n\t\t\t\t\t\tonMouseDown={() => {\n\t\t\t\t\t\t\taddCol(editor, [...rowPath, cellSort], true);\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t\t<br />\n\t\t\t\t</>\n\t\t\t);\n\t\t};\n\n\t\tfor (var i = 0; i < element.children.length; i++) {\n\t\t\tconst width = element.children[i].width;\n\t\t\tcells.push(\n\t\t\t\t<Popover key={i} content={editorColMenu(i, width)} placement=\"topLeft\">\n\t\t\t\t\t<td\n\t\t\t\t\t\tkey={i}\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\twidth: `${width}px`,\n\t\t\t\t\t\t\tborder: '1px solid #d9d9d9',\n\t\t\t\t\t\t\tbackgroundColor: '#f0f0f0',\n\t\t\t\t\t\t\tcursor: 'pointer',\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div style={{ height: '6px' }} />\n\t\t\t\t\t</td>\n\t\t\t\t</Popover>\n\t\t\t);\n\t\t}\n\n\t\treturn <tr contentEditable={false}>{cells}</tr>;\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t{colEditor()}\n\t\t\t<tr {...attributes} style={{ textAlign: 'left', border: '1px solid #d9d9d9' }}>\n\t\t\t\t{children}\n\t\t\t</tr>\n\t\t</>\n\t);\n};\n\nconst RowEditor = props => {\n\t// 基础配置\n\tconst { element } = props;\n\n\tconst editor = useSlate();\n\tconst cellPath = ReactEditor.findPath(editor, element);\n\tconst [, c] = getCellPathInTable(cellPath);\n\n\tif (c !== 0) {\n\t\treturn null;\n\t}\n\n\tconst editorRowMenu = () => {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<Button\n\t\t\t\t\tsize=\"small\"\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\ticon={<InsertRowAboveOutlined style={{ color: '#096dd9' }} />}\n\t\t\t\t\tonMouseDown={() => addRow(editor, cellPath, false)}\n\t\t\t\t/>\n\t\t\t\t<br />\n\t\t\t\t<Button\n\t\t\t\t\tsize=\"small\"\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\ticon={<DeleteRowOutlined style={{ color: '#f5222d' }} />}\n\t\t\t\t\tonMouseDown={() => deleteRow(editor, cellPath)}\n\t\t\t\t/>\n\t\t\t\t<br />\n\t\t\t\t<Button\n\t\t\t\t\tsize=\"small\"\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\ticon={<InsertRowBelowOutlined style={{ color: '#096dd9' }} />}\n\t\t\t\t\tonMouseDown={() => addRow(editor, cellPath, true)}\n\t\t\t\t/>\n\t\t\t</>\n\t\t);\n\t};\n\n\treturn (\n\t\t<Popover content={editorRowMenu()} placement=\"leftTop\">\n\t\t\t<td\n\t\t\t\tcontentEditable={false}\n\t\t\t\tstyle={{\n\t\t\t\t\tborder: '1px solid #d9d9d9',\n\t\t\t\t\tbackgroundColor: '#f0f0f0',\n\t\t\t\t\tcursor: 'pointer',\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<div style={{ width: '6px' }} />\n\t\t\t</td>\n\t\t</Popover>\n\t);\n};\n\nconst CellElement = props => {\n\t// 基础配置\n\tconst { attributes, children, element } = props;\n\tconst { colSpan, rowSpan } = element;\n\n\tconst editor = useSlate();\n\n\tconst style = {\n\t\tborder: '1px solid #d9d9d9',\n\t\tverticalAlign: 'top',\n\t\ttextAlign: 'left',\n\t};\n\tif (isCellInTableSelection(editor, element)) {\n\t\tstyle.backgroundColor = '#f0f5ff';\n\t}\n\n\tlet tdProps = {\n\t\tstyle,\n\t};\n\n\tlet width = element.width;\n\tif (colSpan) {\n\t\ttdProps.colSpan = colSpan;\n\n\t\t// 计算横向合并后的长度\n\t\tconst [nodeEntry] = Editor.node(editor, {});\n\t\tconst at = ReactEditor.findPath(editor, element);\n\t\tlet next = at;\n\t\tfor (var c = 2; c <= colSpan; c++) {\n\t\t\tnext = Path.next(next);\n\t\t\tconst nextCell = Node.get(nodeEntry, next);\n\n\t\t\twidth += nextCell.width + 1;\n\t\t}\n\t}\n\tif (rowSpan) {\n\t\ttdProps.rowSpan = rowSpan;\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t{<RowEditor {...props} />}\n\t\t\t<td {...tdProps}>\n\t\t\t\t<div {...attributes} style={{ padding: '8px', width: `${width}px`, overflow: 'auto' }}>\n\t\t\t\t\t{children}\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</>\n\t);\n};\n\nconst MergedElement = props => {\n\t// 基础配置\n\tconst { attributes, children } = props;\n\n\treturn (\n\t\t<>\n\t\t\t{<RowEditor {...props} />}\n\t\t\t<td {...attributes} style={{ display: 'none' }}>\n\t\t\t\t{children}\n\t\t\t</td>\n\t\t</>\n\t);\n};\n\nexport { Element, RowElement, CellElement, MergedElement };\n","import { message } from 'antd'\nimport {\n    Editor,\n    Range,\n    Point,\n    Element as SlateElement,\n    Node,\n    Path,\n    Transforms,\n} from 'slate'\nimport { getCellPathInTable, clearTableSelection } from './utils/node'\n\nconst withTable = editor => {\n    const { isEmpty, getFragment, insertFragment, deleteFragment } = editor\n\n    // 记录表格内被选中的单元格\n    editor.tableSelection = null\n\n    editor.deleteFragment = () => {\n        const { tableSelection } = editor\n        // 如果选中了表格的区域，则清空内容\n        if (tableSelection) {\n            clearTableSelection(editor, tableSelection)\n\n            return\n        }\n\n        const { selection } = editor\n        if (selection) {\n            const { anchor, focus } = selection\n            const common = Node.common(editor, anchor.path, focus.path)\n\n            if (common[1].length > 2) {\n                deleteFragment()\n                return\n            }\n\n            const startEl = Node.get(editor, [anchor.path[0]])\n            const endEl = Node.get(editor, [focus.path[0]])\n            if (startEl.type === 'table' || endEl.type === 'table') {\n                message.error('选中区域边缘包含表格，无法删除')\n                return\n            }\n        }\n\n        deleteFragment()\n    }\n\n    editor.insertFragment = node => {\n        if (editor.tableSelection) {\n            message.error('禁止向table拷贝')\n\n            return\n        }\n\n        if (!Array.isArray(node)) {\n            insertFragment(node)\n            return\n        }\n\n        let hasTable = false\n        for (var child of node) {\n            if (child.type === 'table') {\n                hasTable = true\n            }\n        }\n\n        if (!hasTable) {\n            insertFragment(node)\n            return\n        }\n\n        // 只允许在第一层空位置插入表格\n        const { selection } = editor\n        if (selection) {\n            if (!Range.isCollapsed(selection)) {\n                message.error('拷贝内容含有表格，只能粘贴到光标上')\n                return\n            }\n        }\n\n        const { anchor } = selection\n\n        Transforms.insertNodes(editor, node, { at: [anchor.path[0] + 1] })\n    }\n\n    // 重写部分拷贝方法，保证纯paragraph拷贝时，不拷贝父元素属性\n    editor.getFragment = () => {\n        // 如果表格有被选中的，那么复制为选中大小的表格\n        if (editor.tableSelection) {\n            const { start, end } = editor.tableSelection\n            const tablePath = Path.parent(Path.parent(start))\n            const [startRow, startCol] = getCellPathInTable(start)\n            const [endRow, endCol] = getCellPathInTable(end)\n\n            const rows = []\n            for (var r = startRow; r <= endRow; r++) {\n                const cells = []\n                for (var c = startCol; c <= endCol; c++) {\n                    const cell = Node.get(editor, [...tablePath, r, c])\n                    cells.push(cell)\n                }\n                const row = {\n                    type: 'table-row',\n                    children: cells,\n                }\n                rows.push(row)\n            }\n\n            return [\n                {\n                    type: 'table',\n                    children: rows,\n                }\n            ]\n        }\n\n        let fragment = getFragment()\n\n        if (fragment.length < 2) {\n            return fragment\n        }\n        // 如果包含部分table，则不会拷贝上table的内容\n        if (fragment[0].type === 'table' || fragment[fragment.length - 1].type === 'table') {\n            const newFagment = []\n            for (var i = 0; i < fragment.length; i++) {\n                if (i != 0 && i != fragment.length - 1) {\n                    newFagment.push(fragment[i])\n                    continue\n                }\n                if (fragment[i].type !== 'table') {\n                    newFagment.push(fragment[i])\n                }\n            }\n            return newFagment\n        }\n\n        return fragment\n    }\n\n    editor.isEmpty = element => {\n        if (element.type === 'table') {\n            return false\n        }\n\n        return isEmpty(element)\n    }\n\n    return editor\n}\n\nconst withTableRow = editor => {\n    return editor\n}\n\nconst withTableCell = editor => {\n    const { deleteBackward, deleteForward } = editor\n\n    editor.deleteBackward = unit => {\n        const { selection } = editor\n\n        if (selection && Range.isCollapsed(selection)) {\n            const [cell] = Editor.nodes(editor, {\n                match: n =>\n                    !Editor.isEditor(n) &&\n                    SlateElement.isElement(n) &&\n                    n.type === 'table-cell',\n            })\n\n            if (cell) {\n                const [, cellPath] = cell\n                const start = Editor.start(editor, cellPath)\n\n                if (Point.equals(selection.anchor, start)) {\n                    return\n                }\n            }\n        }\n\n        deleteBackward(unit)\n    }\n\n    editor.deleteForward = unit => {\n        const { selection } = editor\n\n        if (selection && Range.isCollapsed(selection)) {\n            const [cell] = Editor.nodes(editor, {\n                match: n =>\n                    !Editor.isEditor(n) &&\n                    SlateElement.isElement(n) &&\n                    n.type === 'table-cell',\n            })\n\n            if (cell) {\n                const [, cellPath] = cell\n                const end = Editor.end(editor, cellPath)\n\n                if (Point.equals(selection.anchor, end)) {\n                    return\n                }\n            }\n        }\n\n        deleteForward(unit)\n    }\n\n    return editor\n}\n\nconst withTableCellMerged = editor => {\n    const { isVoid } = editor\n\n    editor.isVoid = element => {\n        return element.type === 'table-cell-merged' ? true : isVoid(element);\n    }\n\n    return editor\n}\n\nexport { withTable, withTableRow, withTableCell, withTableCellMerged }","import { MergeCellsOutlined, SplitCellsOutlined } from '@ant-design/icons';\nimport Single from '../../components/button/single';\nimport { useSlate } from 'slate-react';\nimport { mergeCells, splitCells } from './utils/node';\nimport React from 'react';\n\nconst LeafBar = props => {\n\tconst editor = useSlate();\n\n\treturn (\n\t\t<>\n\t\t\t<Single\n\t\t\t\tselected={false}\n\t\t\t\tdescription=\"合并单元格\"\n\t\t\t\tcontent={<MergeCellsOutlined style={{ color: '#237804' }} />}\n\t\t\t\tonClick={() => {\n\t\t\t\t\tmergeCells(editor);\n\t\t\t\t}}\n\t\t\t/>\n\t\t\t<Single\n\t\t\t\tselected={false}\n\t\t\t\tdescription=\"拆分单元格\"\n\t\t\t\tcontent={<SplitCellsOutlined style={{ color: '#237804' }} />}\n\t\t\t\tonClick={() => {\n\t\t\t\t\tsplitCells(editor);\n\t\t\t\t}}\n\t\t\t/>\n\t\t</>\n\t);\n};\n\nexport { LeafBar };\n","import { AddMenu } from \"./menu\"\nimport { Element, RowElement, CellElement, MergedElement } from \"./element\"\nimport { withTable, withTableCell, withTableRow, withTableCellMerged } from \"./plugin\"\nimport { LeafBar } from \"./toolbar\"\n\nconst Table = {\n    type: 'table',\n    IsBlock: true,\n    Level: 1,\n    AddMenu,\n    Element,\n    Plugin: withTable,\n    LeafBar,\n}\n\nconst TableRow = {\n    type: 'table-row',\n    IsBlock: false,\n    Element: RowElement,\n    Plugin: withTableRow,\n}\n\nconst TableCell = {\n    type: 'table-cell',\n    IsBlock: false,\n    Element: CellElement,\n    Plugin: withTableCell,\n}\n\nconst TableCellMerged = {\n    type: 'table-cell-merged',\n    IsBlock: false,\n    Element: MergedElement,\n    Plugin: withTableCellMerged,\n}\n\nexport { Table, TableRow, TableCell, TableCellMerged }","import { Transforms } from 'slate';\nimport { ReactEditor } from 'slate-react';\n\nconst setNodeTag = (editor, element, key, value, at = null) => {\n    if (at) {\n        Transforms.setNodes(editor, { [key]: value }, { at: at });\n    } else if (!element) {\n        // 如果没有传入对象，则操作当前行\n        Transforms.setNodes(editor, { [key]: value });\n    } else {\n        const checkedAt = ReactEditor.findPath(editor, element);\n        Transforms.setNodes(editor, { [key]: value }, { at: checkedAt });\n    }\n}\n\nconst setDivider = (editor, element) => {\n    setNodeTag(editor, element, 'type', 'divider')\n}\n\nconst setTextAlign = (editor, element, textAlign) => {\n    setNodeTag(editor, element, 'textAlign', textAlign)\n}\n\nexport { setDivider, setTextAlign }","import { Button } from 'antd';\nimport {\n\tMinusSquareOutlined,\n\tAlignLeftOutlined,\n\tAlignCenterOutlined,\n\tAlignRightOutlined,\n} from '@ant-design/icons';\nimport Select from '../../components/button/select';\nimport { setDivider, setTextAlign } from './utils/node';\nimport { useSlate } from 'slate-react';\nimport React from 'react';\n\nconst EditMenu = props => {\n\tconst editor = useSlate();\n\tconst { element } = props;\n\n\treturn (\n\t\t<Select\n\t\t\tselected={element.textAlign}\n\t\t\tbuttons={textAlignButtonList}\n\t\t\tonChange={key => {\n\t\t\t\tsetTextAlign(editor, element, key);\n\t\t\t}}\n\t\t/>\n\t);\n};\n\nconst AddMenu = props => {\n\tconst editor = useSlate();\n\tconst { element } = props;\n\n\treturn (\n\t\t<Button\n\t\t\ttype=\"text\"\n\t\t\ticon={<MinusSquareOutlined style={{ color: '#237804' }} />}\n\t\t\tstyle={{ width: '100%', textAlign: 'left' }}\n\t\t\tonMouseDown={() => {\n\t\t\t\tsetDivider(editor, element);\n\t\t\t}}\n\t\t>\n\t\t\t文字分割线\n\t\t</Button>\n\t);\n};\n\nconst textAlignButtonList = [\n\t{\n\t\tkey: 'left',\n\t\tcontent: <AlignLeftOutlined />,\n\t\tdescription: '左对齐',\n\t},\n\t{\n\t\tkey: 'center',\n\t\tcontent: <AlignCenterOutlined />,\n\t\tdescription: '居中',\n\t},\n\t{\n\t\tkey: 'right',\n\t\tcontent: <AlignRightOutlined />,\n\t\tdescription: '右对齐',\n\t},\n];\n\nexport { EditMenu, AddMenu };\n","import { Divider } from 'antd';\nimport { memo } from 'react';\nimport React from 'react';\n\nconst Element = memo(props => {\n\t// 基础配置\n\tconst { attributes, children, element } = props;\n\n\treturn (\n\t\t<div {...attributes}>\n\t\t\t<Divider orientation={element.textAlign || 'center'} style={{ color: '#262626' }}>\n\t\t\t\t{children}\n\t\t\t</Divider>\n\t\t</div>\n\t);\n});\n\nexport { Element };\n","const withDivider = editor => {\n    const { isEmpty } = editor\n\n    editor.isEmpty = element => {\n        if (element.type === 'divider') {\n            return false\n        }\n\n        return isEmpty(element)\n    }\n\n    return editor\n}\n\nexport { withDivider }","import { EditMenu, AddMenu } from \"./menu\"\nimport { Element } from \"./element\"\nimport { withDivider } from \"./plugin\"\n\nconst Divider = {\n    type: 'divider',\n    IsBlock: true,\n    Level: 1,\n    AddMenu,\n    EditMenu,\n    Element,\n    Plugin: withDivider,\n}\n\nexport { Divider }","import { Transforms } from 'slate';\nimport { ReactEditor } from 'slate-react';\n\nconst setNodeTag = (editor, element, key, value, at = null) => {\n    if (at) {\n        Transforms.setNodes(editor, { [key]: value }, { at: at });\n    } else if (!element) {\n        // 如果没有传入对象，则操作当前行\n        Transforms.setNodes(editor, { [key]: value });\n    } else {\n        const checkedAt = ReactEditor.findPath(editor, element);\n        Transforms.setNodes(editor, { [key]: value }, { at: checkedAt });\n    }\n}\n\nconst setHr = (editor, element) => {\n    setNodeTag(editor, element, 'type', 'hr')\n}\n\nexport { setHr }","import { Button } from 'antd';\nimport { MinusCircleOutlined } from '@ant-design/icons';\nimport { setHr } from './utils/node';\nimport { useSlate } from 'slate-react';\nimport React from 'react';\n\nconst AddMenu = props => {\n\tconst editor = useSlate();\n\tconst { element } = props;\n\n\treturn (\n\t\t<Button\n\t\t\ttype=\"text\"\n\t\t\ticon={<MinusCircleOutlined style={{ color: '#d48806' }} />}\n\t\t\tstyle={{ width: '100%', textAlign: 'left' }}\n\t\t\tonMouseDown={() => {\n\t\t\t\tsetHr(editor, element);\n\t\t\t}}\n\t\t>\n\t\t\t纯分割线\n\t\t</Button>\n\t);\n};\n\nexport { AddMenu };\n","import { Divider } from 'antd';\nimport { memo } from 'react';\nimport React from 'react';\n\nconst Element = memo(props => {\n\t// 基础配置\n\tconst { attributes, children } = props;\n\n\treturn (\n\t\t<div {...attributes} style={{ height: '10px' }}>\n\t\t\t<Divider />\n\t\t\t{children}\n\t\t</div>\n\t);\n});\n\nexport { Element };\n","const withHr = editor => {\n    const { isEmpty, isVoid } = editor\n\n    editor.isEmpty = element => {\n        if (element.type === 'hr') {\n            return false\n        }\n\n        return isEmpty(element)\n    }\n\n    editor.isVoid = element => {\n        return element.type === 'hr' ? true : isVoid(element);\n    }\n\n    return editor\n}\n\nexport { withHr }","import { AddMenu } from \"./menu\"\nimport { Element } from \"./element\"\nimport { withHr } from \"./plugin\"\n\nconst Hr = {\n    type: 'hr',\n    IsBlock: true,\n    Level: 1,\n    AddMenu,\n    Element,\n    Plugin: withHr,\n}\n\nexport { Hr }","import { useSlate, ReactEditor } from 'slate-react';\nimport { Editor } from 'slate';\nimport { Button, message } from 'antd';\nimport { CopyOutlined } from '@ant-design/icons';\nimport { useState } from 'react';\nimport { memo } from 'react';\nimport React from 'react';\n\nconst execCoy = text => {\n\tconst input = document.createElement('TEXTAREA');\n\tinput.style.opacity = 0;\n\tinput.style.position = 'absolute';\n\tinput.style.left = '-100000px';\n\tdocument.body.appendChild(input);\n\n\tinput.value = text;\n\tinput.select();\n\tinput.setSelectionRange(0, text.length);\n\tdocument.execCommand('copy');\n\tdocument.body.removeChild(input);\n};\n\nconst Element = memo(props => {\n\t// 子组件\n\tconst { element, children } = props;\n\t// 基础配置\n\tconst { attributes } = props;\n\n\tconst [hover, setHover] = useState();\n\n\tconst editor = useSlate();\n\n\treturn (\n\t\t<div\n\t\t\tstyle={{\n\t\t\t\tbackgroundColor: '#fafafa',\n\t\t\t\twidth: '100%',\n\t\t\t\tpadding: '10px',\n\t\t\t\tcolor: '#000000',\n\t\t\t\tfontSize: '1em',\n\t\t\t\ttabSize: 4,\n\t\t\t\tmarginTop: '10px',\n\t\t\t\tmarginBottom: '10px',\n\t\t\t\tposition: 'relative',\n\t\t\t}}\n\t\t\tonMouseOver={() => {\n\t\t\t\tsetHover(true);\n\t\t\t}}\n\t\t\tonMouseLeave={() => {\n\t\t\t\tsetHover(false);\n\t\t\t}}\n\t\t\t{...attributes}\n\t\t>\n\t\t\t<div\n\t\t\t\tcontentEditable={false}\n\t\t\t\tonClick={() => {\n\t\t\t\t\tconst codeStringArr = [];\n\t\t\t\t\tfor (var child of element.children) {\n\t\t\t\t\t\tconst at = ReactEditor.findPath(editor, child);\n\t\t\t\t\t\tcodeStringArr.push(Editor.string(editor, at));\n\t\t\t\t\t}\n\n\t\t\t\t\texecCoy(codeStringArr.join('\\n'));\n\t\t\t\t\tmessage.success('代码拷贝成功～');\n\t\t\t\t}}\n\t\t\t\tstyle={{\n\t\t\t\t\tdisplay: hover ? 'inline' : 'none',\n\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\ttop: '0.5em',\n\t\t\t\t\tright: '0.5em',\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<Button icon={<CopyOutlined style={{ color: '#5b8c00' }} />}>{element.language}</Button>\n\t\t\t</div>\n\t\t\t<div style={{ overflowX: 'auto' }}>{children}</div>\n\t\t</div>\n\t);\n});\n\nconst CodeLineElement = props => {\n\t// 子组件\n\tconst { children } = props;\n\t// 基础配置\n\tconst { attributes } = props;\n\n\treturn (\n\t\t<div\n\t\t\tstyle={{\n\t\t\t\tminWidth: '3000px', // 宽度至少3000px，保证代码行内不换行\n\t\t\t\tfontFamily: `monospace`,\n\t\t\t}}\n\t\t\t{...attributes}\n\t\t>\n\t\t\t{children}\n\t\t</div>\n\t);\n};\n\nexport { Element, CodeLineElement };\n","import { Transforms } from 'slate';\nimport { ReactEditor } from 'slate-react';\n\nconst setNodeTag = (editor, element, key, value, at = null) => {\n    if (at) {\n        Transforms.setNodes(editor, { [key]: value }, { at: at });\n    } else if (!element) {\n        // 如果没有传入对象，则操作当前行\n        Transforms.setNodes(editor, { [key]: value });\n    } else {\n        const checkedAt = ReactEditor.findPath(editor, element);\n        Transforms.setNodes(editor, { [key]: value }, { at: checkedAt });\n    }\n}\n\nconst setLanguage = (editor, element, language) => {\n    setNodeTag(editor, element, ['language'], language)\n}\n\nconst setCode = (editor, element) => {\n    const code = {\n        type: 'code',\n        language: '',\n        children: [\n            {\n                type: 'codeLine',\n                children: [\n                    {\n                        text: '',\n                    },\n                ],\n            },\n        ],\n    }\n\n    const at = ReactEditor.findPath(editor, element)\n\n    Transforms.removeNodes(editor, { at });\n    Transforms.insertNodes(editor, code, { at });\n}\n\nexport { setCode, setLanguage }","\n/* **********************************************\n     Begin prism-core.js\n********************************************** */\n\n/// <reference lib=\"WebWorker\"/>\n\nvar _self = (typeof window !== 'undefined')\n\t? window   // if in browser\n\t: (\n\t\t(typeof WorkerGlobalScope !== 'undefined' && self instanceof WorkerGlobalScope)\n\t\t\t? self // if in worker\n\t\t\t: {}   // if in node js\n\t);\n\n/**\n * Prism: Lightweight, robust, elegant syntax highlighting\n *\n * @license MIT <https://opensource.org/licenses/MIT>\n * @author Lea Verou <https://lea.verou.me>\n * @namespace\n * @public\n */\nvar Prism = (function (_self) {\n\n\t// Private helper vars\n\tvar lang = /(?:^|\\s)lang(?:uage)?-([\\w-]+)(?=\\s|$)/i;\n\tvar uniqueId = 0;\n\n\t// The grammar object for plaintext\n\tvar plainTextGrammar = {};\n\n\n\tvar _ = {\n\t\t/**\n\t\t * By default, Prism will attempt to highlight all code elements (by calling {@link Prism.highlightAll}) on the\n\t\t * current page after the page finished loading. This might be a problem if e.g. you wanted to asynchronously load\n\t\t * additional languages or plugins yourself.\n\t\t *\n\t\t * By setting this value to `true`, Prism will not automatically highlight all code elements on the page.\n\t\t *\n\t\t * You obviously have to change this value before the automatic highlighting started. To do this, you can add an\n\t\t * empty Prism object into the global scope before loading the Prism script like this:\n\t\t *\n\t\t * ```js\n\t\t * window.Prism = window.Prism || {};\n\t\t * Prism.manual = true;\n\t\t * // add a new <script> to load Prism's script\n\t\t * ```\n\t\t *\n\t\t * @default false\n\t\t * @type {boolean}\n\t\t * @memberof Prism\n\t\t * @public\n\t\t */\n\t\tmanual: _self.Prism && _self.Prism.manual,\n\t\t/**\n\t\t * By default, if Prism is in a web worker, it assumes that it is in a worker it created itself, so it uses\n\t\t * `addEventListener` to communicate with its parent instance. However, if you're using Prism manually in your\n\t\t * own worker, you don't want it to do this.\n\t\t *\n\t\t * By setting this value to `true`, Prism will not add its own listeners to the worker.\n\t\t *\n\t\t * You obviously have to change this value before Prism executes. To do this, you can add an\n\t\t * empty Prism object into the global scope before loading the Prism script like this:\n\t\t *\n\t\t * ```js\n\t\t * window.Prism = window.Prism || {};\n\t\t * Prism.disableWorkerMessageHandler = true;\n\t\t * // Load Prism's script\n\t\t * ```\n\t\t *\n\t\t * @default false\n\t\t * @type {boolean}\n\t\t * @memberof Prism\n\t\t * @public\n\t\t */\n\t\tdisableWorkerMessageHandler: _self.Prism && _self.Prism.disableWorkerMessageHandler,\n\n\t\t/**\n\t\t * A namespace for utility methods.\n\t\t *\n\t\t * All function in this namespace that are not explicitly marked as _public_ are for __internal use only__ and may\n\t\t * change or disappear at any time.\n\t\t *\n\t\t * @namespace\n\t\t * @memberof Prism\n\t\t */\n\t\tutil: {\n\t\t\tencode: function encode(tokens) {\n\t\t\t\tif (tokens instanceof Token) {\n\t\t\t\t\treturn new Token(tokens.type, encode(tokens.content), tokens.alias);\n\t\t\t\t} else if (Array.isArray(tokens)) {\n\t\t\t\t\treturn tokens.map(encode);\n\t\t\t\t} else {\n\t\t\t\t\treturn tokens.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/\\u00a0/g, ' ');\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Returns the name of the type of the given value.\n\t\t\t *\n\t\t\t * @param {any} o\n\t\t\t * @returns {string}\n\t\t\t * @example\n\t\t\t * type(null)      === 'Null'\n\t\t\t * type(undefined) === 'Undefined'\n\t\t\t * type(123)       === 'Number'\n\t\t\t * type('foo')     === 'String'\n\t\t\t * type(true)      === 'Boolean'\n\t\t\t * type([1, 2])    === 'Array'\n\t\t\t * type({})        === 'Object'\n\t\t\t * type(String)    === 'Function'\n\t\t\t * type(/abc+/)    === 'RegExp'\n\t\t\t */\n\t\t\ttype: function (o) {\n\t\t\t\treturn Object.prototype.toString.call(o).slice(8, -1);\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Returns a unique number for the given object. Later calls will still return the same number.\n\t\t\t *\n\t\t\t * @param {Object} obj\n\t\t\t * @returns {number}\n\t\t\t */\n\t\t\tobjId: function (obj) {\n\t\t\t\tif (!obj['__id']) {\n\t\t\t\t\tObject.defineProperty(obj, '__id', { value: ++uniqueId });\n\t\t\t\t}\n\t\t\t\treturn obj['__id'];\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Creates a deep clone of the given object.\n\t\t\t *\n\t\t\t * The main intended use of this function is to clone language definitions.\n\t\t\t *\n\t\t\t * @param {T} o\n\t\t\t * @param {Record<number, any>} [visited]\n\t\t\t * @returns {T}\n\t\t\t * @template T\n\t\t\t */\n\t\t\tclone: function deepClone(o, visited) {\n\t\t\t\tvisited = visited || {};\n\n\t\t\t\tvar clone; var id;\n\t\t\t\tswitch (_.util.type(o)) {\n\t\t\t\t\tcase 'Object':\n\t\t\t\t\t\tid = _.util.objId(o);\n\t\t\t\t\t\tif (visited[id]) {\n\t\t\t\t\t\t\treturn visited[id];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tclone = /** @type {Record<string, any>} */ ({});\n\t\t\t\t\t\tvisited[id] = clone;\n\n\t\t\t\t\t\tfor (var key in o) {\n\t\t\t\t\t\t\tif (o.hasOwnProperty(key)) {\n\t\t\t\t\t\t\t\tclone[key] = deepClone(o[key], visited);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn /** @type {any} */ (clone);\n\n\t\t\t\t\tcase 'Array':\n\t\t\t\t\t\tid = _.util.objId(o);\n\t\t\t\t\t\tif (visited[id]) {\n\t\t\t\t\t\t\treturn visited[id];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tclone = [];\n\t\t\t\t\t\tvisited[id] = clone;\n\n\t\t\t\t\t\t(/** @type {Array} */(/** @type {any} */(o))).forEach(function (v, i) {\n\t\t\t\t\t\t\tclone[i] = deepClone(v, visited);\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\treturn /** @type {any} */ (clone);\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\treturn o;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Returns the Prism language of the given element set by a `language-xxxx` or `lang-xxxx` class.\n\t\t\t *\n\t\t\t * If no language is set for the element or the element is `null` or `undefined`, `none` will be returned.\n\t\t\t *\n\t\t\t * @param {Element} element\n\t\t\t * @returns {string}\n\t\t\t */\n\t\t\tgetLanguage: function (element) {\n\t\t\t\twhile (element) {\n\t\t\t\t\tvar m = lang.exec(element.className);\n\t\t\t\t\tif (m) {\n\t\t\t\t\t\treturn m[1].toLowerCase();\n\t\t\t\t\t}\n\t\t\t\t\telement = element.parentElement;\n\t\t\t\t}\n\t\t\t\treturn 'none';\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Sets the Prism `language-xxxx` class of the given element.\n\t\t\t *\n\t\t\t * @param {Element} element\n\t\t\t * @param {string} language\n\t\t\t * @returns {void}\n\t\t\t */\n\t\t\tsetLanguage: function (element, language) {\n\t\t\t\t// remove all `language-xxxx` classes\n\t\t\t\t// (this might leave behind a leading space)\n\t\t\t\telement.className = element.className.replace(RegExp(lang, 'gi'), '');\n\n\t\t\t\t// add the new `language-xxxx` class\n\t\t\t\t// (using `classList` will automatically clean up spaces for us)\n\t\t\t\telement.classList.add('language-' + language);\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Returns the script element that is currently executing.\n\t\t\t *\n\t\t\t * This does __not__ work for line script element.\n\t\t\t *\n\t\t\t * @returns {HTMLScriptElement | null}\n\t\t\t */\n\t\t\tcurrentScript: function () {\n\t\t\t\tif (typeof document === 'undefined') {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t\tif ('currentScript' in document && 1 < 2 /* hack to trip TS' flow analysis */) {\n\t\t\t\t\treturn /** @type {any} */ (document.currentScript);\n\t\t\t\t}\n\n\t\t\t\t// IE11 workaround\n\t\t\t\t// we'll get the src of the current script by parsing IE11's error stack trace\n\t\t\t\t// this will not work for inline scripts\n\n\t\t\t\ttry {\n\t\t\t\t\tthrow new Error();\n\t\t\t\t} catch (err) {\n\t\t\t\t\t// Get file src url from stack. Specifically works with the format of stack traces in IE.\n\t\t\t\t\t// A stack will look like this:\n\t\t\t\t\t//\n\t\t\t\t\t// Error\n\t\t\t\t\t//    at _.util.currentScript (http://localhost/components/prism-core.js:119:5)\n\t\t\t\t\t//    at Global code (http://localhost/components/prism-core.js:606:1)\n\n\t\t\t\t\tvar src = (/at [^(\\r\\n]*\\((.*):[^:]+:[^:]+\\)$/i.exec(err.stack) || [])[1];\n\t\t\t\t\tif (src) {\n\t\t\t\t\t\tvar scripts = document.getElementsByTagName('script');\n\t\t\t\t\t\tfor (var i in scripts) {\n\t\t\t\t\t\t\tif (scripts[i].src == src) {\n\t\t\t\t\t\t\t\treturn scripts[i];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Returns whether a given class is active for `element`.\n\t\t\t *\n\t\t\t * The class can be activated if `element` or one of its ancestors has the given class and it can be deactivated\n\t\t\t * if `element` or one of its ancestors has the negated version of the given class. The _negated version_ of the\n\t\t\t * given class is just the given class with a `no-` prefix.\n\t\t\t *\n\t\t\t * Whether the class is active is determined by the closest ancestor of `element` (where `element` itself is\n\t\t\t * closest ancestor) that has the given class or the negated version of it. If neither `element` nor any of its\n\t\t\t * ancestors have the given class or the negated version of it, then the default activation will be returned.\n\t\t\t *\n\t\t\t * In the paradoxical situation where the closest ancestor contains __both__ the given class and the negated\n\t\t\t * version of it, the class is considered active.\n\t\t\t *\n\t\t\t * @param {Element} element\n\t\t\t * @param {string} className\n\t\t\t * @param {boolean} [defaultActivation=false]\n\t\t\t * @returns {boolean}\n\t\t\t */\n\t\t\tisActive: function (element, className, defaultActivation) {\n\t\t\t\tvar no = 'no-' + className;\n\n\t\t\t\twhile (element) {\n\t\t\t\t\tvar classList = element.classList;\n\t\t\t\t\tif (classList.contains(className)) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\tif (classList.contains(no)) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\telement = element.parentElement;\n\t\t\t\t}\n\t\t\t\treturn !!defaultActivation;\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * This namespace contains all currently loaded languages and the some helper functions to create and modify languages.\n\t\t *\n\t\t * @namespace\n\t\t * @memberof Prism\n\t\t * @public\n\t\t */\n\t\tlanguages: {\n\t\t\t/**\n\t\t\t * The grammar for plain, unformatted text.\n\t\t\t */\n\t\t\tplain: plainTextGrammar,\n\t\t\tplaintext: plainTextGrammar,\n\t\t\ttext: plainTextGrammar,\n\t\t\ttxt: plainTextGrammar,\n\n\t\t\t/**\n\t\t\t * Creates a deep copy of the language with the given id and appends the given tokens.\n\t\t\t *\n\t\t\t * If a token in `redef` also appears in the copied language, then the existing token in the copied language\n\t\t\t * will be overwritten at its original position.\n\t\t\t *\n\t\t\t * ## Best practices\n\t\t\t *\n\t\t\t * Since the position of overwriting tokens (token in `redef` that overwrite tokens in the copied language)\n\t\t\t * doesn't matter, they can technically be in any order. However, this can be confusing to others that trying to\n\t\t\t * understand the language definition because, normally, the order of tokens matters in Prism grammars.\n\t\t\t *\n\t\t\t * Therefore, it is encouraged to order overwriting tokens according to the positions of the overwritten tokens.\n\t\t\t * Furthermore, all non-overwriting tokens should be placed after the overwriting ones.\n\t\t\t *\n\t\t\t * @param {string} id The id of the language to extend. This has to be a key in `Prism.languages`.\n\t\t\t * @param {Grammar} redef The new tokens to append.\n\t\t\t * @returns {Grammar} The new language created.\n\t\t\t * @public\n\t\t\t * @example\n\t\t\t * Prism.languages['css-with-colors'] = Prism.languages.extend('css', {\n\t\t\t *     // Prism.languages.css already has a 'comment' token, so this token will overwrite CSS' 'comment' token\n\t\t\t *     // at its original position\n\t\t\t *     'comment': { ... },\n\t\t\t *     // CSS doesn't have a 'color' token, so this token will be appended\n\t\t\t *     'color': /\\b(?:red|green|blue)\\b/\n\t\t\t * });\n\t\t\t */\n\t\t\textend: function (id, redef) {\n\t\t\t\tvar lang = _.util.clone(_.languages[id]);\n\n\t\t\t\tfor (var key in redef) {\n\t\t\t\t\tlang[key] = redef[key];\n\t\t\t\t}\n\n\t\t\t\treturn lang;\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Inserts tokens _before_ another token in a language definition or any other grammar.\n\t\t\t *\n\t\t\t * ## Usage\n\t\t\t *\n\t\t\t * This helper method makes it easy to modify existing languages. For example, the CSS language definition\n\t\t\t * not only defines CSS highlighting for CSS documents, but also needs to define highlighting for CSS embedded\n\t\t\t * in HTML through `<style>` elements. To do this, it needs to modify `Prism.languages.markup` and add the\n\t\t\t * appropriate tokens. However, `Prism.languages.markup` is a regular JavaScript object literal, so if you do\n\t\t\t * this:\n\t\t\t *\n\t\t\t * ```js\n\t\t\t * Prism.languages.markup.style = {\n\t\t\t *     // token\n\t\t\t * };\n\t\t\t * ```\n\t\t\t *\n\t\t\t * then the `style` token will be added (and processed) at the end. `insertBefore` allows you to insert tokens\n\t\t\t * before existing tokens. For the CSS example above, you would use it like this:\n\t\t\t *\n\t\t\t * ```js\n\t\t\t * Prism.languages.insertBefore('markup', 'cdata', {\n\t\t\t *     'style': {\n\t\t\t *         // token\n\t\t\t *     }\n\t\t\t * });\n\t\t\t * ```\n\t\t\t *\n\t\t\t * ## Special cases\n\t\t\t *\n\t\t\t * If the grammars of `inside` and `insert` have tokens with the same name, the tokens in `inside`'s grammar\n\t\t\t * will be ignored.\n\t\t\t *\n\t\t\t * This behavior can be used to insert tokens after `before`:\n\t\t\t *\n\t\t\t * ```js\n\t\t\t * Prism.languages.insertBefore('markup', 'comment', {\n\t\t\t *     'comment': Prism.languages.markup.comment,\n\t\t\t *     // tokens after 'comment'\n\t\t\t * });\n\t\t\t * ```\n\t\t\t *\n\t\t\t * ## Limitations\n\t\t\t *\n\t\t\t * The main problem `insertBefore` has to solve is iteration order. Since ES2015, the iteration order for object\n\t\t\t * properties is guaranteed to be the insertion order (except for integer keys) but some browsers behave\n\t\t\t * differently when keys are deleted and re-inserted. So `insertBefore` can't be implemented by temporarily\n\t\t\t * deleting properties which is necessary to insert at arbitrary positions.\n\t\t\t *\n\t\t\t * To solve this problem, `insertBefore` doesn't actually insert the given tokens into the target object.\n\t\t\t * Instead, it will create a new object and replace all references to the target object with the new one. This\n\t\t\t * can be done without temporarily deleting properties, so the iteration order is well-defined.\n\t\t\t *\n\t\t\t * However, only references that can be reached from `Prism.languages` or `insert` will be replaced. I.e. if\n\t\t\t * you hold the target object in a variable, then the value of the variable will not change.\n\t\t\t *\n\t\t\t * ```js\n\t\t\t * var oldMarkup = Prism.languages.markup;\n\t\t\t * var newMarkup = Prism.languages.insertBefore('markup', 'comment', { ... });\n\t\t\t *\n\t\t\t * assert(oldMarkup !== Prism.languages.markup);\n\t\t\t * assert(newMarkup === Prism.languages.markup);\n\t\t\t * ```\n\t\t\t *\n\t\t\t * @param {string} inside The property of `root` (e.g. a language id in `Prism.languages`) that contains the\n\t\t\t * object to be modified.\n\t\t\t * @param {string} before The key to insert before.\n\t\t\t * @param {Grammar} insert An object containing the key-value pairs to be inserted.\n\t\t\t * @param {Object<string, any>} [root] The object containing `inside`, i.e. the object that contains the\n\t\t\t * object to be modified.\n\t\t\t *\n\t\t\t * Defaults to `Prism.languages`.\n\t\t\t * @returns {Grammar} The new grammar object.\n\t\t\t * @public\n\t\t\t */\n\t\t\tinsertBefore: function (inside, before, insert, root) {\n\t\t\t\troot = root || /** @type {any} */ (_.languages);\n\t\t\t\tvar grammar = root[inside];\n\t\t\t\t/** @type {Grammar} */\n\t\t\t\tvar ret = {};\n\n\t\t\t\tfor (var token in grammar) {\n\t\t\t\t\tif (grammar.hasOwnProperty(token)) {\n\n\t\t\t\t\t\tif (token == before) {\n\t\t\t\t\t\t\tfor (var newToken in insert) {\n\t\t\t\t\t\t\t\tif (insert.hasOwnProperty(newToken)) {\n\t\t\t\t\t\t\t\t\tret[newToken] = insert[newToken];\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Do not insert token which also occur in insert. See #1525\n\t\t\t\t\t\tif (!insert.hasOwnProperty(token)) {\n\t\t\t\t\t\t\tret[token] = grammar[token];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tvar old = root[inside];\n\t\t\t\troot[inside] = ret;\n\n\t\t\t\t// Update references in other language definitions\n\t\t\t\t_.languages.DFS(_.languages, function (key, value) {\n\t\t\t\t\tif (value === old && key != inside) {\n\t\t\t\t\t\tthis[key] = ret;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\treturn ret;\n\t\t\t},\n\n\t\t\t// Traverse a language definition with Depth First Search\n\t\t\tDFS: function DFS(o, callback, type, visited) {\n\t\t\t\tvisited = visited || {};\n\n\t\t\t\tvar objId = _.util.objId;\n\n\t\t\t\tfor (var i in o) {\n\t\t\t\t\tif (o.hasOwnProperty(i)) {\n\t\t\t\t\t\tcallback.call(o, i, o[i], type || i);\n\n\t\t\t\t\t\tvar property = o[i];\n\t\t\t\t\t\tvar propertyType = _.util.type(property);\n\n\t\t\t\t\t\tif (propertyType === 'Object' && !visited[objId(property)]) {\n\t\t\t\t\t\t\tvisited[objId(property)] = true;\n\t\t\t\t\t\t\tDFS(property, callback, null, visited);\n\t\t\t\t\t\t} else if (propertyType === 'Array' && !visited[objId(property)]) {\n\t\t\t\t\t\t\tvisited[objId(property)] = true;\n\t\t\t\t\t\t\tDFS(property, callback, i, visited);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tplugins: {},\n\n\t\t/**\n\t\t * This is the most high-level function in Prism’s API.\n\t\t * It fetches all the elements that have a `.language-xxxx` class and then calls {@link Prism.highlightElement} on\n\t\t * each one of them.\n\t\t *\n\t\t * This is equivalent to `Prism.highlightAllUnder(document, async, callback)`.\n\t\t *\n\t\t * @param {boolean} [async=false] Same as in {@link Prism.highlightAllUnder}.\n\t\t * @param {HighlightCallback} [callback] Same as in {@link Prism.highlightAllUnder}.\n\t\t * @memberof Prism\n\t\t * @public\n\t\t */\n\t\thighlightAll: function (async, callback) {\n\t\t\t_.highlightAllUnder(document, async, callback);\n\t\t},\n\n\t\t/**\n\t\t * Fetches all the descendants of `container` that have a `.language-xxxx` class and then calls\n\t\t * {@link Prism.highlightElement} on each one of them.\n\t\t *\n\t\t * The following hooks will be run:\n\t\t * 1. `before-highlightall`\n\t\t * 2. `before-all-elements-highlight`\n\t\t * 3. All hooks of {@link Prism.highlightElement} for each element.\n\t\t *\n\t\t * @param {ParentNode} container The root element, whose descendants that have a `.language-xxxx` class will be highlighted.\n\t\t * @param {boolean} [async=false] Whether each element is to be highlighted asynchronously using Web Workers.\n\t\t * @param {HighlightCallback} [callback] An optional callback to be invoked on each element after its highlighting is done.\n\t\t * @memberof Prism\n\t\t * @public\n\t\t */\n\t\thighlightAllUnder: function (container, async, callback) {\n\t\t\tvar env = {\n\t\t\t\tcallback: callback,\n\t\t\t\tcontainer: container,\n\t\t\t\tselector: 'code[class*=\"language-\"], [class*=\"language-\"] code, code[class*=\"lang-\"], [class*=\"lang-\"] code'\n\t\t\t};\n\n\t\t\t_.hooks.run('before-highlightall', env);\n\n\t\t\tenv.elements = Array.prototype.slice.apply(env.container.querySelectorAll(env.selector));\n\n\t\t\t_.hooks.run('before-all-elements-highlight', env);\n\n\t\t\tfor (var i = 0, element; (element = env.elements[i++]);) {\n\t\t\t\t_.highlightElement(element, async === true, env.callback);\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Highlights the code inside a single element.\n\t\t *\n\t\t * The following hooks will be run:\n\t\t * 1. `before-sanity-check`\n\t\t * 2. `before-highlight`\n\t\t * 3. All hooks of {@link Prism.highlight}. These hooks will be run by an asynchronous worker if `async` is `true`.\n\t\t * 4. `before-insert`\n\t\t * 5. `after-highlight`\n\t\t * 6. `complete`\n\t\t *\n\t\t * Some the above hooks will be skipped if the element doesn't contain any text or there is no grammar loaded for\n\t\t * the element's language.\n\t\t *\n\t\t * @param {Element} element The element containing the code.\n\t\t * It must have a class of `language-xxxx` to be processed, where `xxxx` is a valid language identifier.\n\t\t * @param {boolean} [async=false] Whether the element is to be highlighted asynchronously using Web Workers\n\t\t * to improve performance and avoid blocking the UI when highlighting very large chunks of code. This option is\n\t\t * [disabled by default](https://prismjs.com/faq.html#why-is-asynchronous-highlighting-disabled-by-default).\n\t\t *\n\t\t * Note: All language definitions required to highlight the code must be included in the main `prism.js` file for\n\t\t * asynchronous highlighting to work. You can build your own bundle on the\n\t\t * [Download page](https://prismjs.com/download.html).\n\t\t * @param {HighlightCallback} [callback] An optional callback to be invoked after the highlighting is done.\n\t\t * Mostly useful when `async` is `true`, since in that case, the highlighting is done asynchronously.\n\t\t * @memberof Prism\n\t\t * @public\n\t\t */\n\t\thighlightElement: function (element, async, callback) {\n\t\t\t// Find language\n\t\t\tvar language = _.util.getLanguage(element);\n\t\t\tvar grammar = _.languages[language];\n\n\t\t\t// Set language on the element, if not present\n\t\t\t_.util.setLanguage(element, language);\n\n\t\t\t// Set language on the parent, for styling\n\t\t\tvar parent = element.parentElement;\n\t\t\tif (parent && parent.nodeName.toLowerCase() === 'pre') {\n\t\t\t\t_.util.setLanguage(parent, language);\n\t\t\t}\n\n\t\t\tvar code = element.textContent;\n\n\t\t\tvar env = {\n\t\t\t\telement: element,\n\t\t\t\tlanguage: language,\n\t\t\t\tgrammar: grammar,\n\t\t\t\tcode: code\n\t\t\t};\n\n\t\t\tfunction insertHighlightedCode(highlightedCode) {\n\t\t\t\tenv.highlightedCode = highlightedCode;\n\n\t\t\t\t_.hooks.run('before-insert', env);\n\n\t\t\t\tenv.element.innerHTML = env.highlightedCode;\n\n\t\t\t\t_.hooks.run('after-highlight', env);\n\t\t\t\t_.hooks.run('complete', env);\n\t\t\t\tcallback && callback.call(env.element);\n\t\t\t}\n\n\t\t\t_.hooks.run('before-sanity-check', env);\n\n\t\t\t// plugins may change/add the parent/element\n\t\t\tparent = env.element.parentElement;\n\t\t\tif (parent && parent.nodeName.toLowerCase() === 'pre' && !parent.hasAttribute('tabindex')) {\n\t\t\t\tparent.setAttribute('tabindex', '0');\n\t\t\t}\n\n\t\t\tif (!env.code) {\n\t\t\t\t_.hooks.run('complete', env);\n\t\t\t\tcallback && callback.call(env.element);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t_.hooks.run('before-highlight', env);\n\n\t\t\tif (!env.grammar) {\n\t\t\t\tinsertHighlightedCode(_.util.encode(env.code));\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (async && _self.Worker) {\n\t\t\t\tvar worker = new Worker(_.filename);\n\n\t\t\t\tworker.onmessage = function (evt) {\n\t\t\t\t\tinsertHighlightedCode(evt.data);\n\t\t\t\t};\n\n\t\t\t\tworker.postMessage(JSON.stringify({\n\t\t\t\t\tlanguage: env.language,\n\t\t\t\t\tcode: env.code,\n\t\t\t\t\timmediateClose: true\n\t\t\t\t}));\n\t\t\t} else {\n\t\t\t\tinsertHighlightedCode(_.highlight(env.code, env.grammar, env.language));\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Low-level function, only use if you know what you’re doing. It accepts a string of text as input\n\t\t * and the language definitions to use, and returns a string with the HTML produced.\n\t\t *\n\t\t * The following hooks will be run:\n\t\t * 1. `before-tokenize`\n\t\t * 2. `after-tokenize`\n\t\t * 3. `wrap`: On each {@link Token}.\n\t\t *\n\t\t * @param {string} text A string with the code to be highlighted.\n\t\t * @param {Grammar} grammar An object containing the tokens to use.\n\t\t *\n\t\t * Usually a language definition like `Prism.languages.markup`.\n\t\t * @param {string} language The name of the language definition passed to `grammar`.\n\t\t * @returns {string} The highlighted HTML.\n\t\t * @memberof Prism\n\t\t * @public\n\t\t * @example\n\t\t * Prism.highlight('var foo = true;', Prism.languages.javascript, 'javascript');\n\t\t */\n\t\thighlight: function (text, grammar, language) {\n\t\t\tvar env = {\n\t\t\t\tcode: text,\n\t\t\t\tgrammar: grammar,\n\t\t\t\tlanguage: language\n\t\t\t};\n\t\t\t_.hooks.run('before-tokenize', env);\n\t\t\tif (!env.grammar) {\n\t\t\t\tthrow new Error('The language \"' + env.language + '\" has no grammar.');\n\t\t\t}\n\t\t\tenv.tokens = _.tokenize(env.code, env.grammar);\n\t\t\t_.hooks.run('after-tokenize', env);\n\t\t\treturn Token.stringify(_.util.encode(env.tokens), env.language);\n\t\t},\n\n\t\t/**\n\t\t * This is the heart of Prism, and the most low-level function you can use. It accepts a string of text as input\n\t\t * and the language definitions to use, and returns an array with the tokenized code.\n\t\t *\n\t\t * When the language definition includes nested tokens, the function is called recursively on each of these tokens.\n\t\t *\n\t\t * This method could be useful in other contexts as well, as a very crude parser.\n\t\t *\n\t\t * @param {string} text A string with the code to be highlighted.\n\t\t * @param {Grammar} grammar An object containing the tokens to use.\n\t\t *\n\t\t * Usually a language definition like `Prism.languages.markup`.\n\t\t * @returns {TokenStream} An array of strings and tokens, a token stream.\n\t\t * @memberof Prism\n\t\t * @public\n\t\t * @example\n\t\t * let code = `var foo = 0;`;\n\t\t * let tokens = Prism.tokenize(code, Prism.languages.javascript);\n\t\t * tokens.forEach(token => {\n\t\t *     if (token instanceof Prism.Token && token.type === 'number') {\n\t\t *         console.log(`Found numeric literal: ${token.content}`);\n\t\t *     }\n\t\t * });\n\t\t */\n\t\ttokenize: function (text, grammar) {\n\t\t\tvar rest = grammar.rest;\n\t\t\tif (rest) {\n\t\t\t\tfor (var token in rest) {\n\t\t\t\t\tgrammar[token] = rest[token];\n\t\t\t\t}\n\n\t\t\t\tdelete grammar.rest;\n\t\t\t}\n\n\t\t\tvar tokenList = new LinkedList();\n\t\t\taddAfter(tokenList, tokenList.head, text);\n\n\t\t\tmatchGrammar(text, tokenList, grammar, tokenList.head, 0);\n\n\t\t\treturn toArray(tokenList);\n\t\t},\n\n\t\t/**\n\t\t * @namespace\n\t\t * @memberof Prism\n\t\t * @public\n\t\t */\n\t\thooks: {\n\t\t\tall: {},\n\n\t\t\t/**\n\t\t\t * Adds the given callback to the list of callbacks for the given hook.\n\t\t\t *\n\t\t\t * The callback will be invoked when the hook it is registered for is run.\n\t\t\t * Hooks are usually directly run by a highlight function but you can also run hooks yourself.\n\t\t\t *\n\t\t\t * One callback function can be registered to multiple hooks and the same hook multiple times.\n\t\t\t *\n\t\t\t * @param {string} name The name of the hook.\n\t\t\t * @param {HookCallback} callback The callback function which is given environment variables.\n\t\t\t * @public\n\t\t\t */\n\t\t\tadd: function (name, callback) {\n\t\t\t\tvar hooks = _.hooks.all;\n\n\t\t\t\thooks[name] = hooks[name] || [];\n\n\t\t\t\thooks[name].push(callback);\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Runs a hook invoking all registered callbacks with the given environment variables.\n\t\t\t *\n\t\t\t * Callbacks will be invoked synchronously and in the order in which they were registered.\n\t\t\t *\n\t\t\t * @param {string} name The name of the hook.\n\t\t\t * @param {Object<string, any>} env The environment variables of the hook passed to all callbacks registered.\n\t\t\t * @public\n\t\t\t */\n\t\t\trun: function (name, env) {\n\t\t\t\tvar callbacks = _.hooks.all[name];\n\n\t\t\t\tif (!callbacks || !callbacks.length) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tfor (var i = 0, callback; (callback = callbacks[i++]);) {\n\t\t\t\t\tcallback(env);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tToken: Token\n\t};\n\t_self.Prism = _;\n\n\n\t// Typescript note:\n\t// The following can be used to import the Token type in JSDoc:\n\t//\n\t//   @typedef {InstanceType<import(\"./prism-core\")[\"Token\"]>} Token\n\n\t/**\n\t * Creates a new token.\n\t *\n\t * @param {string} type See {@link Token#type type}\n\t * @param {string | TokenStream} content See {@link Token#content content}\n\t * @param {string|string[]} [alias] The alias(es) of the token.\n\t * @param {string} [matchedStr=\"\"] A copy of the full string this token was created from.\n\t * @class\n\t * @global\n\t * @public\n\t */\n\tfunction Token(type, content, alias, matchedStr) {\n\t\t/**\n\t\t * The type of the token.\n\t\t *\n\t\t * This is usually the key of a pattern in a {@link Grammar}.\n\t\t *\n\t\t * @type {string}\n\t\t * @see GrammarToken\n\t\t * @public\n\t\t */\n\t\tthis.type = type;\n\t\t/**\n\t\t * The strings or tokens contained by this token.\n\t\t *\n\t\t * This will be a token stream if the pattern matched also defined an `inside` grammar.\n\t\t *\n\t\t * @type {string | TokenStream}\n\t\t * @public\n\t\t */\n\t\tthis.content = content;\n\t\t/**\n\t\t * The alias(es) of the token.\n\t\t *\n\t\t * @type {string|string[]}\n\t\t * @see GrammarToken\n\t\t * @public\n\t\t */\n\t\tthis.alias = alias;\n\t\t// Copy of the full string this token was created from\n\t\tthis.length = (matchedStr || '').length | 0;\n\t}\n\n\t/**\n\t * A token stream is an array of strings and {@link Token Token} objects.\n\t *\n\t * Token streams have to fulfill a few properties that are assumed by most functions (mostly internal ones) that process\n\t * them.\n\t *\n\t * 1. No adjacent strings.\n\t * 2. No empty strings.\n\t *\n\t *    The only exception here is the token stream that only contains the empty string and nothing else.\n\t *\n\t * @typedef {Array<string | Token>} TokenStream\n\t * @global\n\t * @public\n\t */\n\n\t/**\n\t * Converts the given token or token stream to an HTML representation.\n\t *\n\t * The following hooks will be run:\n\t * 1. `wrap`: On each {@link Token}.\n\t *\n\t * @param {string | Token | TokenStream} o The token or token stream to be converted.\n\t * @param {string} language The name of current language.\n\t * @returns {string} The HTML representation of the token or token stream.\n\t * @memberof Token\n\t * @static\n\t */\n\tToken.stringify = function stringify(o, language) {\n\t\tif (typeof o == 'string') {\n\t\t\treturn o;\n\t\t}\n\t\tif (Array.isArray(o)) {\n\t\t\tvar s = '';\n\t\t\to.forEach(function (e) {\n\t\t\t\ts += stringify(e, language);\n\t\t\t});\n\t\t\treturn s;\n\t\t}\n\n\t\tvar env = {\n\t\t\ttype: o.type,\n\t\t\tcontent: stringify(o.content, language),\n\t\t\ttag: 'span',\n\t\t\tclasses: ['token', o.type],\n\t\t\tattributes: {},\n\t\t\tlanguage: language\n\t\t};\n\n\t\tvar aliases = o.alias;\n\t\tif (aliases) {\n\t\t\tif (Array.isArray(aliases)) {\n\t\t\t\tArray.prototype.push.apply(env.classes, aliases);\n\t\t\t} else {\n\t\t\t\tenv.classes.push(aliases);\n\t\t\t}\n\t\t}\n\n\t\t_.hooks.run('wrap', env);\n\n\t\tvar attributes = '';\n\t\tfor (var name in env.attributes) {\n\t\t\tattributes += ' ' + name + '=\"' + (env.attributes[name] || '').replace(/\"/g, '&quot;') + '\"';\n\t\t}\n\n\t\treturn '<' + env.tag + ' class=\"' + env.classes.join(' ') + '\"' + attributes + '>' + env.content + '</' + env.tag + '>';\n\t};\n\n\t/**\n\t * @param {RegExp} pattern\n\t * @param {number} pos\n\t * @param {string} text\n\t * @param {boolean} lookbehind\n\t * @returns {RegExpExecArray | null}\n\t */\n\tfunction matchPattern(pattern, pos, text, lookbehind) {\n\t\tpattern.lastIndex = pos;\n\t\tvar match = pattern.exec(text);\n\t\tif (match && lookbehind && match[1]) {\n\t\t\t// change the match to remove the text matched by the Prism lookbehind group\n\t\t\tvar lookbehindLength = match[1].length;\n\t\t\tmatch.index += lookbehindLength;\n\t\t\tmatch[0] = match[0].slice(lookbehindLength);\n\t\t}\n\t\treturn match;\n\t}\n\n\t/**\n\t * @param {string} text\n\t * @param {LinkedList<string | Token>} tokenList\n\t * @param {any} grammar\n\t * @param {LinkedListNode<string | Token>} startNode\n\t * @param {number} startPos\n\t * @param {RematchOptions} [rematch]\n\t * @returns {void}\n\t * @private\n\t *\n\t * @typedef RematchOptions\n\t * @property {string} cause\n\t * @property {number} reach\n\t */\n\tfunction matchGrammar(text, tokenList, grammar, startNode, startPos, rematch) {\n\t\tfor (var token in grammar) {\n\t\t\tif (!grammar.hasOwnProperty(token) || !grammar[token]) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tvar patterns = grammar[token];\n\t\t\tpatterns = Array.isArray(patterns) ? patterns : [patterns];\n\n\t\t\tfor (var j = 0; j < patterns.length; ++j) {\n\t\t\t\tif (rematch && rematch.cause == token + ',' + j) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar patternObj = patterns[j];\n\t\t\t\tvar inside = patternObj.inside;\n\t\t\t\tvar lookbehind = !!patternObj.lookbehind;\n\t\t\t\tvar greedy = !!patternObj.greedy;\n\t\t\t\tvar alias = patternObj.alias;\n\n\t\t\t\tif (greedy && !patternObj.pattern.global) {\n\t\t\t\t\t// Without the global flag, lastIndex won't work\n\t\t\t\t\tvar flags = patternObj.pattern.toString().match(/[imsuy]*$/)[0];\n\t\t\t\t\tpatternObj.pattern = RegExp(patternObj.pattern.source, flags + 'g');\n\t\t\t\t}\n\n\t\t\t\t/** @type {RegExp} */\n\t\t\t\tvar pattern = patternObj.pattern || patternObj;\n\n\t\t\t\tfor ( // iterate the token list and keep track of the current token/string position\n\t\t\t\t\tvar currentNode = startNode.next, pos = startPos;\n\t\t\t\t\tcurrentNode !== tokenList.tail;\n\t\t\t\t\tpos += currentNode.value.length, currentNode = currentNode.next\n\t\t\t\t) {\n\n\t\t\t\t\tif (rematch && pos >= rematch.reach) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar str = currentNode.value;\n\n\t\t\t\t\tif (tokenList.length > text.length) {\n\t\t\t\t\t\t// Something went terribly wrong, ABORT, ABORT!\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (str instanceof Token) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar removeCount = 1; // this is the to parameter of removeBetween\n\t\t\t\t\tvar match;\n\n\t\t\t\t\tif (greedy) {\n\t\t\t\t\t\tmatch = matchPattern(pattern, pos, text, lookbehind);\n\t\t\t\t\t\tif (!match || match.index >= text.length) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar from = match.index;\n\t\t\t\t\t\tvar to = match.index + match[0].length;\n\t\t\t\t\t\tvar p = pos;\n\n\t\t\t\t\t\t// find the node that contains the match\n\t\t\t\t\t\tp += currentNode.value.length;\n\t\t\t\t\t\twhile (from >= p) {\n\t\t\t\t\t\t\tcurrentNode = currentNode.next;\n\t\t\t\t\t\t\tp += currentNode.value.length;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// adjust pos (and p)\n\t\t\t\t\t\tp -= currentNode.value.length;\n\t\t\t\t\t\tpos = p;\n\n\t\t\t\t\t\t// the current node is a Token, then the match starts inside another Token, which is invalid\n\t\t\t\t\t\tif (currentNode.value instanceof Token) {\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// find the last node which is affected by this match\n\t\t\t\t\t\tfor (\n\t\t\t\t\t\t\tvar k = currentNode;\n\t\t\t\t\t\t\tk !== tokenList.tail && (p < to || typeof k.value === 'string');\n\t\t\t\t\t\t\tk = k.next\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tremoveCount++;\n\t\t\t\t\t\t\tp += k.value.length;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tremoveCount--;\n\n\t\t\t\t\t\t// replace with the new match\n\t\t\t\t\t\tstr = text.slice(pos, p);\n\t\t\t\t\t\tmatch.index -= pos;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tmatch = matchPattern(pattern, 0, str, lookbehind);\n\t\t\t\t\t\tif (!match) {\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// eslint-disable-next-line no-redeclare\n\t\t\t\t\tvar from = match.index;\n\t\t\t\t\tvar matchStr = match[0];\n\t\t\t\t\tvar before = str.slice(0, from);\n\t\t\t\t\tvar after = str.slice(from + matchStr.length);\n\n\t\t\t\t\tvar reach = pos + str.length;\n\t\t\t\t\tif (rematch && reach > rematch.reach) {\n\t\t\t\t\t\trematch.reach = reach;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar removeFrom = currentNode.prev;\n\n\t\t\t\t\tif (before) {\n\t\t\t\t\t\tremoveFrom = addAfter(tokenList, removeFrom, before);\n\t\t\t\t\t\tpos += before.length;\n\t\t\t\t\t}\n\n\t\t\t\t\tremoveRange(tokenList, removeFrom, removeCount);\n\n\t\t\t\t\tvar wrapped = new Token(token, inside ? _.tokenize(matchStr, inside) : matchStr, alias, matchStr);\n\t\t\t\t\tcurrentNode = addAfter(tokenList, removeFrom, wrapped);\n\n\t\t\t\t\tif (after) {\n\t\t\t\t\t\taddAfter(tokenList, currentNode, after);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (removeCount > 1) {\n\t\t\t\t\t\t// at least one Token object was removed, so we have to do some rematching\n\t\t\t\t\t\t// this can only happen if the current pattern is greedy\n\n\t\t\t\t\t\t/** @type {RematchOptions} */\n\t\t\t\t\t\tvar nestedRematch = {\n\t\t\t\t\t\t\tcause: token + ',' + j,\n\t\t\t\t\t\t\treach: reach\n\t\t\t\t\t\t};\n\t\t\t\t\t\tmatchGrammar(text, tokenList, grammar, currentNode.prev, pos, nestedRematch);\n\n\t\t\t\t\t\t// the reach might have been extended because of the rematching\n\t\t\t\t\t\tif (rematch && nestedRematch.reach > rematch.reach) {\n\t\t\t\t\t\t\trematch.reach = nestedRematch.reach;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * @typedef LinkedListNode\n\t * @property {T} value\n\t * @property {LinkedListNode<T> | null} prev The previous node.\n\t * @property {LinkedListNode<T> | null} next The next node.\n\t * @template T\n\t * @private\n\t */\n\n\t/**\n\t * @template T\n\t * @private\n\t */\n\tfunction LinkedList() {\n\t\t/** @type {LinkedListNode<T>} */\n\t\tvar head = { value: null, prev: null, next: null };\n\t\t/** @type {LinkedListNode<T>} */\n\t\tvar tail = { value: null, prev: head, next: null };\n\t\thead.next = tail;\n\n\t\t/** @type {LinkedListNode<T>} */\n\t\tthis.head = head;\n\t\t/** @type {LinkedListNode<T>} */\n\t\tthis.tail = tail;\n\t\tthis.length = 0;\n\t}\n\n\t/**\n\t * Adds a new node with the given value to the list.\n\t *\n\t * @param {LinkedList<T>} list\n\t * @param {LinkedListNode<T>} node\n\t * @param {T} value\n\t * @returns {LinkedListNode<T>} The added node.\n\t * @template T\n\t */\n\tfunction addAfter(list, node, value) {\n\t\t// assumes that node != list.tail && values.length >= 0\n\t\tvar next = node.next;\n\n\t\tvar newNode = { value: value, prev: node, next: next };\n\t\tnode.next = newNode;\n\t\tnext.prev = newNode;\n\t\tlist.length++;\n\n\t\treturn newNode;\n\t}\n\t/**\n\t * Removes `count` nodes after the given node. The given node will not be removed.\n\t *\n\t * @param {LinkedList<T>} list\n\t * @param {LinkedListNode<T>} node\n\t * @param {number} count\n\t * @template T\n\t */\n\tfunction removeRange(list, node, count) {\n\t\tvar next = node.next;\n\t\tfor (var i = 0; i < count && next !== list.tail; i++) {\n\t\t\tnext = next.next;\n\t\t}\n\t\tnode.next = next;\n\t\tnext.prev = node;\n\t\tlist.length -= i;\n\t}\n\t/**\n\t * @param {LinkedList<T>} list\n\t * @returns {T[]}\n\t * @template T\n\t */\n\tfunction toArray(list) {\n\t\tvar array = [];\n\t\tvar node = list.head.next;\n\t\twhile (node !== list.tail) {\n\t\t\tarray.push(node.value);\n\t\t\tnode = node.next;\n\t\t}\n\t\treturn array;\n\t}\n\n\n\tif (!_self.document) {\n\t\tif (!_self.addEventListener) {\n\t\t\t// in Node.js\n\t\t\treturn _;\n\t\t}\n\n\t\tif (!_.disableWorkerMessageHandler) {\n\t\t\t// In worker\n\t\t\t_self.addEventListener('message', function (evt) {\n\t\t\t\tvar message = JSON.parse(evt.data);\n\t\t\t\tvar lang = message.language;\n\t\t\t\tvar code = message.code;\n\t\t\t\tvar immediateClose = message.immediateClose;\n\n\t\t\t\t_self.postMessage(_.highlight(code, _.languages[lang], lang));\n\t\t\t\tif (immediateClose) {\n\t\t\t\t\t_self.close();\n\t\t\t\t}\n\t\t\t}, false);\n\t\t}\n\n\t\treturn _;\n\t}\n\n\t// Get current script and highlight\n\tvar script = _.util.currentScript();\n\n\tif (script) {\n\t\t_.filename = script.src;\n\n\t\tif (script.hasAttribute('data-manual')) {\n\t\t\t_.manual = true;\n\t\t}\n\t}\n\n\tfunction highlightAutomaticallyCallback() {\n\t\tif (!_.manual) {\n\t\t\t_.highlightAll();\n\t\t}\n\t}\n\n\tif (!_.manual) {\n\t\t// If the document state is \"loading\", then we'll use DOMContentLoaded.\n\t\t// If the document state is \"interactive\" and the prism.js script is deferred, then we'll also use the\n\t\t// DOMContentLoaded event because there might be some plugins or languages which have also been deferred and they\n\t\t// might take longer one animation frame to execute which can create a race condition where only some plugins have\n\t\t// been loaded when Prism.highlightAll() is executed, depending on how fast resources are loaded.\n\t\t// See https://github.com/PrismJS/prism/issues/2102\n\t\tvar readyState = document.readyState;\n\t\tif (readyState === 'loading' || readyState === 'interactive' && script && script.defer) {\n\t\t\tdocument.addEventListener('DOMContentLoaded', highlightAutomaticallyCallback);\n\t\t} else {\n\t\t\tif (window.requestAnimationFrame) {\n\t\t\t\twindow.requestAnimationFrame(highlightAutomaticallyCallback);\n\t\t\t} else {\n\t\t\t\twindow.setTimeout(highlightAutomaticallyCallback, 16);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn _;\n\n}(_self));\n\nif (typeof module !== 'undefined' && module.exports) {\n\tmodule.exports = Prism;\n}\n\n// hack for components to work correctly in node.js\nif (typeof global !== 'undefined') {\n\tglobal.Prism = Prism;\n}\n\n// some additional documentation/types\n\n/**\n * The expansion of a simple `RegExp` literal to support additional properties.\n *\n * @typedef GrammarToken\n * @property {RegExp} pattern The regular expression of the token.\n * @property {boolean} [lookbehind=false] If `true`, then the first capturing group of `pattern` will (effectively)\n * behave as a lookbehind group meaning that the captured text will not be part of the matched text of the new token.\n * @property {boolean} [greedy=false] Whether the token is greedy.\n * @property {string|string[]} [alias] An optional alias or list of aliases.\n * @property {Grammar} [inside] The nested grammar of this token.\n *\n * The `inside` grammar will be used to tokenize the text value of each token of this kind.\n *\n * This can be used to make nested and even recursive language definitions.\n *\n * Note: This can cause infinite recursion. Be careful when you embed different languages or even the same language into\n * each another.\n * @global\n * @public\n */\n\n/**\n * @typedef Grammar\n * @type {Object<string, RegExp | GrammarToken | Array<RegExp | GrammarToken>>}\n * @property {Grammar} [rest] An optional grammar object that will be appended to this grammar.\n * @global\n * @public\n */\n\n/**\n * A function which will invoked after an element was successfully highlighted.\n *\n * @callback HighlightCallback\n * @param {Element} element The element successfully highlighted.\n * @returns {void}\n * @global\n * @public\n */\n\n/**\n * @callback HookCallback\n * @param {Object<string, any>} env The environment variables of the hook.\n * @returns {void}\n * @global\n * @public\n */\n\n\n/* **********************************************\n     Begin prism-markup.js\n********************************************** */\n\nPrism.languages.markup = {\n\t'comment': {\n\t\tpattern: /<!--(?:(?!<!--)[\\s\\S])*?-->/,\n\t\tgreedy: true\n\t},\n\t'prolog': {\n\t\tpattern: /<\\?[\\s\\S]+?\\?>/,\n\t\tgreedy: true\n\t},\n\t'doctype': {\n\t\t// https://www.w3.org/TR/xml/#NT-doctypedecl\n\t\tpattern: /<!DOCTYPE(?:[^>\"'[\\]]|\"[^\"]*\"|'[^']*')+(?:\\[(?:[^<\"'\\]]|\"[^\"]*\"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\\]\\s*)?>/i,\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\t'internal-subset': {\n\t\t\t\tpattern: /(^[^\\[]*\\[)[\\s\\S]+(?=\\]>$)/,\n\t\t\t\tlookbehind: true,\n\t\t\t\tgreedy: true,\n\t\t\t\tinside: null // see below\n\t\t\t},\n\t\t\t'string': {\n\t\t\t\tpattern: /\"[^\"]*\"|'[^']*'/,\n\t\t\t\tgreedy: true\n\t\t\t},\n\t\t\t'punctuation': /^<!|>$|[[\\]]/,\n\t\t\t'doctype-tag': /^DOCTYPE/i,\n\t\t\t'name': /[^\\s<>'\"]+/\n\t\t}\n\t},\n\t'cdata': {\n\t\tpattern: /<!\\[CDATA\\[[\\s\\S]*?\\]\\]>/i,\n\t\tgreedy: true\n\t},\n\t'tag': {\n\t\tpattern: /<\\/?(?!\\d)[^\\s>\\/=$<%]+(?:\\s(?:\\s*[^\\s>\\/=]+(?:\\s*=\\s*(?:\"[^\"]*\"|'[^']*'|[^\\s'\">=]+(?=[\\s>]))|(?=[\\s/>])))+)?\\s*\\/?>/,\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\t'tag': {\n\t\t\t\tpattern: /^<\\/?[^\\s>\\/]+/,\n\t\t\t\tinside: {\n\t\t\t\t\t'punctuation': /^<\\/?/,\n\t\t\t\t\t'namespace': /^[^\\s>\\/:]+:/\n\t\t\t\t}\n\t\t\t},\n\t\t\t'special-attr': [],\n\t\t\t'attr-value': {\n\t\t\t\tpattern: /=\\s*(?:\"[^\"]*\"|'[^']*'|[^\\s'\">=]+)/,\n\t\t\t\tinside: {\n\t\t\t\t\t'punctuation': [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tpattern: /^=/,\n\t\t\t\t\t\t\talias: 'attr-equals'\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tpattern: /^(\\s*)[\"']|[\"']$/,\n\t\t\t\t\t\t\tlookbehind: true\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t},\n\t\t\t'punctuation': /\\/?>/,\n\t\t\t'attr-name': {\n\t\t\t\tpattern: /[^\\s>\\/]+/,\n\t\t\t\tinside: {\n\t\t\t\t\t'namespace': /^[^\\s>\\/:]+:/\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\t},\n\t'entity': [\n\t\t{\n\t\t\tpattern: /&[\\da-z]{1,8};/i,\n\t\t\talias: 'named-entity'\n\t\t},\n\t\t/&#x?[\\da-f]{1,8};/i\n\t]\n};\n\nPrism.languages.markup['tag'].inside['attr-value'].inside['entity'] =\n\tPrism.languages.markup['entity'];\nPrism.languages.markup['doctype'].inside['internal-subset'].inside = Prism.languages.markup;\n\n// Plugin to make entity title show the real entity, idea by Roman Komarov\nPrism.hooks.add('wrap', function (env) {\n\n\tif (env.type === 'entity') {\n\t\tenv.attributes['title'] = env.content.replace(/&amp;/, '&');\n\t}\n});\n\nObject.defineProperty(Prism.languages.markup.tag, 'addInlined', {\n\t/**\n\t * Adds an inlined language to markup.\n\t *\n\t * An example of an inlined language is CSS with `<style>` tags.\n\t *\n\t * @param {string} tagName The name of the tag that contains the inlined language. This name will be treated as\n\t * case insensitive.\n\t * @param {string} lang The language key.\n\t * @example\n\t * addInlined('style', 'css');\n\t */\n\tvalue: function addInlined(tagName, lang) {\n\t\tvar includedCdataInside = {};\n\t\tincludedCdataInside['language-' + lang] = {\n\t\t\tpattern: /(^<!\\[CDATA\\[)[\\s\\S]+?(?=\\]\\]>$)/i,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages[lang]\n\t\t};\n\t\tincludedCdataInside['cdata'] = /^<!\\[CDATA\\[|\\]\\]>$/i;\n\n\t\tvar inside = {\n\t\t\t'included-cdata': {\n\t\t\t\tpattern: /<!\\[CDATA\\[[\\s\\S]*?\\]\\]>/i,\n\t\t\t\tinside: includedCdataInside\n\t\t\t}\n\t\t};\n\t\tinside['language-' + lang] = {\n\t\t\tpattern: /[\\s\\S]+/,\n\t\t\tinside: Prism.languages[lang]\n\t\t};\n\n\t\tvar def = {};\n\t\tdef[tagName] = {\n\t\t\tpattern: RegExp(/(<__[^>]*>)(?:<!\\[CDATA\\[(?:[^\\]]|\\](?!\\]>))*\\]\\]>|(?!<!\\[CDATA\\[)[\\s\\S])*?(?=<\\/__>)/.source.replace(/__/g, function () { return tagName; }), 'i'),\n\t\t\tlookbehind: true,\n\t\t\tgreedy: true,\n\t\t\tinside: inside\n\t\t};\n\n\t\tPrism.languages.insertBefore('markup', 'cdata', def);\n\t}\n});\nObject.defineProperty(Prism.languages.markup.tag, 'addAttribute', {\n\t/**\n\t * Adds an pattern to highlight languages embedded in HTML attributes.\n\t *\n\t * An example of an inlined language is CSS with `style` attributes.\n\t *\n\t * @param {string} attrName The name of the tag that contains the inlined language. This name will be treated as\n\t * case insensitive.\n\t * @param {string} lang The language key.\n\t * @example\n\t * addAttribute('style', 'css');\n\t */\n\tvalue: function (attrName, lang) {\n\t\tPrism.languages.markup.tag.inside['special-attr'].push({\n\t\t\tpattern: RegExp(\n\t\t\t\t/(^|[\"'\\s])/.source + '(?:' + attrName + ')' + /\\s*=\\s*(?:\"[^\"]*\"|'[^']*'|[^\\s'\">=]+(?=[\\s>]))/.source,\n\t\t\t\t'i'\n\t\t\t),\n\t\t\tlookbehind: true,\n\t\t\tinside: {\n\t\t\t\t'attr-name': /^[^\\s=]+/,\n\t\t\t\t'attr-value': {\n\t\t\t\t\tpattern: /=[\\s\\S]+/,\n\t\t\t\t\tinside: {\n\t\t\t\t\t\t'value': {\n\t\t\t\t\t\t\tpattern: /(^=\\s*([\"']|(?![\"'])))\\S[\\s\\S]*(?=\\2$)/,\n\t\t\t\t\t\t\tlookbehind: true,\n\t\t\t\t\t\t\talias: [lang, 'language-' + lang],\n\t\t\t\t\t\t\tinside: Prism.languages[lang]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t'punctuation': [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tpattern: /^=/,\n\t\t\t\t\t\t\t\talias: 'attr-equals'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t/\"|'/\n\t\t\t\t\t\t]\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n});\n\nPrism.languages.html = Prism.languages.markup;\nPrism.languages.mathml = Prism.languages.markup;\nPrism.languages.svg = Prism.languages.markup;\n\nPrism.languages.xml = Prism.languages.extend('markup', {});\nPrism.languages.ssml = Prism.languages.xml;\nPrism.languages.atom = Prism.languages.xml;\nPrism.languages.rss = Prism.languages.xml;\n\n\n/* **********************************************\n     Begin prism-css.js\n********************************************** */\n\n(function (Prism) {\n\n\tvar string = /(?:\"(?:\\\\(?:\\r\\n|[\\s\\S])|[^\"\\\\\\r\\n])*\"|'(?:\\\\(?:\\r\\n|[\\s\\S])|[^'\\\\\\r\\n])*')/;\n\n\tPrism.languages.css = {\n\t\t'comment': /\\/\\*[\\s\\S]*?\\*\\//,\n\t\t'atrule': {\n\t\t\tpattern: RegExp('@[\\\\w-](?:' + /[^;{\\s\"']|\\s+(?!\\s)/.source + '|' + string.source + ')*?' + /(?:;|(?=\\s*\\{))/.source),\n\t\t\tinside: {\n\t\t\t\t'rule': /^@[\\w-]+/,\n\t\t\t\t'selector-function-argument': {\n\t\t\t\t\tpattern: /(\\bselector\\s*\\(\\s*(?![\\s)]))(?:[^()\\s]|\\s+(?![\\s)])|\\((?:[^()]|\\([^()]*\\))*\\))+(?=\\s*\\))/,\n\t\t\t\t\tlookbehind: true,\n\t\t\t\t\talias: 'selector'\n\t\t\t\t},\n\t\t\t\t'keyword': {\n\t\t\t\t\tpattern: /(^|[^\\w-])(?:and|not|only|or)(?![\\w-])/,\n\t\t\t\t\tlookbehind: true\n\t\t\t\t}\n\t\t\t\t// See rest below\n\t\t\t}\n\t\t},\n\t\t'url': {\n\t\t\t// https://drafts.csswg.org/css-values-3/#urls\n\t\t\tpattern: RegExp('\\\\burl\\\\((?:' + string.source + '|' + /(?:[^\\\\\\r\\n()\"']|\\\\[\\s\\S])*/.source + ')\\\\)', 'i'),\n\t\t\tgreedy: true,\n\t\t\tinside: {\n\t\t\t\t'function': /^url/i,\n\t\t\t\t'punctuation': /^\\(|\\)$/,\n\t\t\t\t'string': {\n\t\t\t\t\tpattern: RegExp('^' + string.source + '$'),\n\t\t\t\t\talias: 'url'\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t'selector': {\n\t\t\tpattern: RegExp('(^|[{}\\\\s])[^{}\\\\s](?:[^{};\"\\'\\\\s]|\\\\s+(?![\\\\s{])|' + string.source + ')*(?=\\\\s*\\\\{)'),\n\t\t\tlookbehind: true\n\t\t},\n\t\t'string': {\n\t\t\tpattern: string,\n\t\t\tgreedy: true\n\t\t},\n\t\t'property': {\n\t\t\tpattern: /(^|[^-\\w\\xA0-\\uFFFF])(?!\\s)[-_a-z\\xA0-\\uFFFF](?:(?!\\s)[-\\w\\xA0-\\uFFFF])*(?=\\s*:)/i,\n\t\t\tlookbehind: true\n\t\t},\n\t\t'important': /!important\\b/i,\n\t\t'function': {\n\t\t\tpattern: /(^|[^-a-z0-9])[-a-z0-9]+(?=\\()/i,\n\t\t\tlookbehind: true\n\t\t},\n\t\t'punctuation': /[(){};:,]/\n\t};\n\n\tPrism.languages.css['atrule'].inside.rest = Prism.languages.css;\n\n\tvar markup = Prism.languages.markup;\n\tif (markup) {\n\t\tmarkup.tag.addInlined('style', 'css');\n\t\tmarkup.tag.addAttribute('style', 'css');\n\t}\n\n}(Prism));\n\n\n/* **********************************************\n     Begin prism-clike.js\n********************************************** */\n\nPrism.languages.clike = {\n\t'comment': [\n\t\t{\n\t\t\tpattern: /(^|[^\\\\])\\/\\*[\\s\\S]*?(?:\\*\\/|$)/,\n\t\t\tlookbehind: true,\n\t\t\tgreedy: true\n\t\t},\n\t\t{\n\t\t\tpattern: /(^|[^\\\\:])\\/\\/.*/,\n\t\t\tlookbehind: true,\n\t\t\tgreedy: true\n\t\t}\n\t],\n\t'string': {\n\t\tpattern: /([\"'])(?:\\\\(?:\\r\\n|[\\s\\S])|(?!\\1)[^\\\\\\r\\n])*\\1/,\n\t\tgreedy: true\n\t},\n\t'class-name': {\n\t\tpattern: /(\\b(?:class|extends|implements|instanceof|interface|new|trait)\\s+|\\bcatch\\s+\\()[\\w.\\\\]+/i,\n\t\tlookbehind: true,\n\t\tinside: {\n\t\t\t'punctuation': /[.\\\\]/\n\t\t}\n\t},\n\t'keyword': /\\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\\b/,\n\t'boolean': /\\b(?:false|true)\\b/,\n\t'function': /\\b\\w+(?=\\()/,\n\t'number': /\\b0x[\\da-f]+\\b|(?:\\b\\d+(?:\\.\\d*)?|\\B\\.\\d+)(?:e[+-]?\\d+)?/i,\n\t'operator': /[<>]=?|[!=]=?=?|--?|\\+\\+?|&&?|\\|\\|?|[?*/~^%]/,\n\t'punctuation': /[{}[\\];(),.:]/\n};\n\n\n/* **********************************************\n     Begin prism-javascript.js\n********************************************** */\n\nPrism.languages.javascript = Prism.languages.extend('clike', {\n\t'class-name': [\n\t\tPrism.languages.clike['class-name'],\n\t\t{\n\t\t\tpattern: /(^|[^$\\w\\xA0-\\uFFFF])(?!\\s)[_$A-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*(?=\\.(?:constructor|prototype))/,\n\t\t\tlookbehind: true\n\t\t}\n\t],\n\t'keyword': [\n\t\t{\n\t\t\tpattern: /((?:^|\\})\\s*)catch\\b/,\n\t\t\tlookbehind: true\n\t\t},\n\t\t{\n\t\t\tpattern: /(^|[^.]|\\.\\.\\.\\s*)\\b(?:as|assert(?=\\s*\\{)|async(?=\\s*(?:function\\b|\\(|[$\\w\\xA0-\\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\\s*(?:\\{|$))|for|from(?=\\s*(?:['\"]|$))|function|(?:get|set)(?=\\s*(?:[#\\[$\\w\\xA0-\\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\\b/,\n\t\t\tlookbehind: true\n\t\t},\n\t],\n\t// Allow for all non-ASCII characters (See http://stackoverflow.com/a/2008444)\n\t'function': /#?(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*(?=\\s*(?:\\.\\s*(?:apply|bind|call)\\s*)?\\()/,\n\t'number': {\n\t\tpattern: RegExp(\n\t\t\t/(^|[^\\w$])/.source +\n\t\t\t'(?:' +\n\t\t\t(\n\t\t\t\t// constant\n\t\t\t\t/NaN|Infinity/.source +\n\t\t\t\t'|' +\n\t\t\t\t// binary integer\n\t\t\t\t/0[bB][01]+(?:_[01]+)*n?/.source +\n\t\t\t\t'|' +\n\t\t\t\t// octal integer\n\t\t\t\t/0[oO][0-7]+(?:_[0-7]+)*n?/.source +\n\t\t\t\t'|' +\n\t\t\t\t// hexadecimal integer\n\t\t\t\t/0[xX][\\dA-Fa-f]+(?:_[\\dA-Fa-f]+)*n?/.source +\n\t\t\t\t'|' +\n\t\t\t\t// decimal bigint\n\t\t\t\t/\\d+(?:_\\d+)*n/.source +\n\t\t\t\t'|' +\n\t\t\t\t// decimal number (integer or float) but no bigint\n\t\t\t\t/(?:\\d+(?:_\\d+)*(?:\\.(?:\\d+(?:_\\d+)*)?)?|\\.\\d+(?:_\\d+)*)(?:[Ee][+-]?\\d+(?:_\\d+)*)?/.source\n\t\t\t) +\n\t\t\t')' +\n\t\t\t/(?![\\w$])/.source\n\t\t),\n\t\tlookbehind: true\n\t},\n\t'operator': /--|\\+\\+|\\*\\*=?|=>|&&=?|\\|\\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\\.{3}|\\?\\?=?|\\?\\.?|[~:]/\n});\n\nPrism.languages.javascript['class-name'][0].pattern = /(\\b(?:class|extends|implements|instanceof|interface|new)\\s+)[\\w.\\\\]+/;\n\nPrism.languages.insertBefore('javascript', 'keyword', {\n\t'regex': {\n\t\tpattern: RegExp(\n\t\t\t// lookbehind\n\t\t\t// eslint-disable-next-line regexp/no-dupe-characters-character-class\n\t\t\t/((?:^|[^$\\w\\xA0-\\uFFFF.\"'\\])\\s]|\\b(?:return|yield))\\s*)/.source +\n\t\t\t// Regex pattern:\n\t\t\t// There are 2 regex patterns here. The RegExp set notation proposal added support for nested character\n\t\t\t// classes if the `v` flag is present. Unfortunately, nested CCs are both context-free and incompatible\n\t\t\t// with the only syntax, so we have to define 2 different regex patterns.\n\t\t\t/\\//.source +\n\t\t\t'(?:' +\n\t\t\t/(?:\\[(?:[^\\]\\\\\\r\\n]|\\\\.)*\\]|\\\\.|[^/\\\\\\[\\r\\n])+\\/[dgimyus]{0,7}/.source +\n\t\t\t'|' +\n\t\t\t// `v` flag syntax. This supports 3 levels of nested character classes.\n\t\t\t/(?:\\[(?:[^[\\]\\\\\\r\\n]|\\\\.|\\[(?:[^[\\]\\\\\\r\\n]|\\\\.|\\[(?:[^[\\]\\\\\\r\\n]|\\\\.)*\\])*\\])*\\]|\\\\.|[^/\\\\\\[\\r\\n])+\\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source +\n\t\t\t')' +\n\t\t\t// lookahead\n\t\t\t/(?=(?:\\s|\\/\\*(?:[^*]|\\*(?!\\/))*\\*\\/)*(?:$|[\\r\\n,.;:})\\]]|\\/\\/))/.source\n\t\t),\n\t\tlookbehind: true,\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\t'regex-source': {\n\t\t\t\tpattern: /^(\\/)[\\s\\S]+(?=\\/[a-z]*$)/,\n\t\t\t\tlookbehind: true,\n\t\t\t\talias: 'language-regex',\n\t\t\t\tinside: Prism.languages.regex\n\t\t\t},\n\t\t\t'regex-delimiter': /^\\/|\\/$/,\n\t\t\t'regex-flags': /^[a-z]+$/,\n\t\t}\n\t},\n\t// This must be declared before keyword because we use \"function\" inside the look-forward\n\t'function-variable': {\n\t\tpattern: /#?(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*(?=\\s*[=:]\\s*(?:async\\s*)?(?:\\bfunction\\b|(?:\\((?:[^()]|\\([^()]*\\))*\\)|(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*)\\s*=>))/,\n\t\talias: 'function'\n\t},\n\t'parameter': [\n\t\t{\n\t\t\tpattern: /(function(?:\\s+(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*)?\\s*\\(\\s*)(?!\\s)(?:[^()\\s]|\\s+(?![\\s)])|\\([^()]*\\))+(?=\\s*\\))/,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages.javascript\n\t\t},\n\t\t{\n\t\t\tpattern: /(^|[^$\\w\\xA0-\\uFFFF])(?!\\s)[_$a-z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*(?=\\s*=>)/i,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages.javascript\n\t\t},\n\t\t{\n\t\t\tpattern: /(\\(\\s*)(?!\\s)(?:[^()\\s]|\\s+(?![\\s)])|\\([^()]*\\))+(?=\\s*\\)\\s*=>)/,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages.javascript\n\t\t},\n\t\t{\n\t\t\tpattern: /((?:\\b|\\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\\w\\xA0-\\uFFFF]))(?:(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*\\s*)\\(\\s*|\\]\\s*\\(\\s*)(?!\\s)(?:[^()\\s]|\\s+(?![\\s)])|\\([^()]*\\))+(?=\\s*\\)\\s*\\{)/,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages.javascript\n\t\t}\n\t],\n\t'constant': /\\b[A-Z](?:[A-Z_]|\\dx?)*\\b/\n});\n\nPrism.languages.insertBefore('javascript', 'string', {\n\t'hashbang': {\n\t\tpattern: /^#!.*/,\n\t\tgreedy: true,\n\t\talias: 'comment'\n\t},\n\t'template-string': {\n\t\tpattern: /`(?:\\\\[\\s\\S]|\\$\\{(?:[^{}]|\\{(?:[^{}]|\\{[^}]*\\})*\\})+\\}|(?!\\$\\{)[^\\\\`])*`/,\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\t'template-punctuation': {\n\t\t\t\tpattern: /^`|`$/,\n\t\t\t\talias: 'string'\n\t\t\t},\n\t\t\t'interpolation': {\n\t\t\t\tpattern: /((?:^|[^\\\\])(?:\\\\{2})*)\\$\\{(?:[^{}]|\\{(?:[^{}]|\\{[^}]*\\})*\\})+\\}/,\n\t\t\t\tlookbehind: true,\n\t\t\t\tinside: {\n\t\t\t\t\t'interpolation-punctuation': {\n\t\t\t\t\t\tpattern: /^\\$\\{|\\}$/,\n\t\t\t\t\t\talias: 'punctuation'\n\t\t\t\t\t},\n\t\t\t\t\trest: Prism.languages.javascript\n\t\t\t\t}\n\t\t\t},\n\t\t\t'string': /[\\s\\S]+/\n\t\t}\n\t},\n\t'string-property': {\n\t\tpattern: /((?:^|[,{])[ \\t]*)([\"'])(?:\\\\(?:\\r\\n|[\\s\\S])|(?!\\2)[^\\\\\\r\\n])*\\2(?=\\s*:)/m,\n\t\tlookbehind: true,\n\t\tgreedy: true,\n\t\talias: 'property'\n\t}\n});\n\nPrism.languages.insertBefore('javascript', 'operator', {\n\t'literal-property': {\n\t\tpattern: /((?:^|[,{])[ \\t]*)(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*(?=\\s*:)/m,\n\t\tlookbehind: true,\n\t\talias: 'property'\n\t},\n});\n\nif (Prism.languages.markup) {\n\tPrism.languages.markup.tag.addInlined('script', 'javascript');\n\n\t// add attribute support for all DOM events.\n\t// https://developer.mozilla.org/en-US/docs/Web/Events#Standard_events\n\tPrism.languages.markup.tag.addAttribute(\n\t\t/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,\n\t\t'javascript'\n\t);\n}\n\nPrism.languages.js = Prism.languages.javascript;\n\n\n/* **********************************************\n     Begin prism-file-highlight.js\n********************************************** */\n\n(function () {\n\n\tif (typeof Prism === 'undefined' || typeof document === 'undefined') {\n\t\treturn;\n\t}\n\n\t// https://developer.mozilla.org/en-US/docs/Web/API/Element/matches#Polyfill\n\tif (!Element.prototype.matches) {\n\t\tElement.prototype.matches = Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector;\n\t}\n\n\tvar LOADING_MESSAGE = 'Loading…';\n\tvar FAILURE_MESSAGE = function (status, message) {\n\t\treturn '✖ Error ' + status + ' while fetching file: ' + message;\n\t};\n\tvar FAILURE_EMPTY_MESSAGE = '✖ Error: File does not exist or is empty';\n\n\tvar EXTENSIONS = {\n\t\t'js': 'javascript',\n\t\t'py': 'python',\n\t\t'rb': 'ruby',\n\t\t'ps1': 'powershell',\n\t\t'psm1': 'powershell',\n\t\t'sh': 'bash',\n\t\t'bat': 'batch',\n\t\t'h': 'c',\n\t\t'tex': 'latex'\n\t};\n\n\tvar STATUS_ATTR = 'data-src-status';\n\tvar STATUS_LOADING = 'loading';\n\tvar STATUS_LOADED = 'loaded';\n\tvar STATUS_FAILED = 'failed';\n\n\tvar SELECTOR = 'pre[data-src]:not([' + STATUS_ATTR + '=\"' + STATUS_LOADED + '\"])'\n\t\t+ ':not([' + STATUS_ATTR + '=\"' + STATUS_LOADING + '\"])';\n\n\t/**\n\t * Loads the given file.\n\t *\n\t * @param {string} src The URL or path of the source file to load.\n\t * @param {(result: string) => void} success\n\t * @param {(reason: string) => void} error\n\t */\n\tfunction loadFile(src, success, error) {\n\t\tvar xhr = new XMLHttpRequest();\n\t\txhr.open('GET', src, true);\n\t\txhr.onreadystatechange = function () {\n\t\t\tif (xhr.readyState == 4) {\n\t\t\t\tif (xhr.status < 400 && xhr.responseText) {\n\t\t\t\t\tsuccess(xhr.responseText);\n\t\t\t\t} else {\n\t\t\t\t\tif (xhr.status >= 400) {\n\t\t\t\t\t\terror(FAILURE_MESSAGE(xhr.status, xhr.statusText));\n\t\t\t\t\t} else {\n\t\t\t\t\t\terror(FAILURE_EMPTY_MESSAGE);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\txhr.send(null);\n\t}\n\n\t/**\n\t * Parses the given range.\n\t *\n\t * This returns a range with inclusive ends.\n\t *\n\t * @param {string | null | undefined} range\n\t * @returns {[number, number | undefined] | undefined}\n\t */\n\tfunction parseRange(range) {\n\t\tvar m = /^\\s*(\\d+)\\s*(?:(,)\\s*(?:(\\d+)\\s*)?)?$/.exec(range || '');\n\t\tif (m) {\n\t\t\tvar start = Number(m[1]);\n\t\t\tvar comma = m[2];\n\t\t\tvar end = m[3];\n\n\t\t\tif (!comma) {\n\t\t\t\treturn [start, start];\n\t\t\t}\n\t\t\tif (!end) {\n\t\t\t\treturn [start, undefined];\n\t\t\t}\n\t\t\treturn [start, Number(end)];\n\t\t}\n\t\treturn undefined;\n\t}\n\n\tPrism.hooks.add('before-highlightall', function (env) {\n\t\tenv.selector += ', ' + SELECTOR;\n\t});\n\n\tPrism.hooks.add('before-sanity-check', function (env) {\n\t\tvar pre = /** @type {HTMLPreElement} */ (env.element);\n\t\tif (pre.matches(SELECTOR)) {\n\t\t\tenv.code = ''; // fast-path the whole thing and go to complete\n\n\t\t\tpre.setAttribute(STATUS_ATTR, STATUS_LOADING); // mark as loading\n\n\t\t\t// add code element with loading message\n\t\t\tvar code = pre.appendChild(document.createElement('CODE'));\n\t\t\tcode.textContent = LOADING_MESSAGE;\n\n\t\t\tvar src = pre.getAttribute('data-src');\n\n\t\t\tvar language = env.language;\n\t\t\tif (language === 'none') {\n\t\t\t\t// the language might be 'none' because there is no language set;\n\t\t\t\t// in this case, we want to use the extension as the language\n\t\t\t\tvar extension = (/\\.(\\w+)$/.exec(src) || [, 'none'])[1];\n\t\t\t\tlanguage = EXTENSIONS[extension] || extension;\n\t\t\t}\n\n\t\t\t// set language classes\n\t\t\tPrism.util.setLanguage(code, language);\n\t\t\tPrism.util.setLanguage(pre, language);\n\n\t\t\t// preload the language\n\t\t\tvar autoloader = Prism.plugins.autoloader;\n\t\t\tif (autoloader) {\n\t\t\t\tautoloader.loadLanguages(language);\n\t\t\t}\n\n\t\t\t// load file\n\t\t\tloadFile(\n\t\t\t\tsrc,\n\t\t\t\tfunction (text) {\n\t\t\t\t\t// mark as loaded\n\t\t\t\t\tpre.setAttribute(STATUS_ATTR, STATUS_LOADED);\n\n\t\t\t\t\t// handle data-range\n\t\t\t\t\tvar range = parseRange(pre.getAttribute('data-range'));\n\t\t\t\t\tif (range) {\n\t\t\t\t\t\tvar lines = text.split(/\\r\\n?|\\n/g);\n\n\t\t\t\t\t\t// the range is one-based and inclusive on both ends\n\t\t\t\t\t\tvar start = range[0];\n\t\t\t\t\t\tvar end = range[1] == null ? lines.length : range[1];\n\n\t\t\t\t\t\tif (start < 0) { start += lines.length; }\n\t\t\t\t\t\tstart = Math.max(0, Math.min(start - 1, lines.length));\n\t\t\t\t\t\tif (end < 0) { end += lines.length; }\n\t\t\t\t\t\tend = Math.max(0, Math.min(end, lines.length));\n\n\t\t\t\t\t\ttext = lines.slice(start, end).join('\\n');\n\n\t\t\t\t\t\t// add data-start for line numbers\n\t\t\t\t\t\tif (!pre.hasAttribute('data-start')) {\n\t\t\t\t\t\t\tpre.setAttribute('data-start', String(start + 1));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// highlight code\n\t\t\t\t\tcode.textContent = text;\n\t\t\t\t\tPrism.highlightElement(code);\n\t\t\t\t},\n\t\t\t\tfunction (error) {\n\t\t\t\t\t// mark as failed\n\t\t\t\t\tpre.setAttribute(STATUS_ATTR, STATUS_FAILED);\n\n\t\t\t\t\tcode.textContent = error;\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t});\n\n\tPrism.plugins.fileHighlight = {\n\t\t/**\n\t\t * Executes the File Highlight plugin for all matching `pre` elements under the given container.\n\t\t *\n\t\t * Note: Elements which are already loaded or currently loading will not be touched by this method.\n\t\t *\n\t\t * @param {ParentNode} [container=document]\n\t\t */\n\t\thighlight: function highlight(container) {\n\t\t\tvar elements = (container || document).querySelectorAll(SELECTOR);\n\n\t\t\tfor (var i = 0, element; (element = elements[i++]);) {\n\t\t\t\tPrism.highlightElement(element);\n\t\t\t}\n\t\t}\n\t};\n\n\tvar logged = false;\n\t/** @deprecated Use `Prism.plugins.fileHighlight.highlight` instead. */\n\tPrism.fileHighlight = function () {\n\t\tif (!logged) {\n\t\t\tconsole.warn('Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead.');\n\t\t\tlogged = true;\n\t\t}\n\t\tPrism.plugins.fileHighlight.highlight.apply(this, arguments);\n\t};\n\n}());\n","import { Button } from 'antd';\nimport { CodepenOutlined } from '@ant-design/icons';\nimport { setCode, setLanguage } from './utils/node';\nimport { useSlate } from 'slate-react';\nimport { Select } from 'antd';\nimport Prism from 'prismjs';\nimport 'prismjs/components/prism-sql';\nimport 'prismjs/components/prism-go';\nimport 'prismjs/components/prism-python';\nimport 'prismjs/components/prism-typescript';\nimport 'prismjs/components/prism-php';\nimport 'prismjs/components/prism-c';\nimport 'prismjs/components/prism-java';\nimport 'prismjs/components/prism-ruby';\nimport 'prismjs/components/prism-json';\nimport 'prismjs/components/prism-markdown';\nimport React from 'react';\n\nconst { Option } = Select;\n\nconst EditMenu = props => {\n\tconst { element } = props;\n\tconst editor = useSlate();\n\n\tconst options = [];\n\tfor (var language in Prism.languages) {\n\t\toptions.push(\n\t\t\t<Option key={language} value={language}>\n\t\t\t\t{language}\n\t\t\t</Option>\n\t\t);\n\t}\n\n\treturn (\n\t\t<Select\n\t\t\tvalue={element.language}\n\t\t\tonChange={v => {\n\t\t\t\tsetLanguage(editor, element, v);\n\t\t\t}}\n\t\t\tshowSearch\n\t\t\tstyle={{ width: '100%' }}\n\t\t\tplaceholder=\"搜索语言\"\n\t\t\toptionFilterProp=\"children\"\n\t\t\tfilterOption={(input, option) => option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0}\n\t\t\tfilterSort={(optionA, optionB) =>\n\t\t\t\toptionA.children.toLowerCase().localeCompare(optionB.children.toLowerCase())\n\t\t\t}\n\t\t>\n\t\t\t{options}\n\t\t</Select>\n\t);\n};\n\nconst AddMenu = props => {\n\tconst editor = useSlate();\n\tconst { element } = props;\n\n\treturn (\n\t\t<Button\n\t\t\ttype=\"text\"\n\t\t\ticon={<CodepenOutlined style={{ color: '#262626' }} />}\n\t\t\tstyle={{ width: '100%', textAlign: 'left' }}\n\t\t\tonMouseDown={() => {\n\t\t\t\tsetCode(editor, element);\n\t\t\t}}\n\t\t>\n\t\t\t代码块\n\t\t</Button>\n\t);\n};\n\nexport { EditMenu, AddMenu };\n","Prism.languages.sql = {\n\t'comment': {\n\t\tpattern: /(^|[^\\\\])(?:\\/\\*[\\s\\S]*?\\*\\/|(?:--|\\/\\/|#).*)/,\n\t\tlookbehind: true\n\t},\n\t'variable': [\n\t\t{\n\t\t\tpattern: /@([\"'`])(?:\\\\[\\s\\S]|(?!\\1)[^\\\\])+\\1/,\n\t\t\tgreedy: true\n\t\t},\n\t\t/@[\\w.$]+/\n\t],\n\t'string': {\n\t\tpattern: /(^|[^@\\\\])(\"|')(?:\\\\[\\s\\S]|(?!\\2)[^\\\\]|\\2\\2)*\\2/,\n\t\tgreedy: true,\n\t\tlookbehind: true\n\t},\n\t'identifier': {\n\t\tpattern: /(^|[^@\\\\])`(?:\\\\[\\s\\S]|[^`\\\\]|``)*`/,\n\t\tgreedy: true,\n\t\tlookbehind: true,\n\t\tinside: {\n\t\t\t'punctuation': /^`|`$/\n\t\t}\n\t},\n\t'function': /\\b(?:AVG|COUNT|FIRST|FORMAT|LAST|LCASE|LEN|MAX|MID|MIN|MOD|NOW|ROUND|SUM|UCASE)(?=\\s*\\()/i, // Should we highlight user defined functions too?\n\t'keyword': /\\b(?:ACTION|ADD|AFTER|ALGORITHM|ALL|ALTER|ANALYZE|ANY|APPLY|AS|ASC|AUTHORIZATION|AUTO_INCREMENT|BACKUP|BDB|BEGIN|BERKELEYDB|BIGINT|BINARY|BIT|BLOB|BOOL|BOOLEAN|BREAK|BROWSE|BTREE|BULK|BY|CALL|CASCADED?|CASE|CHAIN|CHAR(?:ACTER|SET)?|CHECK(?:POINT)?|CLOSE|CLUSTERED|COALESCE|COLLATE|COLUMNS?|COMMENT|COMMIT(?:TED)?|COMPUTE|CONNECT|CONSISTENT|CONSTRAINT|CONTAINS(?:TABLE)?|CONTINUE|CONVERT|CREATE|CROSS|CURRENT(?:_DATE|_TIME|_TIMESTAMP|_USER)?|CURSOR|CYCLE|DATA(?:BASES?)?|DATE(?:TIME)?|DAY|DBCC|DEALLOCATE|DEC|DECIMAL|DECLARE|DEFAULT|DEFINER|DELAYED|DELETE|DELIMITERS?|DENY|DESC|DESCRIBE|DETERMINISTIC|DISABLE|DISCARD|DISK|DISTINCT|DISTINCTROW|DISTRIBUTED|DO|DOUBLE|DROP|DUMMY|DUMP(?:FILE)?|DUPLICATE|ELSE(?:IF)?|ENABLE|ENCLOSED|END|ENGINE|ENUM|ERRLVL|ERRORS|ESCAPED?|EXCEPT|EXEC(?:UTE)?|EXISTS|EXIT|EXPLAIN|EXTENDED|FETCH|FIELDS|FILE|FILLFACTOR|FIRST|FIXED|FLOAT|FOLLOWING|FOR(?: EACH ROW)?|FORCE|FOREIGN|FREETEXT(?:TABLE)?|FROM|FULL|FUNCTION|GEOMETRY(?:COLLECTION)?|GLOBAL|GOTO|GRANT|GROUP|HANDLER|HASH|HAVING|HOLDLOCK|HOUR|IDENTITY(?:COL|_INSERT)?|IF|IGNORE|IMPORT|INDEX|INFILE|INNER|INNODB|INOUT|INSERT|INT|INTEGER|INTERSECT|INTERVAL|INTO|INVOKER|ISOLATION|ITERATE|JOIN|KEYS?|KILL|LANGUAGE|LAST|LEAVE|LEFT|LEVEL|LIMIT|LINENO|LINES|LINESTRING|LOAD|LOCAL|LOCK|LONG(?:BLOB|TEXT)|LOOP|MATCH(?:ED)?|MEDIUM(?:BLOB|INT|TEXT)|MERGE|MIDDLEINT|MINUTE|MODE|MODIFIES|MODIFY|MONTH|MULTI(?:LINESTRING|POINT|POLYGON)|NATIONAL|NATURAL|NCHAR|NEXT|NO|NONCLUSTERED|NULLIF|NUMERIC|OFF?|OFFSETS?|ON|OPEN(?:DATASOURCE|QUERY|ROWSET)?|OPTIMIZE|OPTION(?:ALLY)?|ORDER|OUT(?:ER|FILE)?|OVER|PARTIAL|PARTITION|PERCENT|PIVOT|PLAN|POINT|POLYGON|PRECEDING|PRECISION|PREPARE|PREV|PRIMARY|PRINT|PRIVILEGES|PROC(?:EDURE)?|PUBLIC|PURGE|QUICK|RAISERROR|READS?|REAL|RECONFIGURE|REFERENCES|RELEASE|RENAME|REPEAT(?:ABLE)?|REPLACE|REPLICATION|REQUIRE|RESIGNAL|RESTORE|RESTRICT|RETURN(?:ING|S)?|REVOKE|RIGHT|ROLLBACK|ROUTINE|ROW(?:COUNT|GUIDCOL|S)?|RTREE|RULE|SAVE(?:POINT)?|SCHEMA|SECOND|SELECT|SERIAL(?:IZABLE)?|SESSION(?:_USER)?|SET(?:USER)?|SHARE|SHOW|SHUTDOWN|SIMPLE|SMALLINT|SNAPSHOT|SOME|SONAME|SQL|START(?:ING)?|STATISTICS|STATUS|STRIPED|SYSTEM_USER|TABLES?|TABLESPACE|TEMP(?:ORARY|TABLE)?|TERMINATED|TEXT(?:SIZE)?|THEN|TIME(?:STAMP)?|TINY(?:BLOB|INT|TEXT)|TOP?|TRAN(?:SACTIONS?)?|TRIGGER|TRUNCATE|TSEQUAL|TYPES?|UNBOUNDED|UNCOMMITTED|UNDEFINED|UNION|UNIQUE|UNLOCK|UNPIVOT|UNSIGNED|UPDATE(?:TEXT)?|USAGE|USE|USER|USING|VALUES?|VAR(?:BINARY|CHAR|CHARACTER|YING)|VIEW|WAITFOR|WARNINGS|WHEN|WHERE|WHILE|WITH(?: ROLLUP|IN)?|WORK|WRITE(?:TEXT)?|YEAR)\\b/i,\n\t'boolean': /\\b(?:FALSE|NULL|TRUE)\\b/i,\n\t'number': /\\b0x[\\da-f]+\\b|\\b\\d+(?:\\.\\d*)?|\\B\\.\\d+\\b/i,\n\t'operator': /[-+*\\/=%^~]|&&?|\\|\\|?|!=?|<(?:=>?|<|>)?|>[>=]?|\\b(?:AND|BETWEEN|DIV|ILIKE|IN|IS|LIKE|NOT|OR|REGEXP|RLIKE|SOUNDS LIKE|XOR)\\b/i,\n\t'punctuation': /[;[\\]()`,.]/\n};\n","Prism.languages.go = Prism.languages.extend('clike', {\n\t'string': {\n\t\tpattern: /(^|[^\\\\])\"(?:\\\\.|[^\"\\\\\\r\\n])*\"|`[^`]*`/,\n\t\tlookbehind: true,\n\t\tgreedy: true\n\t},\n\t'keyword': /\\b(?:break|case|chan|const|continue|default|defer|else|fallthrough|for|func|go(?:to)?|if|import|interface|map|package|range|return|select|struct|switch|type|var)\\b/,\n\t'boolean': /\\b(?:_|false|iota|nil|true)\\b/,\n\t'number': [\n\t\t// binary and octal integers\n\t\t/\\b0(?:b[01_]+|o[0-7_]+)i?\\b/i,\n\t\t// hexadecimal integers and floats\n\t\t/\\b0x(?:[a-f\\d_]+(?:\\.[a-f\\d_]*)?|\\.[a-f\\d_]+)(?:p[+-]?\\d+(?:_\\d+)*)?i?(?!\\w)/i,\n\t\t// decimal integers and floats\n\t\t/(?:\\b\\d[\\d_]*(?:\\.[\\d_]*)?|\\B\\.\\d[\\d_]*)(?:e[+-]?[\\d_]+)?i?(?!\\w)/i\n\t],\n\t'operator': /[*\\/%^!=]=?|\\+[=+]?|-[=-]?|\\|[=|]?|&(?:=|&|\\^=?)?|>(?:>=?|=)?|<(?:<=?|=|-)?|:=|\\.\\.\\./,\n\t'builtin': /\\b(?:append|bool|byte|cap|close|complex|complex(?:64|128)|copy|delete|error|float(?:32|64)|u?int(?:8|16|32|64)?|imag|len|make|new|panic|print(?:ln)?|real|recover|rune|string|uintptr)\\b/\n});\n\nPrism.languages.insertBefore('go', 'string', {\n\t'char': {\n\t\tpattern: /'(?:\\\\.|[^'\\\\\\r\\n]){0,10}'/,\n\t\tgreedy: true\n\t}\n});\n\ndelete Prism.languages.go['class-name'];\n","Prism.languages.python = {\n\t'comment': {\n\t\tpattern: /(^|[^\\\\])#.*/,\n\t\tlookbehind: true,\n\t\tgreedy: true\n\t},\n\t'string-interpolation': {\n\t\tpattern: /(?:f|fr|rf)(?:(\"\"\"|''')[\\s\\S]*?\\1|(\"|')(?:\\\\.|(?!\\2)[^\\\\\\r\\n])*\\2)/i,\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\t'interpolation': {\n\t\t\t\t// \"{\" <expression> <optional \"!s\", \"!r\", or \"!a\"> <optional \":\" format specifier> \"}\"\n\t\t\t\tpattern: /((?:^|[^{])(?:\\{\\{)*)\\{(?!\\{)(?:[^{}]|\\{(?!\\{)(?:[^{}]|\\{(?!\\{)(?:[^{}])+\\})+\\})+\\}/,\n\t\t\t\tlookbehind: true,\n\t\t\t\tinside: {\n\t\t\t\t\t'format-spec': {\n\t\t\t\t\t\tpattern: /(:)[^:(){}]+(?=\\}$)/,\n\t\t\t\t\t\tlookbehind: true\n\t\t\t\t\t},\n\t\t\t\t\t'conversion-option': {\n\t\t\t\t\t\tpattern: /![sra](?=[:}]$)/,\n\t\t\t\t\t\talias: 'punctuation'\n\t\t\t\t\t},\n\t\t\t\t\trest: null\n\t\t\t\t}\n\t\t\t},\n\t\t\t'string': /[\\s\\S]+/\n\t\t}\n\t},\n\t'triple-quoted-string': {\n\t\tpattern: /(?:[rub]|br|rb)?(\"\"\"|''')[\\s\\S]*?\\1/i,\n\t\tgreedy: true,\n\t\talias: 'string'\n\t},\n\t'string': {\n\t\tpattern: /(?:[rub]|br|rb)?(\"|')(?:\\\\.|(?!\\1)[^\\\\\\r\\n])*\\1/i,\n\t\tgreedy: true\n\t},\n\t'function': {\n\t\tpattern: /((?:^|\\s)def[ \\t]+)[a-zA-Z_]\\w*(?=\\s*\\()/g,\n\t\tlookbehind: true\n\t},\n\t'class-name': {\n\t\tpattern: /(\\bclass\\s+)\\w+/i,\n\t\tlookbehind: true\n\t},\n\t'decorator': {\n\t\tpattern: /(^[\\t ]*)@\\w+(?:\\.\\w+)*/m,\n\t\tlookbehind: true,\n\t\talias: ['annotation', 'punctuation'],\n\t\tinside: {\n\t\t\t'punctuation': /\\./\n\t\t}\n\t},\n\t'keyword': /\\b(?:_(?=\\s*:)|and|as|assert|async|await|break|case|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|match|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\\b/,\n\t'builtin': /\\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\\b/,\n\t'boolean': /\\b(?:False|None|True)\\b/,\n\t'number': /\\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\\b|(?:\\b\\d+(?:_\\d+)*(?:\\.(?:\\d+(?:_\\d+)*)?)?|\\B\\.\\d+(?:_\\d+)*)(?:e[+-]?\\d+(?:_\\d+)*)?j?(?!\\w)/i,\n\t'operator': /[-+%=]=?|!=|:=|\\*\\*?=?|\\/\\/?=?|<[<=>]?|>[=>]?|[&|^~]/,\n\t'punctuation': /[{}[\\];(),.:]/\n};\n\nPrism.languages.python['string-interpolation'].inside['interpolation'].inside.rest = Prism.languages.python;\n\nPrism.languages.py = Prism.languages.python;\n","(function (Prism) {\n\n\tPrism.languages.typescript = Prism.languages.extend('javascript', {\n\t\t'class-name': {\n\t\t\tpattern: /(\\b(?:class|extends|implements|instanceof|interface|new|type)\\s+)(?!keyof\\b)(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*(?:\\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>)?/,\n\t\t\tlookbehind: true,\n\t\t\tgreedy: true,\n\t\t\tinside: null // see below\n\t\t},\n\t\t'builtin': /\\b(?:Array|Function|Promise|any|boolean|console|never|number|string|symbol|unknown)\\b/,\n\t});\n\n\t// The keywords TypeScript adds to JavaScript\n\tPrism.languages.typescript.keyword.push(\n\t\t/\\b(?:abstract|declare|is|keyof|readonly|require)\\b/,\n\t\t// keywords that have to be followed by an identifier\n\t\t/\\b(?:asserts|infer|interface|module|namespace|type)\\b(?=\\s*(?:[{_$a-zA-Z\\xA0-\\uFFFF]|$))/,\n\t\t// This is for `import type *, {}`\n\t\t/\\btype\\b(?=\\s*(?:[\\{*]|$))/\n\t);\n\n\t// doesn't work with TS because TS is too complex\n\tdelete Prism.languages.typescript['parameter'];\n\tdelete Prism.languages.typescript['literal-property'];\n\n\t// a version of typescript specifically for highlighting types\n\tvar typeInside = Prism.languages.extend('typescript', {});\n\tdelete typeInside['class-name'];\n\n\tPrism.languages.typescript['class-name'].inside = typeInside;\n\n\tPrism.languages.insertBefore('typescript', 'function', {\n\t\t'decorator': {\n\t\t\tpattern: /@[$\\w\\xA0-\\uFFFF]+/,\n\t\t\tinside: {\n\t\t\t\t'at': {\n\t\t\t\t\tpattern: /^@/,\n\t\t\t\t\talias: 'operator'\n\t\t\t\t},\n\t\t\t\t'function': /^[\\s\\S]+/\n\t\t\t}\n\t\t},\n\t\t'generic-function': {\n\t\t\t// e.g. foo<T extends \"bar\" | \"baz\">( ...\n\t\t\tpattern: /#?(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*\\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>(?=\\s*\\()/,\n\t\t\tgreedy: true,\n\t\t\tinside: {\n\t\t\t\t'function': /^#?(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*/,\n\t\t\t\t'generic': {\n\t\t\t\t\tpattern: /<[\\s\\S]+/, // everything after the first <\n\t\t\t\t\talias: 'class-name',\n\t\t\t\t\tinside: typeInside\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n\n\tPrism.languages.ts = Prism.languages.typescript;\n\n}(Prism));\n","/**\n * Original by Aaron Harun: http://aahacreative.com/2012/07/31/php-syntax-highlighting-prism/\n * Modified by Miles Johnson: http://milesj.me\n * Rewritten by Tom Pavelec\n *\n * Supports PHP 5.3 - 8.0\n */\n(function (Prism) {\n\tvar comment = /\\/\\*[\\s\\S]*?\\*\\/|\\/\\/.*|#(?!\\[).*/;\n\tvar constant = [\n\t\t{\n\t\t\tpattern: /\\b(?:false|true)\\b/i,\n\t\t\talias: 'boolean'\n\t\t},\n\t\t{\n\t\t\tpattern: /(::\\s*)\\b[a-z_]\\w*\\b(?!\\s*\\()/i,\n\t\t\tgreedy: true,\n\t\t\tlookbehind: true,\n\t\t},\n\t\t{\n\t\t\tpattern: /(\\b(?:case|const)\\s+)\\b[a-z_]\\w*(?=\\s*[;=])/i,\n\t\t\tgreedy: true,\n\t\t\tlookbehind: true,\n\t\t},\n\t\t/\\b(?:null)\\b/i,\n\t\t/\\b[A-Z_][A-Z0-9_]*\\b(?!\\s*\\()/,\n\t];\n\tvar number = /\\b0b[01]+(?:_[01]+)*\\b|\\b0o[0-7]+(?:_[0-7]+)*\\b|\\b0x[\\da-f]+(?:_[\\da-f]+)*\\b|(?:\\b\\d+(?:_\\d+)*\\.?(?:\\d+(?:_\\d+)*)?|\\B\\.\\d+)(?:e[+-]?\\d+)?/i;\n\tvar operator = /<?=>|\\?\\?=?|\\.{3}|\\??->|[!=]=?=?|::|\\*\\*=?|--|\\+\\+|&&|\\|\\||<<|>>|[?~]|[/^|%*&<>.+-]=?/;\n\tvar punctuation = /[{}\\[\\](),:;]/;\n\n\tPrism.languages.php = {\n\t\t'delimiter': {\n\t\t\tpattern: /\\?>$|^<\\?(?:php(?=\\s)|=)?/i,\n\t\t\talias: 'important'\n\t\t},\n\t\t'comment': comment,\n\t\t'variable': /\\$+(?:\\w+\\b|(?=\\{))/,\n\t\t'package': {\n\t\t\tpattern: /(namespace\\s+|use\\s+(?:function\\s+)?)(?:\\\\?\\b[a-z_]\\w*)+\\b(?!\\\\)/i,\n\t\t\tlookbehind: true,\n\t\t\tinside: {\n\t\t\t\t'punctuation': /\\\\/\n\t\t\t}\n\t\t},\n\t\t'class-name-definition': {\n\t\t\tpattern: /(\\b(?:class|enum|interface|trait)\\s+)\\b[a-z_]\\w*(?!\\\\)\\b/i,\n\t\t\tlookbehind: true,\n\t\t\talias: 'class-name'\n\t\t},\n\t\t'function-definition': {\n\t\t\tpattern: /(\\bfunction\\s+)[a-z_]\\w*(?=\\s*\\()/i,\n\t\t\tlookbehind: true,\n\t\t\talias: 'function'\n\t\t},\n\t\t'keyword': [\n\t\t\t{\n\t\t\t\tpattern: /(\\(\\s*)\\b(?:array|bool|boolean|float|int|integer|object|string)\\b(?=\\s*\\))/i,\n\t\t\t\talias: 'type-casting',\n\t\t\t\tgreedy: true,\n\t\t\t\tlookbehind: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tpattern: /([(,?]\\s*)\\b(?:array(?!\\s*\\()|bool|callable|(?:false|null)(?=\\s*\\|)|float|int|iterable|mixed|object|self|static|string)\\b(?=\\s*\\$)/i,\n\t\t\t\talias: 'type-hint',\n\t\t\t\tgreedy: true,\n\t\t\t\tlookbehind: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tpattern: /(\\)\\s*:\\s*(?:\\?\\s*)?)\\b(?:array(?!\\s*\\()|bool|callable|(?:false|null)(?=\\s*\\|)|float|int|iterable|mixed|never|object|self|static|string|void)\\b/i,\n\t\t\t\talias: 'return-type',\n\t\t\t\tgreedy: true,\n\t\t\t\tlookbehind: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tpattern: /\\b(?:array(?!\\s*\\()|bool|float|int|iterable|mixed|object|string|void)\\b/i,\n\t\t\t\talias: 'type-declaration',\n\t\t\t\tgreedy: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tpattern: /(\\|\\s*)(?:false|null)\\b|\\b(?:false|null)(?=\\s*\\|)/i,\n\t\t\t\talias: 'type-declaration',\n\t\t\t\tgreedy: true,\n\t\t\t\tlookbehind: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tpattern: /\\b(?:parent|self|static)(?=\\s*::)/i,\n\t\t\t\talias: 'static-context',\n\t\t\t\tgreedy: true\n\t\t\t},\n\t\t\t{\n\t\t\t\t// yield from\n\t\t\t\tpattern: /(\\byield\\s+)from\\b/i,\n\t\t\t\tlookbehind: true\n\t\t\t},\n\t\t\t// `class` is always a keyword unlike other keywords\n\t\t\t/\\bclass\\b/i,\n\t\t\t{\n\t\t\t\t// https://www.php.net/manual/en/reserved.keywords.php\n\t\t\t\t//\n\t\t\t\t// keywords cannot be preceded by \"->\"\n\t\t\t\t// the complex lookbehind means `(?<!(?:->|::)\\s*)`\n\t\t\t\tpattern: /((?:^|[^\\s>:]|(?:^|[^-])>|(?:^|[^:]):)\\s*)\\b(?:abstract|and|array|as|break|callable|case|catch|clone|const|continue|declare|default|die|do|echo|else|elseif|empty|enddeclare|endfor|endforeach|endif|endswitch|endwhile|enum|eval|exit|extends|final|finally|fn|for|foreach|function|global|goto|if|implements|include|include_once|instanceof|insteadof|interface|isset|list|match|namespace|never|new|or|parent|print|private|protected|public|readonly|require|require_once|return|self|static|switch|throw|trait|try|unset|use|var|while|xor|yield|__halt_compiler)\\b/i,\n\t\t\t\tlookbehind: true\n\t\t\t}\n\t\t],\n\t\t'argument-name': {\n\t\t\tpattern: /([(,]\\s*)\\b[a-z_]\\w*(?=\\s*:(?!:))/i,\n\t\t\tlookbehind: true\n\t\t},\n\t\t'class-name': [\n\t\t\t{\n\t\t\t\tpattern: /(\\b(?:extends|implements|instanceof|new(?!\\s+self|\\s+static))\\s+|\\bcatch\\s*\\()\\b[a-z_]\\w*(?!\\\\)\\b/i,\n\t\t\t\tgreedy: true,\n\t\t\t\tlookbehind: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tpattern: /(\\|\\s*)\\b[a-z_]\\w*(?!\\\\)\\b/i,\n\t\t\t\tgreedy: true,\n\t\t\t\tlookbehind: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tpattern: /\\b[a-z_]\\w*(?!\\\\)\\b(?=\\s*\\|)/i,\n\t\t\t\tgreedy: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tpattern: /(\\|\\s*)(?:\\\\?\\b[a-z_]\\w*)+\\b/i,\n\t\t\t\talias: 'class-name-fully-qualified',\n\t\t\t\tgreedy: true,\n\t\t\t\tlookbehind: true,\n\t\t\t\tinside: {\n\t\t\t\t\t'punctuation': /\\\\/\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tpattern: /(?:\\\\?\\b[a-z_]\\w*)+\\b(?=\\s*\\|)/i,\n\t\t\t\talias: 'class-name-fully-qualified',\n\t\t\t\tgreedy: true,\n\t\t\t\tinside: {\n\t\t\t\t\t'punctuation': /\\\\/\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tpattern: /(\\b(?:extends|implements|instanceof|new(?!\\s+self\\b|\\s+static\\b))\\s+|\\bcatch\\s*\\()(?:\\\\?\\b[a-z_]\\w*)+\\b(?!\\\\)/i,\n\t\t\t\talias: 'class-name-fully-qualified',\n\t\t\t\tgreedy: true,\n\t\t\t\tlookbehind: true,\n\t\t\t\tinside: {\n\t\t\t\t\t'punctuation': /\\\\/\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tpattern: /\\b[a-z_]\\w*(?=\\s*\\$)/i,\n\t\t\t\talias: 'type-declaration',\n\t\t\t\tgreedy: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tpattern: /(?:\\\\?\\b[a-z_]\\w*)+(?=\\s*\\$)/i,\n\t\t\t\talias: ['class-name-fully-qualified', 'type-declaration'],\n\t\t\t\tgreedy: true,\n\t\t\t\tinside: {\n\t\t\t\t\t'punctuation': /\\\\/\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tpattern: /\\b[a-z_]\\w*(?=\\s*::)/i,\n\t\t\t\talias: 'static-context',\n\t\t\t\tgreedy: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tpattern: /(?:\\\\?\\b[a-z_]\\w*)+(?=\\s*::)/i,\n\t\t\t\talias: ['class-name-fully-qualified', 'static-context'],\n\t\t\t\tgreedy: true,\n\t\t\t\tinside: {\n\t\t\t\t\t'punctuation': /\\\\/\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tpattern: /([(,?]\\s*)[a-z_]\\w*(?=\\s*\\$)/i,\n\t\t\t\talias: 'type-hint',\n\t\t\t\tgreedy: true,\n\t\t\t\tlookbehind: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tpattern: /([(,?]\\s*)(?:\\\\?\\b[a-z_]\\w*)+(?=\\s*\\$)/i,\n\t\t\t\talias: ['class-name-fully-qualified', 'type-hint'],\n\t\t\t\tgreedy: true,\n\t\t\t\tlookbehind: true,\n\t\t\t\tinside: {\n\t\t\t\t\t'punctuation': /\\\\/\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tpattern: /(\\)\\s*:\\s*(?:\\?\\s*)?)\\b[a-z_]\\w*(?!\\\\)\\b/i,\n\t\t\t\talias: 'return-type',\n\t\t\t\tgreedy: true,\n\t\t\t\tlookbehind: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tpattern: /(\\)\\s*:\\s*(?:\\?\\s*)?)(?:\\\\?\\b[a-z_]\\w*)+\\b(?!\\\\)/i,\n\t\t\t\talias: ['class-name-fully-qualified', 'return-type'],\n\t\t\t\tgreedy: true,\n\t\t\t\tlookbehind: true,\n\t\t\t\tinside: {\n\t\t\t\t\t'punctuation': /\\\\/\n\t\t\t\t}\n\t\t\t}\n\t\t],\n\t\t'constant': constant,\n\t\t'function': {\n\t\t\tpattern: /(^|[^\\\\\\w])\\\\?[a-z_](?:[\\w\\\\]*\\w)?(?=\\s*\\()/i,\n\t\t\tlookbehind: true,\n\t\t\tinside: {\n\t\t\t\t'punctuation': /\\\\/\n\t\t\t}\n\t\t},\n\t\t'property': {\n\t\t\tpattern: /(->\\s*)\\w+/,\n\t\t\tlookbehind: true\n\t\t},\n\t\t'number': number,\n\t\t'operator': operator,\n\t\t'punctuation': punctuation\n\t};\n\n\tvar string_interpolation = {\n\t\tpattern: /\\{\\$(?:\\{(?:\\{[^{}]+\\}|[^{}]+)\\}|[^{}])+\\}|(^|[^\\\\{])\\$+(?:\\w+(?:\\[[^\\r\\n\\[\\]]+\\]|->\\w+)?)/,\n\t\tlookbehind: true,\n\t\tinside: Prism.languages.php\n\t};\n\n\tvar string = [\n\t\t{\n\t\t\tpattern: /<<<'([^']+)'[\\r\\n](?:.*[\\r\\n])*?\\1;/,\n\t\t\talias: 'nowdoc-string',\n\t\t\tgreedy: true,\n\t\t\tinside: {\n\t\t\t\t'delimiter': {\n\t\t\t\t\tpattern: /^<<<'[^']+'|[a-z_]\\w*;$/i,\n\t\t\t\t\talias: 'symbol',\n\t\t\t\t\tinside: {\n\t\t\t\t\t\t'punctuation': /^<<<'?|[';]$/\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\tpattern: /<<<(?:\"([^\"]+)\"[\\r\\n](?:.*[\\r\\n])*?\\1;|([a-z_]\\w*)[\\r\\n](?:.*[\\r\\n])*?\\2;)/i,\n\t\t\talias: 'heredoc-string',\n\t\t\tgreedy: true,\n\t\t\tinside: {\n\t\t\t\t'delimiter': {\n\t\t\t\t\tpattern: /^<<<(?:\"[^\"]+\"|[a-z_]\\w*)|[a-z_]\\w*;$/i,\n\t\t\t\t\talias: 'symbol',\n\t\t\t\t\tinside: {\n\t\t\t\t\t\t'punctuation': /^<<<\"?|[\";]$/\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t'interpolation': string_interpolation\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\tpattern: /`(?:\\\\[\\s\\S]|[^\\\\`])*`/,\n\t\t\talias: 'backtick-quoted-string',\n\t\t\tgreedy: true\n\t\t},\n\t\t{\n\t\t\tpattern: /'(?:\\\\[\\s\\S]|[^\\\\'])*'/,\n\t\t\talias: 'single-quoted-string',\n\t\t\tgreedy: true\n\t\t},\n\t\t{\n\t\t\tpattern: /\"(?:\\\\[\\s\\S]|[^\\\\\"])*\"/,\n\t\t\talias: 'double-quoted-string',\n\t\t\tgreedy: true,\n\t\t\tinside: {\n\t\t\t\t'interpolation': string_interpolation\n\t\t\t}\n\t\t}\n\t];\n\n\tPrism.languages.insertBefore('php', 'variable', {\n\t\t'string': string,\n\t\t'attribute': {\n\t\t\tpattern: /#\\[(?:[^\"'\\/#]|\\/(?![*/])|\\/\\/.*$|#(?!\\[).*$|\\/\\*(?:[^*]|\\*(?!\\/))*\\*\\/|\"(?:\\\\[\\s\\S]|[^\\\\\"])*\"|'(?:\\\\[\\s\\S]|[^\\\\'])*')+\\](?=\\s*[a-z$#])/im,\n\t\t\tgreedy: true,\n\t\t\tinside: {\n\t\t\t\t'attribute-content': {\n\t\t\t\t\tpattern: /^(#\\[)[\\s\\S]+(?=\\]$)/,\n\t\t\t\t\tlookbehind: true,\n\t\t\t\t\t// inside can appear subset of php\n\t\t\t\t\tinside: {\n\t\t\t\t\t\t'comment': comment,\n\t\t\t\t\t\t'string': string,\n\t\t\t\t\t\t'attribute-class-name': [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tpattern: /([^:]|^)\\b[a-z_]\\w*(?!\\\\)\\b/i,\n\t\t\t\t\t\t\t\talias: 'class-name',\n\t\t\t\t\t\t\t\tgreedy: true,\n\t\t\t\t\t\t\t\tlookbehind: true\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tpattern: /([^:]|^)(?:\\\\?\\b[a-z_]\\w*)+/i,\n\t\t\t\t\t\t\t\talias: [\n\t\t\t\t\t\t\t\t\t'class-name',\n\t\t\t\t\t\t\t\t\t'class-name-fully-qualified'\n\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\tgreedy: true,\n\t\t\t\t\t\t\t\tlookbehind: true,\n\t\t\t\t\t\t\t\tinside: {\n\t\t\t\t\t\t\t\t\t'punctuation': /\\\\/\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t],\n\t\t\t\t\t\t'constant': constant,\n\t\t\t\t\t\t'number': number,\n\t\t\t\t\t\t'operator': operator,\n\t\t\t\t\t\t'punctuation': punctuation\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t'delimiter': {\n\t\t\t\t\tpattern: /^#\\[|\\]$/,\n\t\t\t\t\talias: 'punctuation'\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t});\n\n\tPrism.hooks.add('before-tokenize', function (env) {\n\t\tif (!/<\\?/.test(env.code)) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar phpPattern = /<\\?(?:[^\"'/#]|\\/(?![*/])|(\"|')(?:\\\\[\\s\\S]|(?!\\1)[^\\\\])*\\1|(?:\\/\\/|#(?!\\[))(?:[^?\\n\\r]|\\?(?!>))*(?=$|\\?>|[\\r\\n])|#\\[|\\/\\*(?:[^*]|\\*(?!\\/))*(?:\\*\\/|$))*?(?:\\?>|$)/g;\n\t\tPrism.languages['markup-templating'].buildPlaceholders(env, 'php', phpPattern);\n\t});\n\n\tPrism.hooks.add('after-tokenize', function (env) {\n\t\tPrism.languages['markup-templating'].tokenizePlaceholders(env, 'php');\n\t});\n\n}(Prism));\n","Prism.languages.c = Prism.languages.extend('clike', {\n\t'comment': {\n\t\tpattern: /\\/\\/(?:[^\\r\\n\\\\]|\\\\(?:\\r\\n?|\\n|(?![\\r\\n])))*|\\/\\*[\\s\\S]*?(?:\\*\\/|$)/,\n\t\tgreedy: true\n\t},\n\t'string': {\n\t\t// https://en.cppreference.com/w/c/language/string_literal\n\t\tpattern: /\"(?:\\\\(?:\\r\\n|[\\s\\S])|[^\"\\\\\\r\\n])*\"/,\n\t\tgreedy: true\n\t},\n\t'class-name': {\n\t\tpattern: /(\\b(?:enum|struct)\\s+(?:__attribute__\\s*\\(\\([\\s\\S]*?\\)\\)\\s*)?)\\w+|\\b[a-z]\\w*_t\\b/,\n\t\tlookbehind: true\n\t},\n\t'keyword': /\\b(?:_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|__attribute__|asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|inline|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|typeof|union|unsigned|void|volatile|while)\\b/,\n\t'function': /\\b[a-z_]\\w*(?=\\s*\\()/i,\n\t'number': /(?:\\b0x(?:[\\da-f]+(?:\\.[\\da-f]*)?|\\.[\\da-f]+)(?:p[+-]?\\d+)?|(?:\\b\\d+(?:\\.\\d*)?|\\B\\.\\d+)(?:e[+-]?\\d+)?)[ful]{0,4}/i,\n\t'operator': />>=?|<<=?|->|([-+&|:])\\1|[?:~]|[-+*/%&|^!=<>]=?/\n});\n\nPrism.languages.insertBefore('c', 'string', {\n\t'char': {\n\t\t// https://en.cppreference.com/w/c/language/character_constant\n\t\tpattern: /'(?:\\\\(?:\\r\\n|[\\s\\S])|[^'\\\\\\r\\n]){0,32}'/,\n\t\tgreedy: true\n\t}\n});\n\nPrism.languages.insertBefore('c', 'string', {\n\t'macro': {\n\t\t// allow for multiline macro definitions\n\t\t// spaces after the # character compile fine with gcc\n\t\tpattern: /(^[\\t ]*)#\\s*[a-z](?:[^\\r\\n\\\\/]|\\/(?!\\*)|\\/\\*(?:[^*]|\\*(?!\\/))*\\*\\/|\\\\(?:\\r\\n|[\\s\\S]))*/im,\n\t\tlookbehind: true,\n\t\tgreedy: true,\n\t\talias: 'property',\n\t\tinside: {\n\t\t\t'string': [\n\t\t\t\t{\n\t\t\t\t\t// highlight the path of the include statement as a string\n\t\t\t\t\tpattern: /^(#\\s*include\\s*)<[^>]+>/,\n\t\t\t\t\tlookbehind: true\n\t\t\t\t},\n\t\t\t\tPrism.languages.c['string']\n\t\t\t],\n\t\t\t'char': Prism.languages.c['char'],\n\t\t\t'comment': Prism.languages.c['comment'],\n\t\t\t'macro-name': [\n\t\t\t\t{\n\t\t\t\t\tpattern: /(^#\\s*define\\s+)\\w+\\b(?!\\()/i,\n\t\t\t\t\tlookbehind: true\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tpattern: /(^#\\s*define\\s+)\\w+\\b(?=\\()/i,\n\t\t\t\t\tlookbehind: true,\n\t\t\t\t\talias: 'function'\n\t\t\t\t}\n\t\t\t],\n\t\t\t// highlight macro directives as keywords\n\t\t\t'directive': {\n\t\t\t\tpattern: /^(#\\s*)[a-z]+/,\n\t\t\t\tlookbehind: true,\n\t\t\t\talias: 'keyword'\n\t\t\t},\n\t\t\t'directive-hash': /^#/,\n\t\t\t'punctuation': /##|\\\\(?=[\\r\\n])/,\n\t\t\t'expression': {\n\t\t\t\tpattern: /\\S[\\s\\S]*/,\n\t\t\t\tinside: Prism.languages.c\n\t\t\t}\n\t\t}\n\t}\n});\n\nPrism.languages.insertBefore('c', 'function', {\n\t// highlight predefined macros as constants\n\t'constant': /\\b(?:EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|__DATE__|__FILE__|__LINE__|__TIMESTAMP__|__TIME__|__func__|stderr|stdin|stdout)\\b/\n});\n\ndelete Prism.languages.c['boolean'];\n","(function (Prism) {\n\n\tvar keywords = /\\b(?:abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|exports|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|module|native|new|non-sealed|null|open|opens|package|permits|private|protected|provides|public|record(?!\\s*[(){}[\\]<>=%~.:,;?+\\-*/&|^])|requires|return|sealed|short|static|strictfp|super|switch|synchronized|this|throw|throws|to|transient|transitive|try|uses|var|void|volatile|while|with|yield)\\b/;\n\n\t// full package (optional) + parent classes (optional)\n\tvar classNamePrefix = /(?:[a-z]\\w*\\s*\\.\\s*)*(?:[A-Z]\\w*\\s*\\.\\s*)*/.source;\n\n\t// based on the java naming conventions\n\tvar className = {\n\t\tpattern: RegExp(/(^|[^\\w.])/.source + classNamePrefix + /[A-Z](?:[\\d_A-Z]*[a-z]\\w*)?\\b/.source),\n\t\tlookbehind: true,\n\t\tinside: {\n\t\t\t'namespace': {\n\t\t\t\tpattern: /^[a-z]\\w*(?:\\s*\\.\\s*[a-z]\\w*)*(?:\\s*\\.)?/,\n\t\t\t\tinside: {\n\t\t\t\t\t'punctuation': /\\./\n\t\t\t\t}\n\t\t\t},\n\t\t\t'punctuation': /\\./\n\t\t}\n\t};\n\n\tPrism.languages.java = Prism.languages.extend('clike', {\n\t\t'string': {\n\t\t\tpattern: /(^|[^\\\\])\"(?:\\\\.|[^\"\\\\\\r\\n])*\"/,\n\t\t\tlookbehind: true,\n\t\t\tgreedy: true\n\t\t},\n\t\t'class-name': [\n\t\t\tclassName,\n\t\t\t{\n\t\t\t\t// variables, parameters, and constructor references\n\t\t\t\t// this to support class names (or generic parameters) which do not contain a lower case letter (also works for methods)\n\t\t\t\tpattern: RegExp(/(^|[^\\w.])/.source + classNamePrefix + /[A-Z]\\w*(?=\\s+\\w+\\s*[;,=()]|\\s*(?:\\[[\\s,]*\\]\\s*)?::\\s*new\\b)/.source),\n\t\t\t\tlookbehind: true,\n\t\t\t\tinside: className.inside\n\t\t\t},\n\t\t\t{\n\t\t\t\t// class names based on keyword\n\t\t\t\t// this to support class names (or generic parameters) which do not contain a lower case letter (also works for methods)\n\t\t\t\tpattern: RegExp(/(\\b(?:class|enum|extends|implements|instanceof|interface|new|record|throws)\\s+)/.source + classNamePrefix + /[A-Z]\\w*\\b/.source),\n\t\t\t\tlookbehind: true,\n\t\t\t\tinside: className.inside\n\t\t\t}\n\t\t],\n\t\t'keyword': keywords,\n\t\t'function': [\n\t\t\tPrism.languages.clike.function,\n\t\t\t{\n\t\t\t\tpattern: /(::\\s*)[a-z_]\\w*/,\n\t\t\t\tlookbehind: true\n\t\t\t}\n\t\t],\n\t\t'number': /\\b0b[01][01_]*L?\\b|\\b0x(?:\\.[\\da-f_p+-]+|[\\da-f_]+(?:\\.[\\da-f_p+-]+)?)\\b|(?:\\b\\d[\\d_]*(?:\\.[\\d_]*)?|\\B\\.\\d[\\d_]*)(?:e[+-]?\\d[\\d_]*)?[dfl]?/i,\n\t\t'operator': {\n\t\t\tpattern: /(^|[^.])(?:<<=?|>>>?=?|->|--|\\+\\+|&&|\\|\\||::|[?:~]|[-+*/%&|^!=<>]=?)/m,\n\t\t\tlookbehind: true\n\t\t},\n\t\t'constant': /\\b[A-Z][A-Z_\\d]+\\b/\n\t});\n\n\tPrism.languages.insertBefore('java', 'string', {\n\t\t'triple-quoted-string': {\n\t\t\t// http://openjdk.java.net/jeps/355#Description\n\t\t\tpattern: /\"\"\"[ \\t]*[\\r\\n](?:(?:\"|\"\")?(?:\\\\.|[^\"\\\\]))*\"\"\"/,\n\t\t\tgreedy: true,\n\t\t\talias: 'string'\n\t\t},\n\t\t'char': {\n\t\t\tpattern: /'(?:\\\\.|[^'\\\\\\r\\n]){1,6}'/,\n\t\t\tgreedy: true\n\t\t}\n\t});\n\n\tPrism.languages.insertBefore('java', 'class-name', {\n\t\t'annotation': {\n\t\t\tpattern: /(^|[^.])@\\w+(?:\\s*\\.\\s*\\w+)*/,\n\t\t\tlookbehind: true,\n\t\t\talias: 'punctuation'\n\t\t},\n\t\t'generics': {\n\t\t\tpattern: /<(?:[\\w\\s,.?]|&(?!&)|<(?:[\\w\\s,.?]|&(?!&)|<(?:[\\w\\s,.?]|&(?!&)|<(?:[\\w\\s,.?]|&(?!&))*>)*>)*>)*>/,\n\t\t\tinside: {\n\t\t\t\t'class-name': className,\n\t\t\t\t'keyword': keywords,\n\t\t\t\t'punctuation': /[<>(),.:]/,\n\t\t\t\t'operator': /[?&|]/\n\t\t\t}\n\t\t},\n\t\t'import': [\n\t\t\t{\n\t\t\t\tpattern: RegExp(/(\\bimport\\s+)/.source + classNamePrefix + /(?:[A-Z]\\w*|\\*)(?=\\s*;)/.source),\n\t\t\t\tlookbehind: true,\n\t\t\t\tinside: {\n\t\t\t\t\t'namespace': className.inside.namespace,\n\t\t\t\t\t'punctuation': /\\./,\n\t\t\t\t\t'operator': /\\*/,\n\t\t\t\t\t'class-name': /\\w+/\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tpattern: RegExp(/(\\bimport\\s+static\\s+)/.source + classNamePrefix + /(?:\\w+|\\*)(?=\\s*;)/.source),\n\t\t\t\tlookbehind: true,\n\t\t\t\talias: 'static',\n\t\t\t\tinside: {\n\t\t\t\t\t'namespace': className.inside.namespace,\n\t\t\t\t\t'static': /\\b\\w+$/,\n\t\t\t\t\t'punctuation': /\\./,\n\t\t\t\t\t'operator': /\\*/,\n\t\t\t\t\t'class-name': /\\w+/\n\t\t\t\t}\n\t\t\t}\n\t\t],\n\t\t'namespace': {\n\t\t\tpattern: RegExp(\n\t\t\t\t/(\\b(?:exports|import(?:\\s+static)?|module|open|opens|package|provides|requires|to|transitive|uses|with)\\s+)(?!<keyword>)[a-z]\\w*(?:\\.[a-z]\\w*)*\\.?/\n\t\t\t\t\t.source.replace(/<keyword>/g, function () { return keywords.source; })),\n\t\t\tlookbehind: true,\n\t\t\tinside: {\n\t\t\t\t'punctuation': /\\./,\n\t\t\t}\n\t\t}\n\t});\n}(Prism));\n","/**\n * Original by Samuel Flores\n *\n * Adds the following new token classes:\n *     constant, builtin, variable, symbol, regex\n */\n(function (Prism) {\n\tPrism.languages.ruby = Prism.languages.extend('clike', {\n\t\t'comment': {\n\t\t\tpattern: /#.*|^=begin\\s[\\s\\S]*?^=end/m,\n\t\t\tgreedy: true\n\t\t},\n\t\t'class-name': {\n\t\t\tpattern: /(\\b(?:class|module)\\s+|\\bcatch\\s+\\()[\\w.\\\\]+|\\b[A-Z_]\\w*(?=\\s*\\.\\s*new\\b)/,\n\t\t\tlookbehind: true,\n\t\t\tinside: {\n\t\t\t\t'punctuation': /[.\\\\]/\n\t\t\t}\n\t\t},\n\t\t'keyword': /\\b(?:BEGIN|END|alias|and|begin|break|case|class|def|define_method|defined|do|each|else|elsif|end|ensure|extend|for|if|in|include|module|new|next|nil|not|or|prepend|private|protected|public|raise|redo|require|rescue|retry|return|self|super|then|throw|undef|unless|until|when|while|yield)\\b/,\n\t\t'operator': /\\.{2,3}|&\\.|===|<?=>|[!=]?~|(?:&&|\\|\\||<<|>>|\\*\\*|[+\\-*/%<>!^&|=])=?|[?:]/,\n\t\t'punctuation': /[(){}[\\].,;]/,\n\t});\n\n\tPrism.languages.insertBefore('ruby', 'operator', {\n\t\t'double-colon': {\n\t\t\tpattern: /::/,\n\t\t\talias: 'punctuation'\n\t\t},\n\t});\n\n\tvar interpolation = {\n\t\tpattern: /((?:^|[^\\\\])(?:\\\\{2})*)#\\{(?:[^{}]|\\{[^{}]*\\})*\\}/,\n\t\tlookbehind: true,\n\t\tinside: {\n\t\t\t'content': {\n\t\t\t\tpattern: /^(#\\{)[\\s\\S]+(?=\\}$)/,\n\t\t\t\tlookbehind: true,\n\t\t\t\tinside: Prism.languages.ruby\n\t\t\t},\n\t\t\t'delimiter': {\n\t\t\t\tpattern: /^#\\{|\\}$/,\n\t\t\t\talias: 'punctuation'\n\t\t\t}\n\t\t}\n\t};\n\n\tdelete Prism.languages.ruby.function;\n\n\tvar percentExpression = '(?:' + [\n\t\t/([^a-zA-Z0-9\\s{(\\[<=])(?:(?!\\1)[^\\\\]|\\\\[\\s\\S])*\\1/.source,\n\t\t/\\((?:[^()\\\\]|\\\\[\\s\\S]|\\((?:[^()\\\\]|\\\\[\\s\\S])*\\))*\\)/.source,\n\t\t/\\{(?:[^{}\\\\]|\\\\[\\s\\S]|\\{(?:[^{}\\\\]|\\\\[\\s\\S])*\\})*\\}/.source,\n\t\t/\\[(?:[^\\[\\]\\\\]|\\\\[\\s\\S]|\\[(?:[^\\[\\]\\\\]|\\\\[\\s\\S])*\\])*\\]/.source,\n\t\t/<(?:[^<>\\\\]|\\\\[\\s\\S]|<(?:[^<>\\\\]|\\\\[\\s\\S])*>)*>/.source\n\t].join('|') + ')';\n\n\tvar symbolName = /(?:\"(?:\\\\.|[^\"\\\\\\r\\n])*\"|(?:\\b[a-zA-Z_]\\w*|[^\\s\\0-\\x7F]+)[?!]?|\\$.)/.source;\n\n\tPrism.languages.insertBefore('ruby', 'keyword', {\n\t\t'regex-literal': [\n\t\t\t{\n\t\t\t\tpattern: RegExp(/%r/.source + percentExpression + /[egimnosux]{0,6}/.source),\n\t\t\t\tgreedy: true,\n\t\t\t\tinside: {\n\t\t\t\t\t'interpolation': interpolation,\n\t\t\t\t\t'regex': /[\\s\\S]+/\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tpattern: /(^|[^/])\\/(?!\\/)(?:\\[[^\\r\\n\\]]+\\]|\\\\.|[^[/\\\\\\r\\n])+\\/[egimnosux]{0,6}(?=\\s*(?:$|[\\r\\n,.;})#]))/,\n\t\t\t\tlookbehind: true,\n\t\t\t\tgreedy: true,\n\t\t\t\tinside: {\n\t\t\t\t\t'interpolation': interpolation,\n\t\t\t\t\t'regex': /[\\s\\S]+/\n\t\t\t\t}\n\t\t\t}\n\t\t],\n\t\t'variable': /[@$]+[a-zA-Z_]\\w*(?:[?!]|\\b)/,\n\t\t'symbol': [\n\t\t\t{\n\t\t\t\tpattern: RegExp(/(^|[^:]):/.source + symbolName),\n\t\t\t\tlookbehind: true,\n\t\t\t\tgreedy: true\n\t\t\t},\n\t\t\t{\n\t\t\t\tpattern: RegExp(/([\\r\\n{(,][ \\t]*)/.source + symbolName + /(?=:(?!:))/.source),\n\t\t\t\tlookbehind: true,\n\t\t\t\tgreedy: true\n\t\t\t},\n\t\t],\n\t\t'method-definition': {\n\t\t\tpattern: /(\\bdef\\s+)\\w+(?:\\s*\\.\\s*\\w+)?/,\n\t\t\tlookbehind: true,\n\t\t\tinside: {\n\t\t\t\t'function': /\\b\\w+$/,\n\t\t\t\t'keyword': /^self\\b/,\n\t\t\t\t'class-name': /^\\w+/,\n\t\t\t\t'punctuation': /\\./\n\t\t\t}\n\t\t}\n\t});\n\n\tPrism.languages.insertBefore('ruby', 'string', {\n\t\t'string-literal': [\n\t\t\t{\n\t\t\t\tpattern: RegExp(/%[qQiIwWs]?/.source + percentExpression),\n\t\t\t\tgreedy: true,\n\t\t\t\tinside: {\n\t\t\t\t\t'interpolation': interpolation,\n\t\t\t\t\t'string': /[\\s\\S]+/\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tpattern: /(\"|')(?:#\\{[^}]+\\}|#(?!\\{)|\\\\(?:\\r\\n|[\\s\\S])|(?!\\1)[^\\\\#\\r\\n])*\\1/,\n\t\t\t\tgreedy: true,\n\t\t\t\tinside: {\n\t\t\t\t\t'interpolation': interpolation,\n\t\t\t\t\t'string': /[\\s\\S]+/\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tpattern: /<<[-~]?([a-z_]\\w*)[\\r\\n](?:.*[\\r\\n])*?[\\t ]*\\1/i,\n\t\t\t\talias: 'heredoc-string',\n\t\t\t\tgreedy: true,\n\t\t\t\tinside: {\n\t\t\t\t\t'delimiter': {\n\t\t\t\t\t\tpattern: /^<<[-~]?[a-z_]\\w*|\\b[a-z_]\\w*$/i,\n\t\t\t\t\t\tinside: {\n\t\t\t\t\t\t\t'symbol': /\\b\\w+/,\n\t\t\t\t\t\t\t'punctuation': /^<<[-~]?/\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t'interpolation': interpolation,\n\t\t\t\t\t'string': /[\\s\\S]+/\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tpattern: /<<[-~]?'([a-z_]\\w*)'[\\r\\n](?:.*[\\r\\n])*?[\\t ]*\\1/i,\n\t\t\t\talias: 'heredoc-string',\n\t\t\t\tgreedy: true,\n\t\t\t\tinside: {\n\t\t\t\t\t'delimiter': {\n\t\t\t\t\t\tpattern: /^<<[-~]?'[a-z_]\\w*'|\\b[a-z_]\\w*$/i,\n\t\t\t\t\t\tinside: {\n\t\t\t\t\t\t\t'symbol': /\\b\\w+/,\n\t\t\t\t\t\t\t'punctuation': /^<<[-~]?'|'$/,\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t'string': /[\\s\\S]+/\n\t\t\t\t}\n\t\t\t}\n\t\t],\n\t\t'command-literal': [\n\t\t\t{\n\t\t\t\tpattern: RegExp(/%x/.source + percentExpression),\n\t\t\t\tgreedy: true,\n\t\t\t\tinside: {\n\t\t\t\t\t'interpolation': interpolation,\n\t\t\t\t\t'command': {\n\t\t\t\t\t\tpattern: /[\\s\\S]+/,\n\t\t\t\t\t\talias: 'string'\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\tpattern: /`(?:#\\{[^}]+\\}|#(?!\\{)|\\\\(?:\\r\\n|[\\s\\S])|[^\\\\`#\\r\\n])*`/,\n\t\t\t\tgreedy: true,\n\t\t\t\tinside: {\n\t\t\t\t\t'interpolation': interpolation,\n\t\t\t\t\t'command': {\n\t\t\t\t\t\tpattern: /[\\s\\S]+/,\n\t\t\t\t\t\talias: 'string'\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t]\n\t});\n\n\tdelete Prism.languages.ruby.string;\n\n\tPrism.languages.insertBefore('ruby', 'number', {\n\t\t'builtin': /\\b(?:Array|Bignum|Binding|Class|Continuation|Dir|Exception|FalseClass|File|Fixnum|Float|Hash|IO|Integer|MatchData|Method|Module|NilClass|Numeric|Object|Proc|Range|Regexp|Stat|String|Struct|Symbol|TMS|Thread|ThreadGroup|Time|TrueClass)\\b/,\n\t\t'constant': /\\b[A-Z][A-Z0-9_]*(?:[?!]|\\b)/\n\t});\n\n\tPrism.languages.rb = Prism.languages.ruby;\n}(Prism));\n","// https://www.json.org/json-en.html\nPrism.languages.json = {\n\t'property': {\n\t\tpattern: /(^|[^\\\\])\"(?:\\\\.|[^\\\\\"\\r\\n])*\"(?=\\s*:)/,\n\t\tlookbehind: true,\n\t\tgreedy: true\n\t},\n\t'string': {\n\t\tpattern: /(^|[^\\\\])\"(?:\\\\.|[^\\\\\"\\r\\n])*\"(?!\\s*:)/,\n\t\tlookbehind: true,\n\t\tgreedy: true\n\t},\n\t'comment': {\n\t\tpattern: /\\/\\/.*|\\/\\*[\\s\\S]*?(?:\\*\\/|$)/,\n\t\tgreedy: true\n\t},\n\t'number': /-?\\b\\d+(?:\\.\\d+)?(?:e[+-]?\\d+)?\\b/i,\n\t'punctuation': /[{}[\\],]/,\n\t'operator': /:/,\n\t'boolean': /\\b(?:false|true)\\b/,\n\t'null': {\n\t\tpattern: /\\bnull\\b/,\n\t\talias: 'keyword'\n\t}\n};\n\nPrism.languages.webmanifest = Prism.languages.json;\n","(function (Prism) {\n\n\t// Allow only one line break\n\tvar inner = /(?:\\\\.|[^\\\\\\n\\r]|(?:\\n|\\r\\n?)(?![\\r\\n]))/.source;\n\n\t/**\n\t * This function is intended for the creation of the bold or italic pattern.\n\t *\n\t * This also adds a lookbehind group to the given pattern to ensure that the pattern is not backslash-escaped.\n\t *\n\t * _Note:_ Keep in mind that this adds a capturing group.\n\t *\n\t * @param {string} pattern\n\t * @returns {RegExp}\n\t */\n\tfunction createInline(pattern) {\n\t\tpattern = pattern.replace(/<inner>/g, function () { return inner; });\n\t\treturn RegExp(/((?:^|[^\\\\])(?:\\\\{2})*)/.source + '(?:' + pattern + ')');\n\t}\n\n\n\tvar tableCell = /(?:\\\\.|``(?:[^`\\r\\n]|`(?!`))+``|`[^`\\r\\n]+`|[^\\\\|\\r\\n`])+/.source;\n\tvar tableRow = /\\|?__(?:\\|__)+\\|?(?:(?:\\n|\\r\\n?)|(?![\\s\\S]))/.source.replace(/__/g, function () { return tableCell; });\n\tvar tableLine = /\\|?[ \\t]*:?-{3,}:?[ \\t]*(?:\\|[ \\t]*:?-{3,}:?[ \\t]*)+\\|?(?:\\n|\\r\\n?)/.source;\n\n\n\tPrism.languages.markdown = Prism.languages.extend('markup', {});\n\tPrism.languages.insertBefore('markdown', 'prolog', {\n\t\t'front-matter-block': {\n\t\t\tpattern: /(^(?:\\s*[\\r\\n])?)---(?!.)[\\s\\S]*?[\\r\\n]---(?!.)/,\n\t\t\tlookbehind: true,\n\t\t\tgreedy: true,\n\t\t\tinside: {\n\t\t\t\t'punctuation': /^---|---$/,\n\t\t\t\t'front-matter': {\n\t\t\t\t\tpattern: /\\S+(?:\\s+\\S+)*/,\n\t\t\t\t\talias: ['yaml', 'language-yaml'],\n\t\t\t\t\tinside: Prism.languages.yaml\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t'blockquote': {\n\t\t\t// > ...\n\t\t\tpattern: /^>(?:[\\t ]*>)*/m,\n\t\t\talias: 'punctuation'\n\t\t},\n\t\t'table': {\n\t\t\tpattern: RegExp('^' + tableRow + tableLine + '(?:' + tableRow + ')*', 'm'),\n\t\t\tinside: {\n\t\t\t\t'table-data-rows': {\n\t\t\t\t\tpattern: RegExp('^(' + tableRow + tableLine + ')(?:' + tableRow + ')*$'),\n\t\t\t\t\tlookbehind: true,\n\t\t\t\t\tinside: {\n\t\t\t\t\t\t'table-data': {\n\t\t\t\t\t\t\tpattern: RegExp(tableCell),\n\t\t\t\t\t\t\tinside: Prism.languages.markdown\n\t\t\t\t\t\t},\n\t\t\t\t\t\t'punctuation': /\\|/\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t'table-line': {\n\t\t\t\t\tpattern: RegExp('^(' + tableRow + ')' + tableLine + '$'),\n\t\t\t\t\tlookbehind: true,\n\t\t\t\t\tinside: {\n\t\t\t\t\t\t'punctuation': /\\||:?-{3,}:?/\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t'table-header-row': {\n\t\t\t\t\tpattern: RegExp('^' + tableRow + '$'),\n\t\t\t\t\tinside: {\n\t\t\t\t\t\t'table-header': {\n\t\t\t\t\t\t\tpattern: RegExp(tableCell),\n\t\t\t\t\t\t\talias: 'important',\n\t\t\t\t\t\t\tinside: Prism.languages.markdown\n\t\t\t\t\t\t},\n\t\t\t\t\t\t'punctuation': /\\|/\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t'code': [\n\t\t\t{\n\t\t\t\t// Prefixed by 4 spaces or 1 tab and preceded by an empty line\n\t\t\t\tpattern: /((?:^|\\n)[ \\t]*\\n|(?:^|\\r\\n?)[ \\t]*\\r\\n?)(?: {4}|\\t).+(?:(?:\\n|\\r\\n?)(?: {4}|\\t).+)*/,\n\t\t\t\tlookbehind: true,\n\t\t\t\talias: 'keyword'\n\t\t\t},\n\t\t\t{\n\t\t\t\t// ```optional language\n\t\t\t\t// code block\n\t\t\t\t// ```\n\t\t\t\tpattern: /^```[\\s\\S]*?^```$/m,\n\t\t\t\tgreedy: true,\n\t\t\t\tinside: {\n\t\t\t\t\t'code-block': {\n\t\t\t\t\t\tpattern: /^(```.*(?:\\n|\\r\\n?))[\\s\\S]+?(?=(?:\\n|\\r\\n?)^```$)/m,\n\t\t\t\t\t\tlookbehind: true\n\t\t\t\t\t},\n\t\t\t\t\t'code-language': {\n\t\t\t\t\t\tpattern: /^(```).+/,\n\t\t\t\t\t\tlookbehind: true\n\t\t\t\t\t},\n\t\t\t\t\t'punctuation': /```/\n\t\t\t\t}\n\t\t\t}\n\t\t],\n\t\t'title': [\n\t\t\t{\n\t\t\t\t// title 1\n\t\t\t\t// =======\n\n\t\t\t\t// title 2\n\t\t\t\t// -------\n\t\t\t\tpattern: /\\S.*(?:\\n|\\r\\n?)(?:==+|--+)(?=[ \\t]*$)/m,\n\t\t\t\talias: 'important',\n\t\t\t\tinside: {\n\t\t\t\t\tpunctuation: /==+$|--+$/\n\t\t\t\t}\n\t\t\t},\n\t\t\t{\n\t\t\t\t// # title 1\n\t\t\t\t// ###### title 6\n\t\t\t\tpattern: /(^\\s*)#.+/m,\n\t\t\t\tlookbehind: true,\n\t\t\t\talias: 'important',\n\t\t\t\tinside: {\n\t\t\t\t\tpunctuation: /^#+|#+$/\n\t\t\t\t}\n\t\t\t}\n\t\t],\n\t\t'hr': {\n\t\t\t// ***\n\t\t\t// ---\n\t\t\t// * * *\n\t\t\t// -----------\n\t\t\tpattern: /(^\\s*)([*-])(?:[\\t ]*\\2){2,}(?=\\s*$)/m,\n\t\t\tlookbehind: true,\n\t\t\talias: 'punctuation'\n\t\t},\n\t\t'list': {\n\t\t\t// * item\n\t\t\t// + item\n\t\t\t// - item\n\t\t\t// 1. item\n\t\t\tpattern: /(^\\s*)(?:[*+-]|\\d+\\.)(?=[\\t ].)/m,\n\t\t\tlookbehind: true,\n\t\t\talias: 'punctuation'\n\t\t},\n\t\t'url-reference': {\n\t\t\t// [id]: http://example.com \"Optional title\"\n\t\t\t// [id]: http://example.com 'Optional title'\n\t\t\t// [id]: http://example.com (Optional title)\n\t\t\t// [id]: <http://example.com> \"Optional title\"\n\t\t\tpattern: /!?\\[[^\\]]+\\]:[\\t ]+(?:\\S+|<(?:\\\\.|[^>\\\\])+>)(?:[\\t ]+(?:\"(?:\\\\.|[^\"\\\\])*\"|'(?:\\\\.|[^'\\\\])*'|\\((?:\\\\.|[^)\\\\])*\\)))?/,\n\t\t\tinside: {\n\t\t\t\t'variable': {\n\t\t\t\t\tpattern: /^(!?\\[)[^\\]]+/,\n\t\t\t\t\tlookbehind: true\n\t\t\t\t},\n\t\t\t\t'string': /(?:\"(?:\\\\.|[^\"\\\\])*\"|'(?:\\\\.|[^'\\\\])*'|\\((?:\\\\.|[^)\\\\])*\\))$/,\n\t\t\t\t'punctuation': /^[\\[\\]!:]|[<>]/\n\t\t\t},\n\t\t\talias: 'url'\n\t\t},\n\t\t'bold': {\n\t\t\t// **strong**\n\t\t\t// __strong__\n\n\t\t\t// allow one nested instance of italic text using the same delimiter\n\t\t\tpattern: createInline(/\\b__(?:(?!_)<inner>|_(?:(?!_)<inner>)+_)+__\\b|\\*\\*(?:(?!\\*)<inner>|\\*(?:(?!\\*)<inner>)+\\*)+\\*\\*/.source),\n\t\t\tlookbehind: true,\n\t\t\tgreedy: true,\n\t\t\tinside: {\n\t\t\t\t'content': {\n\t\t\t\t\tpattern: /(^..)[\\s\\S]+(?=..$)/,\n\t\t\t\t\tlookbehind: true,\n\t\t\t\t\tinside: {} // see below\n\t\t\t\t},\n\t\t\t\t'punctuation': /\\*\\*|__/\n\t\t\t}\n\t\t},\n\t\t'italic': {\n\t\t\t// *em*\n\t\t\t// _em_\n\n\t\t\t// allow one nested instance of bold text using the same delimiter\n\t\t\tpattern: createInline(/\\b_(?:(?!_)<inner>|__(?:(?!_)<inner>)+__)+_\\b|\\*(?:(?!\\*)<inner>|\\*\\*(?:(?!\\*)<inner>)+\\*\\*)+\\*/.source),\n\t\t\tlookbehind: true,\n\t\t\tgreedy: true,\n\t\t\tinside: {\n\t\t\t\t'content': {\n\t\t\t\t\tpattern: /(^.)[\\s\\S]+(?=.$)/,\n\t\t\t\t\tlookbehind: true,\n\t\t\t\t\tinside: {} // see below\n\t\t\t\t},\n\t\t\t\t'punctuation': /[*_]/\n\t\t\t}\n\t\t},\n\t\t'strike': {\n\t\t\t// ~~strike through~~\n\t\t\t// ~strike~\n\t\t\t// eslint-disable-next-line regexp/strict\n\t\t\tpattern: createInline(/(~~?)(?:(?!~)<inner>)+\\2/.source),\n\t\t\tlookbehind: true,\n\t\t\tgreedy: true,\n\t\t\tinside: {\n\t\t\t\t'content': {\n\t\t\t\t\tpattern: /(^~~?)[\\s\\S]+(?=\\1$)/,\n\t\t\t\t\tlookbehind: true,\n\t\t\t\t\tinside: {} // see below\n\t\t\t\t},\n\t\t\t\t'punctuation': /~~?/\n\t\t\t}\n\t\t},\n\t\t'code-snippet': {\n\t\t\t// `code`\n\t\t\t// ``code``\n\t\t\tpattern: /(^|[^\\\\`])(?:``[^`\\r\\n]+(?:`[^`\\r\\n]+)*``(?!`)|`[^`\\r\\n]+`(?!`))/,\n\t\t\tlookbehind: true,\n\t\t\tgreedy: true,\n\t\t\talias: ['code', 'keyword']\n\t\t},\n\t\t'url': {\n\t\t\t// [example](http://example.com \"Optional title\")\n\t\t\t// [example][id]\n\t\t\t// [example] [id]\n\t\t\tpattern: createInline(/!?\\[(?:(?!\\])<inner>)+\\](?:\\([^\\s)]+(?:[\\t ]+\"(?:\\\\.|[^\"\\\\])*\")?\\)|[ \\t]?\\[(?:(?!\\])<inner>)+\\])/.source),\n\t\t\tlookbehind: true,\n\t\t\tgreedy: true,\n\t\t\tinside: {\n\t\t\t\t'operator': /^!/,\n\t\t\t\t'content': {\n\t\t\t\t\tpattern: /(^\\[)[^\\]]+(?=\\])/,\n\t\t\t\t\tlookbehind: true,\n\t\t\t\t\tinside: {} // see below\n\t\t\t\t},\n\t\t\t\t'variable': {\n\t\t\t\t\tpattern: /(^\\][ \\t]?\\[)[^\\]]+(?=\\]$)/,\n\t\t\t\t\tlookbehind: true\n\t\t\t\t},\n\t\t\t\t'url': {\n\t\t\t\t\tpattern: /(^\\]\\()[^\\s)]+/,\n\t\t\t\t\tlookbehind: true\n\t\t\t\t},\n\t\t\t\t'string': {\n\t\t\t\t\tpattern: /(^[ \\t]+)\"(?:\\\\.|[^\"\\\\])*\"(?=\\)$)/,\n\t\t\t\t\tlookbehind: true\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n\n\t['url', 'bold', 'italic', 'strike'].forEach(function (token) {\n\t\t['url', 'bold', 'italic', 'strike', 'code-snippet'].forEach(function (inside) {\n\t\t\tif (token !== inside) {\n\t\t\t\tPrism.languages.markdown[token].inside.content.inside[inside] = Prism.languages.markdown[inside];\n\t\t\t}\n\t\t});\n\t});\n\n\tPrism.hooks.add('after-tokenize', function (env) {\n\t\tif (env.language !== 'markdown' && env.language !== 'md') {\n\t\t\treturn;\n\t\t}\n\n\t\tfunction walkTokens(tokens) {\n\t\t\tif (!tokens || typeof tokens === 'string') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tfor (var i = 0, l = tokens.length; i < l; i++) {\n\t\t\t\tvar token = tokens[i];\n\n\t\t\t\tif (token.type !== 'code') {\n\t\t\t\t\twalkTokens(token.content);\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t/*\n\t\t\t\t * Add the correct `language-xxxx` class to this code block. Keep in mind that the `code-language` token\n\t\t\t\t * is optional. But the grammar is defined so that there is only one case we have to handle:\n\t\t\t\t *\n\t\t\t\t * token.content = [\n\t\t\t\t *     <span class=\"punctuation\">```</span>,\n\t\t\t\t *     <span class=\"code-language\">xxxx</span>,\n\t\t\t\t *     '\\n', // exactly one new lines (\\r or \\n or \\r\\n)\n\t\t\t\t *     <span class=\"code-block\">...</span>,\n\t\t\t\t *     '\\n', // exactly one new lines again\n\t\t\t\t *     <span class=\"punctuation\">```</span>\n\t\t\t\t * ];\n\t\t\t\t */\n\n\t\t\t\tvar codeLang = token.content[1];\n\t\t\t\tvar codeBlock = token.content[3];\n\n\t\t\t\tif (codeLang && codeBlock &&\n\t\t\t\t\tcodeLang.type === 'code-language' && codeBlock.type === 'code-block' &&\n\t\t\t\t\ttypeof codeLang.content === 'string') {\n\n\t\t\t\t\t// this might be a language that Prism does not support\n\n\t\t\t\t\t// do some replacements to support C++, C#, and F#\n\t\t\t\t\tvar lang = codeLang.content.replace(/\\b#/g, 'sharp').replace(/\\b\\+\\+/g, 'pp');\n\t\t\t\t\t// only use the first word\n\t\t\t\t\tlang = (/[a-z][\\w-]*/i.exec(lang) || [''])[0].toLowerCase();\n\t\t\t\t\tvar alias = 'language-' + lang;\n\n\t\t\t\t\t// add alias\n\t\t\t\t\tif (!codeBlock.alias) {\n\t\t\t\t\t\tcodeBlock.alias = [alias];\n\t\t\t\t\t} else if (typeof codeBlock.alias === 'string') {\n\t\t\t\t\t\tcodeBlock.alias = [codeBlock.alias, alias];\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcodeBlock.alias.push(alias);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\twalkTokens(env.tokens);\n\t});\n\n\tPrism.hooks.add('wrap', function (env) {\n\t\tif (env.type !== 'code-block') {\n\t\t\treturn;\n\t\t}\n\n\t\tvar codeLang = '';\n\t\tfor (var i = 0, l = env.classes.length; i < l; i++) {\n\t\t\tvar cls = env.classes[i];\n\t\t\tvar match = /language-(.+)/.exec(cls);\n\t\t\tif (match) {\n\t\t\t\tcodeLang = match[1];\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tvar grammar = Prism.languages[codeLang];\n\n\t\tif (!grammar) {\n\t\t\tif (codeLang && codeLang !== 'none' && Prism.plugins.autoloader) {\n\t\t\t\tvar id = 'md-' + new Date().valueOf() + '-' + Math.floor(Math.random() * 1e16);\n\t\t\t\tenv.attributes['id'] = id;\n\n\t\t\t\tPrism.plugins.autoloader.loadLanguages(codeLang, function () {\n\t\t\t\t\tvar ele = document.getElementById(id);\n\t\t\t\t\tif (ele) {\n\t\t\t\t\t\tele.innerHTML = Prism.highlight(ele.textContent, Prism.languages[codeLang], codeLang);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t} else {\n\t\t\tenv.content = Prism.highlight(textContent(env.content), grammar, codeLang);\n\t\t}\n\t});\n\n\tvar tagPattern = RegExp(Prism.languages.markup.tag.pattern.source, 'gi');\n\n\t/**\n\t * A list of known entity names.\n\t *\n\t * This will always be incomplete to save space. The current list is the one used by lowdash's unescape function.\n\t *\n\t * @see {@link https://github.com/lodash/lodash/blob/2da024c3b4f9947a48517639de7560457cd4ec6c/unescape.js#L2}\n\t */\n\tvar KNOWN_ENTITY_NAMES = {\n\t\t'amp': '&',\n\t\t'lt': '<',\n\t\t'gt': '>',\n\t\t'quot': '\"',\n\t};\n\n\t// IE 11 doesn't support `String.fromCodePoint`\n\tvar fromCodePoint = String.fromCodePoint || String.fromCharCode;\n\n\t/**\n\t * Returns the text content of a given HTML source code string.\n\t *\n\t * @param {string} html\n\t * @returns {string}\n\t */\n\tfunction textContent(html) {\n\t\t// remove all tags\n\t\tvar text = html.replace(tagPattern, '');\n\n\t\t// decode known entities\n\t\ttext = text.replace(/&(\\w{1,8}|#x?[\\da-f]{1,8});/gi, function (m, code) {\n\t\t\tcode = code.toLowerCase();\n\n\t\t\tif (code[0] === '#') {\n\t\t\t\tvar value;\n\t\t\t\tif (code[1] === 'x') {\n\t\t\t\t\tvalue = parseInt(code.slice(2), 16);\n\t\t\t\t} else {\n\t\t\t\t\tvalue = Number(code.slice(1));\n\t\t\t\t}\n\n\t\t\t\treturn fromCodePoint(value);\n\t\t\t} else {\n\t\t\t\tvar known = KNOWN_ENTITY_NAMES[code];\n\t\t\t\tif (known) {\n\t\t\t\t\treturn known;\n\t\t\t\t}\n\n\t\t\t\t// unable to decode\n\t\t\t\treturn m;\n\t\t\t}\n\t\t});\n\n\t\treturn text;\n\t}\n\n\tPrism.languages.md = Prism.languages.markdown;\n\n}(Prism));\n","import {\n    Editor,\n    Range,\n    Point,\n    Element as SlateElement,\n    Transforms,\n    Node,\n    Path,\n} from 'slate'\n\nconst withCode = editor => {\n    const { isEmpty, deleteBackward, insertFragment } = editor\n\n    editor.isEmpty = element => {\n        if (element.type === 'code') {\n            return false\n        }\n\n        return isEmpty(element)\n    }\n\n    editor.insertFragment = node => {\n        if (!Array.isArray(node)) {\n            insertFragment(node)\n            return\n        }\n\n        const { selection } = editor\n\n        if (selection) {\n            const { anchor, focus } = selection\n            const commom = Node.common(editor, anchor.path, focus.path)\n            const path = commom[1]\n\n            // 获得tablePath\n            let codePath = [...path]\n            while (true) {\n                // 如果不是在同一个table中，不再继续处理\n                if (codePath.length == 0) {\n                    return insertFragment(node)\n                }\n\n                const n = Node.get(editor, codePath)\n                if (n.type && n.type == 'code') {\n                    break\n                }\n\n                codePath = Path.parent(codePath)\n            }\n\n            const texts = []\n            for (var child of node) {\n                if (child.type === 'code') {\n                    for (var c of child.children) {\n                        texts.push({\n                            type: 'codeLine',\n                            children: [\n                                {\n                                    text: Node.string(c)\n                                }\n                            ]\n                        })\n                    }\n                } else {\n                    texts.push({\n                        type: 'codeLine',\n                        children: [\n                            {\n                                text: Node.string(child)\n                            }\n                        ]\n                    })\n                }\n            }\n\n            Transforms.insertNodes(editor, texts)\n\n            return\n        }\n\n        return insertFragment(node)\n    }\n\n    editor.deleteBackward = unit => {\n        const { selection } = editor\n\n        if (selection && Range.isCollapsed(selection)) {\n            const [code] = Editor.nodes(editor, {\n                match: n =>\n                    !Editor.isEditor(n) &&\n                    SlateElement.isElement(n) &&\n                    n.type === 'code',\n            })\n\n            if (code) {\n                const [, codePath] = code\n                const start = Editor.start(editor, codePath)\n\n                if (Point.equals(selection.anchor, start)) {\n                    Transforms.setNodes(editor, { type: 'paragraph' }, { at: [...codePath, 0] })\n\n                    deleteBackward(unit)\n\n                    return\n                }\n            }\n        }\n\n        deleteBackward(unit)\n    }\n\n    return editor\n}\n\nconst withCodeLine = editor => {\n    const { isEmpty, insertBreak, insertText, onTabDown } = editor\n\n    editor.isEmpty = element => {\n        if (element.type === 'codeLine') {\n            return false\n        }\n\n        return isEmpty(element)\n    }\n\n    // 输入tab事件拦截，return的是true就代码事件被重置\n    editor.onTabDown = () => {\n        const block = Editor.above(editor, {\n            match: n => Editor.isBlock(editor, n),\n        });\n        if (!!block) {\n            const [element, path] = block;\n\n            if (!element.type || element.type === 'codeLine') {\n                insertText(\"\\t\");\n\n                return true;\n            }\n        }\n\n        if (!onTabDown) {\n            return false\n        }\n\n        return onTabDown();\n    };\n\n    editor.insertBreak = () => {\n        const block = Editor.above(editor, {\n            match: n => Editor.isBlock(editor, n),\n        });\n        if (!!block) {\n            const [element, path] = block;\n\n            if (element.type && element.type == 'codeLine') {\n                const codeArr = Editor.string(editor, path).split(/\\t/);\n\n                if (codeArr.length === 1) {\n                    insertBreak();\n                } else {\n                    const tabArr = [];\n                    for (let i = 0; i < codeArr.length - 1; i++) {\n                        if (codeArr[i] != '') {\n                            break\n                        }\n\n                        tabArr.push(\"\\t\");\n                    }\n                    insertBreak();\n\n                    if (tabArr.length > 0) {\n                        insertText(tabArr.join(''));\n                    }\n                }\n\n                return;\n            }\n        }\n\n        insertBreak();\n    };\n\n\n    return editor\n}\n\nexport { withCode, withCodeLine }","import { Editor } from 'slate'\nimport Prism from 'prismjs'\nimport 'prismjs/components/prism-sql'\nimport 'prismjs/components/prism-go'\nimport 'prismjs/components/prism-python'\nimport 'prismjs/components/prism-typescript'\nimport 'prismjs/components/prism-php'\nimport 'prismjs/components/prism-c'\nimport 'prismjs/components/prism-java'\nimport 'prismjs/components/prism-ruby'\nimport 'prismjs/components/prism-json'\nimport 'prismjs/components/prism-markdown'\n\nconst CodeDcorate = (editor, [node, path]) => {\n    // 判断是否设置了语言，并且是否支持对应语言\n    if (!node.language) {\n        return []\n    }\n\n    const grammar = Prism.languages[node.language];\n    if (!grammar) {\n        return []\n    }\n\n    if (!node.children) {\n        return []\n    }\n\n    let texts = []\n    for (let i = 0; i < node.children.length; i++) {\n        const linePath = path.concat(i);\n\n        texts = texts.concat(Editor.string(editor, linePath));\n    }\n\n    const tokens = Prism.tokenize(texts.join('\\n'), grammar);\n    const ranges = [];\n    let offset = 0;\n    let lineOrder = 0;\n\n    const calculate = (childrenTokens, childrenType = null) => {\n        const tokensForEach = (token, accu) => {\n            if (typeof token === 'string') {\n                if (token.indexOf('\\n') > -1) {\n                    const ts = token.split(/\\n/)\n\n                    offset = ts[ts.length - 1].length\n                    lineOrder += ts.length - 1\n                    return\n                }\n\n                if (!!childrenType) {\n                    const linePath = path.concat(lineOrder);\n                    ranges.push({\n                        anchor: { path: linePath, offset },\n                        focus: { path: linePath, offset: offset + token.length },\n                        codeType: childrenType,\n                    })\n                }\n\n                offset += token.length;\n            } else {\n                if (typeof token.content === 'string') {\n                    const { content } = token;\n\n                    if (content.indexOf('\\n') > -1) {\n                        const cs = content.split(/\\n/);\n                        for (let i = 0; i < cs.length; i++) {\n                            const linePath = path.concat(lineOrder);\n                            if (i === 0) {\n                                ranges.push({\n                                    anchor: { path: linePath, offset },\n                                    focus: { path: linePath, offset: offset + cs[i].length },\n                                    codeType: token.type,\n                                });\n                            } else {\n                                ranges.push({\n                                    anchor: { path: linePath, offset: 0 },\n                                    focus: { path: linePath, offset: offset + cs[i].length },\n                                    codeType: token.type,\n                                });\n\n                                offset = cs[i].length;\n                            }\n\n                            i < cs.length - 1 && lineOrder++;\n                        }\n                    } else {\n                        const linePath = path.concat(lineOrder);\n                        ranges.push({\n                            anchor: { path: linePath, offset },\n                            focus: { path: linePath, offset: offset + token.length },\n                            codeType: token.type,\n                        });\n\n                        offset += token.length;\n                    }\n                } else {\n                    calculate(token.content, token.alias || token.type);\n                }\n            }\n        }\n\n        childrenTokens.forEach(tokensForEach);\n    }\n\n    calculate(tokens)\n    return ranges\n}\n\nexport { CodeDcorate }","const codeColorConfig = {\n    comment: 'slategray',\n    operator: '#9a6e3a',\n    url: '#9a6e3a',\n    keyword: '#07a',\n    variable: '#e90',\n    regex: '#e90',\n    number: '#905',\n    boolean: '#905',\n    tag: '#905',\n    constant: '#905',\n    symbol: '#905',\n    selector: '#905',\n    'attr-name': '#905',\n    punctuation: '#999',\n    string: '#690',\n    char: '#690',\n    function: '#dd4a68',\n    'class-name': '#dd4a68',\n    builtin: '#1d39c4',\n}\n\nexport { codeColorConfig }","import { codeColorConfig } from './utils/config';\nimport React from 'react';\n\nconst Leaf = ({ attributes, children, leaf }) => {\n\tif (!leaf.codeType || !codeColorConfig[leaf.codeType]) {\n\t\treturn <span {...attributes}>{children}</span>;\n\t}\n\n\treturn (\n\t\t<span style={{ color: codeColorConfig[leaf.codeType] }} {...attributes}>\n\t\t\t{children}\n\t\t</span>\n\t);\n};\n\nexport { Leaf };\n","import { Element, CodeLineElement } from \"./element\"\nimport { AddMenu, EditMenu } from './menu'\nimport { withCode, withCodeLine } from './plugin'\nimport { CodeDcorate } from \"./deorate\"\nimport { Leaf } from \"./leaf\"\n\nconst Code = {\n    type: 'code',\n    IsBlock: true,\n    AddMenu,\n    EditMenu,\n    Element,\n    Plugin: withCode,\n    Decorate: CodeDcorate,\n    Leaf\n}\n\nconst CodeLine = {\n    type: 'codeLine',\n    IsBlock: false,\n    Element: CodeLineElement,\n    Plugin: withCodeLine,\n}\n\nexport { Code, CodeLine }","import { Transforms } from 'slate';\nimport { ReactEditor } from 'slate-react';\n\nconst setNodeTag = (editor, element, key, value, at = null) => {\n    if (at) {\n        Transforms.setNodes(editor, { [key]: value }, { at: at });\n    } else if (!element) {\n        // 如果没有传入对象，则操作当前行\n        Transforms.setNodes(editor, { [key]: value });\n    } else {\n        const checkedAt = ReactEditor.findPath(editor, element);\n        Transforms.setNodes(editor, { [key]: value }, { at: checkedAt });\n    }\n}\n\nconst setVideo = (editor, element, src) => {\n    if (element) {\n        const at = ReactEditor.findPath(editor, element);\n        const cardBlock = {\n            type: 'video',\n            src: src,\n            width: 700,\n            children: [\n                {\n                    text: '',\n                }\n            ]\n        };\n\n        Transforms.setNodes(editor, cardBlock, { at });\n    }\n}\n\nconst setTextAlign = (editor, element, textAlign) => {\n    setNodeTag(editor, element, 'textAlign', textAlign)\n}\n\nconst setWidth = (editor, element, width) => {\n    if (width < 40 || width > 2000) {\n        return\n    }\n\n    setNodeTag(editor, element, 'width', width)\n}\n\nexport { setTextAlign, setWidth, setVideo }","import { Button, Popover, Input } from 'antd';\nimport {\n\tVideoCameraOutlined,\n\tAlignLeftOutlined,\n\tAlignCenterOutlined,\n\tAlignRightOutlined,\n\tMinusCircleOutlined,\n\tPlusCircleOutlined,\n} from '@ant-design/icons';\nimport Select from '../../components/button/select';\nimport { setVideo, setTextAlign, setWidth } from './utils/node';\nimport { useSlate } from 'slate-react';\nimport Single from '../../components/button/single';\nimport { useState } from 'react';\nimport isUrl from 'is-url';\nimport imageExtensions from '../../util/imgExt';\nimport React from 'react';\n\n// 判断是不是图片链接\nconst isImageUrl = url => {\n\tif (!url) return false;\n\tif (!isUrl(url)) return false;\n\tconst ext = new URL(url).pathname.split('.').pop();\n\treturn imageExtensions.includes(ext);\n};\n\nconst EditMenu = props => {\n\tconst editor = useSlate();\n\tconst { element } = props;\n\n\treturn (\n\t\t<>\n\t\t\t<Select\n\t\t\t\tselected={element.textAlign}\n\t\t\t\tbuttons={textAlignButtonList}\n\t\t\t\tonChange={key => {\n\t\t\t\t\tsetTextAlign(editor, element, key);\n\t\t\t\t}}\n\t\t\t/>\n\t\t\t<hr style={{ border: '1px solid #f5f5f5' }} />\n\t\t\t<Button\n\t\t\t\tsize=\"small\"\n\t\t\t\ttype=\"text\"\n\t\t\t\ticon={<MinusCircleOutlined style={{ color: '#389e0d' }} />}\n\t\t\t\tonMouseDown={() => {\n\t\t\t\t\tsetWidth(editor, element, element.width - 20);\n\t\t\t\t}}\n\t\t\t/>\n\t\t\t<Button\n\t\t\t\tsize=\"small\"\n\t\t\t\ttype=\"text\"\n\t\t\t\ticon={<PlusCircleOutlined style={{ color: '#f5222d' }} />}\n\t\t\t\tonMouseDown={() => {\n\t\t\t\t\tsetWidth(editor, element, element.width + 20);\n\t\t\t\t}}\n\t\t\t/>\n\t\t</>\n\t);\n};\n\nconst AddMenu = props => {\n\tconst editor = useSlate();\n\tconst { element } = props;\n\n\tconst URL = Props => {\n\t\tconst [value, setValue] = useState('');\n\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<div style={{ display: 'inline-block', width: '280px' }}>\n\t\t\t\t\t<Input value={value} placeholder=\"输入视频地址\" onChange={v => setValue(v.target.value)} />\n\t\t\t\t</div>\n\t\t\t\t&nbsp;\n\t\t\t\t<Single\n\t\t\t\t\tselected={true}\n\t\t\t\t\tdescription=\"video的url\"\n\t\t\t\t\tcontent=\"确认\"\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tsetVideo(editor, element, value);\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t</>\n\t\t);\n\t};\n\n\tconst edit = () => {\n\t\treturn <>{<URL />}</>;\n\t};\n\n\treturn (\n\t\t<Popover content={edit()} placement=\"topRight\">\n\t\t\t<Button\n\t\t\t\ttype=\"text\"\n\t\t\t\ticon={<VideoCameraOutlined style={{ color: '#00474f' }} />}\n\t\t\t\tstyle={{ width: '100%', textAlign: 'left' }}\n\t\t\t>\n\t\t\t\t视频\n\t\t\t</Button>\n\t\t</Popover>\n\t);\n};\n\nconst textAlignButtonList = [\n\t{\n\t\tkey: 'left',\n\t\tcontent: <AlignLeftOutlined />,\n\t\tdescription: '左对齐',\n\t},\n\t{\n\t\tkey: 'center',\n\t\tcontent: <AlignCenterOutlined />,\n\t\tdescription: '居中',\n\t},\n\t{\n\t\tkey: 'right',\n\t\tcontent: <AlignRightOutlined />,\n\t\tdescription: '右对齐',\n\t},\n];\n\nexport { EditMenu, AddMenu };\n","import { memo } from 'react';\nimport React from 'react';\n\nconst Element = memo(props => {\n\t// 基础配置\n\tconst { attributes, children, element } = props;\n\n\treturn (\n\t\t<div {...attributes} style={{ width: '100%', textAlign: element.textAlign || 'left' }}>\n\t\t\t<iframe\n\t\t\t\tsrc={element.src}\n\t\t\t\tscrolling=\"no\"\n\t\t\t\tborder={0}\n\t\t\t\tframeBorder=\"no\"\n\t\t\t\tframespacing={0}\n\t\t\t\tallowFullScreen={true}\n\t\t\t\tstyle={{\n\t\t\t\t\twidth: `${element.width}px`,\n\t\t\t\t\theight: `${element.width * 0.7}px`,\n\t\t\t\t\tmaxWidth: '100%',\n\t\t\t\t}}\n\t\t\t></iframe>\n\t\t\t{children}\n\t\t</div>\n\t);\n});\n\nexport { Element };\n","const withVideo = editor => {\n    const { isEmpty, isVoid } = editor\n\n    editor.isEmpty = element => {\n        if (element.type === 'video') {\n            return false\n        }\n\n        return isEmpty(element)\n    }\n\n    editor.isVoid = element => {\n        return element.type === 'video' ? true : isVoid(element);\n    }\n\n    return editor\n}\n\nexport { withVideo }","import { EditMenu, AddMenu } from \"./menu\"\nimport { Element } from \"./element\"\nimport { withVideo } from \"./plugin\"\n\nconst Video = {\n    type: 'video',\n    IsBlock: true,\n    AddMenu,\n    EditMenu,\n    Element,\n    Plugin: withVideo,\n}\n\nexport { Video }","import { Transforms, Path, Editor } from 'slate';\nimport { ReactEditor } from 'slate-react';\n\nconst deleteNode = (editor, element, at = null) => {\n    if (!at) {\n        at = ReactEditor.findPath(editor, element);\n    }\n    // 判断当前内容同级别是否还有内容，如果只有自己，则只清空格式\n    let [el,] = Editor.node(editor, {})\n    el = getFromNodeEntry(el, Path.parent(at))\n    if (el.children.length > 1) {\n        Transforms.removeNodes(editor, { at });\n    } else {\n        Transforms.removeNodes(editor, { at });\n        const node = {\n            type: 'paragraph',\n            children: [{ text: '' }],\n        }\n        Transforms.insertNodes(editor, node, { at })\n    }\n}\n\nconst insertNextEmptyNode = (editor, element) => {\n    const node = {\n        type: 'paragraph',\n        children: [{ text: '' }],\n    }\n\n    const at = ReactEditor.findPath(editor, element);\n\n    Transforms.insertNodes(editor, node, { at: Path.next(at) })\n}\n\nconst insertPreviousEmptyNode = (editor, element) => {\n    const node = {\n        type: 'paragraph',\n        children: [{ text: '' }],\n    }\n\n    const at = ReactEditor.findPath(editor, element);\n\n    Transforms.insertNodes(editor, node, { at })\n}\n\nconst getFromNodeEntry = (nodeEntry, path) => {\n    let element = nodeEntry\n\n    for (var i of path) {\n        element = element.children[i]\n    }\n\n    return element\n}\n\nexport { deleteNode, insertNextEmptyNode, insertPreviousEmptyNode }","import {\n\tDeleteOutlined,\n\tPlusCircleOutlined,\n\tEditOutlined,\n\tUpCircleOutlined,\n\tDownCircleOutlined,\n} from '@ant-design/icons';\nimport { Popover, Button } from 'antd';\nimport { ReactEditor, useSlate } from 'slate-react';\nimport React, { useState } from 'react';\nimport { deleteNode, insertNextEmptyNode, insertPreviousEmptyNode } from './node';\n\nconst Menu = props => {\n\tconst { element, children, plugins, editMenu } = props;\n\tconst editor = useSlate();\n\n\t// 如果editor有设置isEmpty函数就用editor的\n\tconst isEmpty = editor.isEmpty(element);\n\n\tconst AddMenu = props => {\n\t\tconst at = ReactEditor.findPath(editor, element);\n\t\tconst level = at.length;\n\n\t\tconst addMenuList = [];\n\t\tfor (var i = 0; i < plugins.length; i++) {\n\t\t\tif (!plugins[i].IsBlock) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif (plugins[i].Level && plugins[i].Level < level) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\taddMenuList.push(<span key={i}>{plugins[i].AddMenu(props)}</span>);\n\t\t\taddMenuList.push(<hr key={`${i}hr`} style={{ border: '1px solid #f5f5f5' }} />);\n\t\t}\n\n\t\treturn <div style={{ width: '200px' }}>{addMenuList}</div>;\n\t};\n\n\tconst EditMenu = props => {\n\t\treturn (\n\t\t\t<div style={{ width: '200px' }}>\n\t\t\t\t{editMenu ? editMenu(props) : null}\n\t\t\t\t{editMenu ? <hr style={{ border: '1px solid #f5f5f5' }} /> : null}\n\t\t\t\t<Button\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\ticon={<DeleteOutlined style={{ color: 'red' }} />}\n\t\t\t\t\tstyle={{ width: '100%', textAlign: 'left' }}\n\t\t\t\t\tonMouseDown={() => deleteNode(editor, element)}\n\t\t\t\t>\n\t\t\t\t\t清空当前行\n\t\t\t\t</Button>\n\t\t\t\t<hr style={{ border: '1px solid #f5f5f5' }} />\n\t\t\t\t<Button\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\ticon={<UpCircleOutlined style={{ color: '#096dd9' }} />}\n\t\t\t\t\tstyle={{ width: '100%', textAlign: 'left' }}\n\t\t\t\t\tonMouseDown={() => insertPreviousEmptyNode(editor, element)}\n\t\t\t\t>\n\t\t\t\t\t上方插入空白行\n\t\t\t\t</Button>\n\t\t\t\t<hr style={{ border: '1px solid #f5f5f5' }} />\n\t\t\t\t<Button\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\ticon={<DownCircleOutlined style={{ color: '#237804' }} />}\n\t\t\t\t\tstyle={{ width: '100%', textAlign: 'left' }}\n\t\t\t\t\tonMouseDown={() => insertNextEmptyNode(editor, element)}\n\t\t\t\t>\n\t\t\t\t\t下方插入空白行\n\t\t\t\t</Button>\n\t\t\t</div>\n\t\t);\n\t};\n\n\tconst EditIcon = () => {\n\t\tif (isEmpty) {\n\t\t\treturn <PlusCircleOutlined />;\n\t\t} else {\n\t\t\treturn <EditOutlined />;\n\t\t}\n\t};\n\n\tconst LeftMenu = () => {\n\t\tif (isEmpty) {\n\t\t\treturn <AddMenu {...props} />;\n\t\t} else {\n\t\t\treturn <EditMenu {...props} />;\n\t\t}\n\t};\n\n\tconst [isEdit, setIsEdit] = useState(false);\n\n\tconst HoverMenu = () => {\n\t\treturn (\n\t\t\t<div onMouseOver={() => setIsEdit(true)} onMouseLeave={() => setIsEdit(false)}>\n\t\t\t\t{isEdit ? <LeftMenu /> : <EditIcon />}\n\t\t\t</div>\n\t\t);\n\t};\n\n\treturn (\n\t\t<Popover content={<HoverMenu />} placement=\"leftTop\">\n\t\t\t<div\n\t\t\t\tstyle={{\n\t\t\t\t\tbackgroundColor: isEdit ? '#e6f7ff' : '',\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{children}\n\t\t\t</div>\n\t\t</Popover>\n\t);\n};\n\nexport { Menu };\n","import React, { useMemo, useCallback, useState } from 'react';\nimport { createEditor, Transforms } from 'slate';\nimport { Slate, Editable, withReact } from 'slate-react';\nimport { withHistory } from 'slate-history';\nimport { Paragraph, Link, Star } from './plugins/paragraph';\nimport { Card } from './plugins/card';\nimport { Image } from './plugins/image';\nimport { Table, TableRow, TableCell, TableCellMerged } from './plugins/table';\nimport { Divider } from './plugins/divider';\nimport { Hr } from './plugins/hr';\nimport { Code, CodeLine } from './plugins/code';\nimport { Video } from './plugins/video';\nimport { Menu } from './menu';\nimport _ from 'lodash';\nimport { Affix } from 'antd';\n\nimport './index.css';\n\nconst defaultPlugins = [\n\t// 段落\n\tParagraph,\n\tLink,\n\tStar,\n\t// 卡片\n\tCard,\n\t// 图片\n\tImage,\n\t// 表格\n\tTable,\n\tTableRow,\n\tTableCell,\n\tTableCellMerged,\n\t// 代码块\n\tCode,\n\tCodeLine,\n\t// 分割线\n\tDivider,\n\tHr,\n\t// 视频\n\tVideo,\n];\n\nconst withCommon = editor => {\n\teditor.readOnly = false;\n\teditor.param = {};\n\tconst { onChange } = editor;\n\tconst _onChange = _.throttle(onChange, 16);\n\teditor.onChange = () => {\n\t\t_onChange();\n\t};\n\treturn editor;\n};\n\nconst SEditor = props => {\n\tconst { value, onChange, plugins, param } = props;\n\tconst readOnly = !!props.readOnly;\n\n\tconst newPlugins = [...defaultPlugins, ...plugins];\n\n\tconst editor = useMemo(() => {\n\t\tlet reditor = withCommon(withHistory(withReact(createEditor())));\n\n\t\t// 排在前边的插件，在wrap的时候放在最外层，保证优先执行\n\t\tfor (var i = newPlugins.length - 1; i >= 0; i--) {\n\t\t\tif (newPlugins[i].Plugin) {\n\t\t\t\treditor = newPlugins[i].Plugin(reditor);\n\t\t\t}\n\t\t}\n\n\t\treturn reditor;\n\t}, []);\n\n\teditor.readOnly = readOnly;\n\teditor.param = param;\n\n\tconst renderElement = useCallback(props => {\n\t\tconst { attributes, children, element } = props;\n\n\t\tif (!element.type) {\n\t\t\telement.type = 'paragraph';\n\t\t}\n\n\t\tfor (var i = 0; i < newPlugins.length; i++) {\n\t\t\tconst Ele = newPlugins[i].Element;\n\t\t\tif (newPlugins[i].type === element.type) {\n\t\t\t\tif (newPlugins[i].IsBlock) {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<Menu element={element} plugins={newPlugins} editMenu={newPlugins[i].EditMenu}>\n\t\t\t\t\t\t\t<Ele attributes={attributes} children={children} element={element} />\n\t\t\t\t\t\t</Menu>\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\treturn <Ele attributes={attributes} children={children} element={element} />;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn <span {...attributes}>{children}</span>;\n\t}, []);\n\n\tconst renderElementReadOnly = useCallback(props => {\n\t\tconst { attributes, children, element } = props;\n\n\t\tif (!element.type) {\n\t\t\telement.type = 'paragraph';\n\t\t}\n\n\t\tfor (var i = 0; i < newPlugins.length; i++) {\n\t\t\tif (newPlugins[i].type === element.type) {\n\t\t\t\treturn newPlugins[i].Element({ attributes, children, element });\n\t\t\t}\n\t\t}\n\n\t\treturn <span {...attributes}>{children}</span>;\n\t}, []);\n\n\tconst renderLeaf = useCallback(({ attributes, children, leaf }) => {\n\t\tfor (var i = 0; i < newPlugins.length; i++) {\n\t\t\tif (newPlugins[i].Leaf) {\n\t\t\t\tchildren = newPlugins[i].Leaf({ attributes, children, leaf });\n\t\t\t}\n\t\t}\n\n\t\treturn <span {...attributes}>{children}</span>;\n\t}, []);\n\n\tconst Toolbar = props => {\n\t\tconst tools = [];\n\t\tfor (var i = 0; i < newPlugins.length; i++) {\n\t\t\tif (newPlugins[i].LeafBar) {\n\t\t\t\ttools.push(<span key={newPlugins[i].type}>{newPlugins[i].LeafBar(props)}</span>);\n\t\t\t}\n\t\t}\n\n\t\treturn <div>{tools}</div>;\n\t};\n\n\tconst onKeyDown = useCallback(event => {\n\t\t// 监听tab的快捷方式\n\t\tif (event.key == 'Tab' && editor.onTabDown && editor.onTabDown()) {\n\t\t\tevent.preventDefault();\n\t\t}\n\t}, []);\n\n\tconst Decorate = useCallback(([node, path]) => {\n\t\tfor (var i = 0; i < newPlugins.length; i++) {\n\t\t\tif (newPlugins[i].Decorate && newPlugins[i].type === node.type) {\n\t\t\t\treturn newPlugins[i].Decorate(editor, [node, path]);\n\t\t\t}\n\t\t}\n\n\t\treturn [];\n\t}, []);\n\treturn (\n\t\t<Slate editor={editor} value={value} onChange={onChange}>\n\t\t\t{readOnly ? null : (\n\t\t\t\t<>\n\t\t\t\t\t<Affix offsetTop={0}>\n\t\t\t\t\t\t<div style={{ padding: '10px', background: '#bae7ff' }}>\n\t\t\t\t\t\t\t<Toolbar />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Affix>\n\t\t\t\t\t<br />\n\t\t\t\t</>\n\t\t\t)}\n\t\t\t<Editable\n\t\t\t\tstyle={{\n\t\t\t\t\tfontSize: '16px',\n\t\t\t\t\tfontFamily: `-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial,\n                    'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',\n                    'Noto Color Emoji'`,\n\t\t\t\t}}\n\t\t\t\trenderElement={readOnly ? renderElementReadOnly : renderElement}\n\t\t\t\trenderLeaf={renderLeaf}\n\t\t\t\tonKeyDown={onKeyDown}\n\t\t\t\tdecorate={Decorate}\n\t\t\t\tspellCheck={false}\n\t\t\t\treadOnly={readOnly}\n\t\t\t\tscrollSelectionIntoView={(editor, domRange) => {}}\n\t\t\t\tplaceholder=\"输入文本\"\n\t\t\t/>\n\t\t</Slate>\n\t);\n};\n\nexport default SEditor;\n"],"names":["isObject","o","Object","prototype","toString","call","isPlainObject","undefined","ctor","constructor","prot","hasOwnProperty","n","r","arguments","length","t","Array","e","process","env","NODE_ENV","i","Y","apply","Error","map","join","Q","getPrototypeOf","Function","Z","isArray","L","s","v","keys","nn","forEach","u","has","a","get","f","set","add","c","X","Map","q","Set","p","l","slice","rn","writable","configurable","enumerable","value","create","d","y","clear","delete","h","freeze","isFrozen","b","tn","_","U","j","g","O","S","w","m","P","M","x","H","A","I","k","N","R","concat","D","z","getOwnPropertyDescriptor","E","F","T","C","en","on","Proxy","revocable","revoke","proxy","J","push","K","from","G","W","Symbol","B","Reflect","for","0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","20","21","22","23","24","ownKeys","getOwnPropertySymbols","getOwnPropertyNames","getOwnPropertyDescriptors","Number","isNaN","deleteProperty","defineProperty","setPrototypeOf","un","this","parseInt","produce","Promise","then","produceWithPatches","useProxies","setUseProxies","autoFreeze","setAutoFreeze","createDraft","finishDraft","applyPatches","path","op","$","an","fn","ln","bind","dn","_defineProperty","obj","key","DIRTY_PATHS","WeakMap","DIRTY_PATH_KEYS","FLUSHING","NORMALIZING","PATH_REFS","POINT_REFS","RANGE_REFS","ownKeys$9","object","enumerableOnly","symbols","filter","sym","_objectSpread$9","target","source","defineProperties","createEditor","editor","children","operations","selection","marks","isInline","isVoid","onChange","ref","Editor","pathRefs","PathRef","transform","_ref","pointRefs","PointRef","_ref2","rangeRefs","RangeRef","dirtyPaths","dirtyPathKeys","_path","oldDirtyPaths","oldDirtyPathKeys","Path","operationCanTransformPath","getDirtyPaths","Transforms","normalize","type","resolve","addMark","Range","isExpanded","setNodes","match","Text","isText","split","deleteBackward","unit","isCollapsed","reverse","deleteForward","deleteFragment","direction","getFragment","Node","fragment","insertBreak","splitNodes","always","insertFragment","insertNode","node","insertNodes","insertText","text","normalizeNode","entry","Element","isElement","at","voids","shouldHaveInlines","isEditor","_child","isLast","currentNode","prev","removeNodes","equals","loose","mergeNodes","removeMark","unsetNodes","levels","_path2","descendants","nodes","_ref3","_path3","ancestors","previousPath","previous","_path4","newPath","ancestor","_ancestor","oldAncestors","newAncestors","_p","newParent","newIndex","resultPath","_path5","_path6","_levels","nextPath","next","_objectWithoutPropertiesLoose","excluded","sourceKeys","indexOf","_objectWithoutProperties","sourceSymbolKeys","propertyIsEnumerable","CodepointType","getCharacterDistance","str","char","isRTL","isLTR","codepoints","codepointsIteratorRTL","left","None","right","distance","gb12Or13","code","codePointAt","getCodepointType","intersects","ZWJ","ExtPict","endsWithEmojiZWJ","substring","RI","endsWithOddNumberOfRIs","isBoundaryPair","SPACE","PUNCTUATION","CHAMELEON","getWordDistance","dist","started","charDist","remaining","splitByCharacterDistance","isWordCharacter","test","nextChar","nextRemaining","end","char1","charAt","isLowSurrogate","charCodeAt","char2","isHighSurrogate","yield","charCode","reExtend","rePrepend","reSpacingMark","reL","reV","reT","reLV","reLVT","reExtPict","Any","search","Extend","Prepend","SpacingMark","V","LV","LVT","NonBoundaryPairs","findIndex","endingEmojiZWJ","endingRIs","isNodeList","isAncestor","isElementList","every","val","isElementProps","props","isElementType","elementVal","elementKey","matches","element","_excluded$4","_excluded2$3","ownKeys$8","_objectSpread$8","IS_EDITOR_CACHE","above","mode","after","options","range","anchor","point","edge","focus","positions","before","start","edges","first","hasBlocks","some","isBlock","hasInlines","hasTexts","cachedIsEditor","isRange","Operation","isOperationList","isEnd","Point","isEdge","isStart","isEmpty","isNormalizing","offset","last","leaf","prevPath","_node","block","prevNode","blockPath","pointAfterLocation","parent","to","span","isPath","includes","universal","Span","isSpan","pass","isLower","hit","compare","emit","allPathKeys","force","popDirtyPath","pop","allPaths","withoutNormalizing","dirtyPath","max","_dirtyPath","_entry","parentPath","lastPath","depth","firstPath","common","isPoint","hasPath","pathRef","affinity","current","unref","refs","pointRef","isNewBlock","blockText","leafTextRemaining","leafTextOffset","string","isFirst","pointBeforeLocation","rangeRef","setNormalizing","unhangRange","endBlock","skip","isBefore","void","_excluded$3","_excluded2$2","IS_NODE_LIST_CACHE","root","child","index","JSON","stringify","another","descendant","elements","extractProps","_leaf","splice","isNode","cachedResult","isTextProps","visited","isAfter","nextIndex","texts","ownKeys$7","_objectSpread$7","isNodeOperation","isOperation","endsWith","position","properties","newProperties","isSelectionOperation","isTextOperation","inverse","isSibling","inversePath","inverseNewPath","_properties","_newProperties","paths","av","min","Math","endsAfter","as","bs","bv","endsAt","endsBefore","hasPrevious","isChild","isCommon","isDescendant","isParent","list","operation","relative","_op","_op2","_op3","_position","copy","_op4","onp","ownKeys$6","_objectSpread$6","result","_excluded$2","ownKeys$5","_objectSpread$5","isBackward","isAfterStart","isBeforeEnd","rs","re","ts","te","intersection","rest","s1","e1","s2","e2","isForward","points","affinityFocus","affinityAnchor","isDeepEqual","_key","_excluded$1","_excluded2$1","ownKeys$4","_objectSpread$4","omitText","isTextList","decorations","dec","leaves","_off","assign","middle","off","ownKeys$3","_objectSpread$3","applyToDraft","_point","_node2","_parent","_index","_point2","_key2","_node3","_parent2","_index2","truePath","_point3","_key3","_index3","_point4","_key4","_prev","preferNext","_offset","_text","_node4","_before","_after","_point5","_key5","_key6","_key7","_node5","_key8","_value","_path7","_before3","_after3","_node6","_parent4","_index4","newNode","_before2","_after2","_point6","_key9","GeneralTransforms","isDraft","_excluded","_excluded2","ownKeys$2","_objectSpread$2","NodeTransforms","hanging","select","_matchPath","isAtEnd","liftNodes","matchPath","_toPath","toPath","moveNodes","splitPath","_toPath2","commonPath","isPreviousSibling","emptyAncestor","hasSingleChildNest","emptyRef","toRef","targets","depths","_ref4","splitMode","endAtEndOfNode","startAtStartOfNode","hasChanges","height","deleteRange","beforeRef","highest","voidMatch","afterRef","voidNode","voidPath","afterPath","highestPath","lowestPath","unwrapNodes","_ref5","_loop","wrapNodes","rootPath","commonNode","wrapper","wrapperPath","ownKeys$1","_objectSpread$1","SelectionTransforms","collapse","deselect","move","opts","setSelection","setPoint","oldProps","newProps","TextTransforms","furthestVoid","_end","endOfDoc","startBlock","isAcrossBlocks","isSingleText","startVoid","endVoid","startRef","endRef","inlineElementMatch","_inlinePath","isBlockStart","isBlockEnd","isBlockEmpty","mergeStart","mergeEnd","matcher","starts","middles","ends","starting","inlineMatch","inlinePath","isInlineStart","isInlineEnd","middleRef","blockPathRef","_end2","_objectSpread","direction_1","RTL","LTR","rtl","RegExp","ltr","String","nodeType","clientHeight","scrollHeight","clientWidth","scrollWidth","getComputedStyle","overflowY","overflowX","ownerDocument","defaultView","frameElement","compute","window","scrollMode","inline","boundary","skipOverflowHiddenElements","TypeError","document","scrollingElement","documentElement","parentElement","body","visualViewport","width","innerWidth","innerHeight","scrollX","pageXOffset","scrollY","pageYOffset","getBoundingClientRect","top","bottom","borderLeftWidth","borderTopWidth","borderRightWidth","borderBottomWidth","offsetWidth","offsetHeight","scrollLeft","scrollTop","el","isOptionsObject","defaultBehavior","actions","behavior","canSmoothScroll","style","scroll","getOptions","scrollIntoView","targetIsDetached","contains","computeOptions","exports","IS_MAC","navigator","platform","MODIFIERS","alt","control","meta","shift","ALIASES","break","cmd","command","ctl","ctrl","del","down","esc","ins","mod","opt","option","return","space","spacebar","up","win","windows","CODES","backspace","tab","enter","pause","capslock","escape"," ","pageup","pagedown","home","arrowleft","arrowup","arrowright","arrowdown","insert","numlock","scrolllock",";","=",",","-",".","/","`","[","\\","]","'","isHotkey","hotkey","event","check","array","compareHotkey","parseHotkey","byKey","ret","values","replace","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","iterator","done","optional","name","toKeyName","modifier","which","toKeyCode","err","expected","actual","toLowerCase","toUpperCase","default","isCodeHotkey","isKeyHotkey","useSlateStatic","ReactEditor","findPath","React","createElement","ZeroWidthString","TextString","isTrailing","isLineBreak","useRef","forceUpdateCount","textContent","data-slate-string","data-slate-zero-width","data-slate-length","NODE_TO_INDEX","NODE_TO_PARENT","EDITOR_TO_WINDOW","EDITOR_TO_ELEMENT","ELEMENT_TO_NODE","NODE_TO_ELEMENT","NODE_TO_KEY","EDITOR_TO_KEY_TO_ELEMENT","IS_READ_ONLY","IS_FOCUSED","EDITOR_TO_ON_CHANGE","EDITOR_TO_RESTORE_DOM","PLACEHOLDER_SYMBOL","Leaf","renderPlaceholder","renderLeaf","DefaultLeaf","placeholderRef","useEffect","placeholderEl","editorEl","querySelector","minHeight","placeholderProps","placeholder","attributes","data-slate-placeholder","pointerEvents","maxWidth","display","opacity","userSelect","textDecoration","contentEditable","Fragment","data-slate-leaf","MemoizedLeaf","memo","Text$1","IS_IOS","userAgent","MSStream","IS_APPLE","IS_ANDROID","IS_FIREFOX","IS_SAFARI","IS_EDGE_LEGACY","IS_CHROME","IS_CHROME_LEGACY","IS_FIREFOX_LEGACY","IS_QQBROWSER","CAN_USE_DOM","HAS_BEFORE_INPUT_SUPPORT","globalThis","InputEvent","getTargetRanges","useIsomorphicLayoutEffect","useLayoutEffect","shallowCompare","obj1","obj2","isDecoratorRangeListEqual","other","rangeOwnProps","otherOwnProps","findKey","id","KEY_TO_ELEMENT","data-slate-node","MemoizedText","renderElement","DefaultElement","readOnly","useReadOnly","useChildren","dir","getDirection","Tag","data-slate-spacer","color","outline","MemoizedElement","EditorContext","createContext","useContext","DecorateContext","useDecorate","SelectedContext","useSelected","decorate","isLeafBlock","Element$1","sel","ds","Provider","HOTKEYS","bold","compose","moveBackward","moveForward","moveWordBackward","moveWordForward","extendBackward","extendForward","italic","splitBlock","undo","APPLE_HOTKEYS","moveLineBackward","moveLineForward","deleteLineBackward","deleteLineForward","deleteWordBackward","deleteWordForward","extendLineBackward","extendLineForward","redo","transposeCharacter","WINDOWS_HOTKEYS","generic","apple","isGeneric","isApple","isWindows","Hotkeys","isBold","isCompose","isMoveBackward","isMoveForward","isDeleteBackward","isDeleteForward","isDeleteLineBackward","isDeleteLineForward","isDeleteWordBackward","isDeleteWordForward","isExtendBackward","isExtendForward","isExtendLineBackward","isExtendLineForward","isItalic","isMoveLineBackward","isMoveLineForward","isMoveWordBackward","isMoveWordForward","isRedo","isSplitBlock","isTransposeCharacter","isUndo","ReadOnlyContext","SlateContext","useSlate","context","getDefaultView","isDOMComment","isDOMNode","isDOMElement","isDOMSelection","anchorNode","Selection","isDOMText","isPlainTextOnlyPaste","clipboardData","getData","types","normalizeDOMPoint","domPoint","childNodes","getEditableChildAndIndex","getEditableChild","hasShadowRoot","activeElement","shadowRoot","triedForward","triedBackward","getAttribute","getPlainText","domNode","nodeValue","childNode","getPropertyValue","tagName","catchSlateFragment","getSlateFragmentAttribute","dataTransfer","getClipboardData","DataTransfer","setData","AS_NATIVE","NATIVE_OPERATIONS","asNative","onFlushed","isNative","flushNativeEvents","nativeOps","Children","Editable$1","autoFocus","defaultDecorate","onDOMBeforeInput","propsOnDOMBeforeInput","DefaultPlaceholder","scrollSelectionIntoView","defaultScrollSelectionIntoView","Component","isComposing","setIsComposing","useState","state","useMemo","hasInsertPrefixInCompositon","isDraggingInternally","isUpdatingSelection","latestElement","domSelection","findDocumentOrShadowRoot","getSelection","isFocused","hasDomSelection","newDomRange","editorElement","hasDomSelectionInEditor","focusNode","slateRange","toSlateRange","exactMatch","hasRange","toDOMRange","setBaseAndExtent","endContainer","endOffset","startContainer","startOffset","removeAllRanges","setTimeout","toDOMNode","useCallback","hasEditableTarget","isDOMEventHandled","inputType","data","native","preventDefault","startsWith","targetRange","getWindow","insertData","onDOMSelectionChange","addEventListener","removeEventListener","throttle","anchorNodeSelectable","isTargetInsideVoid","focusNodeSelectable","scheduleOnDOMSelectionChange","data-gramm","role","spellCheck","autoCorrect","autoCapitalize","data-slate-editor","suppressContentEditableWarning","whiteSpace","wordWrap","onBeforeInput","isEventHandled","onInput","onBlur","relatedTarget","hasAttribute","hasDOMNode","toSlateNode","onClick","_start","hasTarget","onCompositionEnd","currentTextNode","leafPath","onCompositionUpdate","onCompositionStart","onCopy","setFragmentData","onCut","onDragOver","onDragStart","onDrop","draggedRange","findEventRange","onDragEnd","onFocus","onKeyDown","nativeEvent","maybeHistoryEditor","_maybeHistoryEditor","onPaste","domRange","leafEl","editable","slateNode","handler","shouldTreatEventAsHandled","isDefaultPrevented","isPropagationStopped","defaultPrevented","Key","unshift","getRootNode","Document","ShadowRoot","isReadOnly","blur","preventScroll","rangeCount","targetEl","message","closest","isContentEditable","toDOMPoint","querySelectorAll","attr","domAnchor","domFocus","createRange","startNode","endNode","isStartAtZeroWidth","isEndAtZeroWidth","setStart","setEnd","domEl","clientX","clientY","rect","isPrev","caretRangeFromPoint","caretPositionFromPoint","offsetNode","toSlatePoint","leafNode","nearestNode","nearestOffset","parentNode","textNode","contents","cloneContents","removeChild","_domNode$textContent","focusOffset","anchorOffset","collapsed","getDiffStart","getDiffEnd","prevLength","nextLength","getDiffOffsets","sliceText","offsets","diffText","removeText","combineInsertedText","insertedText","reduce","acc","getTextInsertion","prevText","nextText","textDiff","normalizeTextInsertionRange","insertionRange","characterBeforeAnchor","characterAfterAnchor","gatherMutationData","mutations","addedNodes","removedNodes","characterDataMutations","mutation","addedNode","removedNode","textInsertion","parentDOMNode","HTMLElement","isDeletion","isReplaceExpandedSelection","isTextInsertion","_ref6","isRemoveLeafNodes","_ref7","restoreDOM","onRestoreDOM","console","error","AndroidInputManager","flush","reconcileMutations","mutationData","replaceExpandedSelection","removeLeafNodes","insertion","useMutationObserver","callback","mutationObserver","MutationObserver","disconnect","observe","useTrackUserInput","receivedUserInput","animationFrameRef","onUserInput","cancelAnimationFrame","requestAnimationFrame","MUTATION_OBSERVER_CONFIG","childList","characterData","characterDataOldValue","subtree","useAndroidInputManager","inputManager","timeoutId","isReconciling","clearTimeout","AndroidEditable","contentKey","setContentKey","_unused","_unused2","FocusedContext","useFocused","Slate","setKey","onContextChange","setIsFocused","doRectsIntersect","compareRect","areRangesSameLine","range1","range2","rect1","rect2","findCurrentLineRange","parentRange","parentRangeBoundary","floor","withReact","parentBlockEntry","parentBlockPath","parentElementRange","currentLineRange","attach","trim","cloneRange","setEndAfter","zw","isNewline","appendChild","encoded","btoa","encodeURIComponent","setAttribute","div","innerHTML","decoded","decodeURIComponent","atob","parsed","parse","line","ReactDOM","unstable_batchedUpdates","Editable","History","isHistory","redos","undos","SAVING","MERGING","HistoryEditor","isHistoryEditor","history","isMerging","isSaving","withoutMerging","withoutSaving","withHistory","batch","lastBatch","lastOp","overwrite","shouldOverwrite","save","merge","shouldSave","shouldMerge","shouldClear","getLetterByOrder","order","fromCodePoint","orderUse","uListUse","setNodeTag","checkedAt","setChecked","checked","setTitle","title","setTextAlign","textAlign","setQuote","quote","setListOrder","listOrder","setNextListOrder","_block","_slicedToArray","nextBlock","_nextBlock","indentation","setList","setIndentation","wrapLink","url","unWrapLink","SlateElement","setURL","setLinkTarget","setStarNum","number","insertStar","isUrl_1","isUrl","protocolAndDomainRE","localhostDomainRE","nonLocalhostDomainRE","everythingAfterProtocol","Single","selected","description","content","Tooltip","Button","size","onMouseDown","marginLeft","marginRight","Select","buttonArray","buttons","isKeySelected","notNull","IndentationText","icon","minWidth","flex","cursor","CheckSquareOutlined","BorderOutlined","fontSize","padding","borderLeft","_extends","wordBreak","LinkElement","LinkEditor","_useState2","setValue","Input","info","DeleteOutlined","marginTop","open","overlayStyle","destroyTooltipOnHide","StarElement","focused","borderRadius","boxShadow","Rate","disabled","allowClear","backgroundColor","underline","strikethrough","fontColor","isColorActive","isFormatActive","format","isLinkActive","Muti","selectedKeys","backgroundColorList","fontColorList","normalConfig","BoldOutlined","ItalicOutlined","UnderlineOutlined","StrikethroughOutlined","CodeOutlined","execCoy","input","setSelectionRange","execCommand","LeafBar","getActiveColor","colorList","getColorList","BgColorsOutlined","FontColorsOutlined","getFormatActiveKeys","border","FormatPainterOutlined","cache","LinkBar","LinkOutlined","StarBar","StarFilled","formatPrinter","normalArr","insertEndBreak","nextData","withParagraph","onTabDown","line1","allParagraph","_createForOfIteratorHelper","beforeText","config","markdownKeys","strArr","_block2","_block3","_block4","withLink","withStar","#","##","###","####","#####",">","》","*","+","[]","【】","Menu","titleButton","titleButtonList","listButtonList","quoteButtonList","textAlignButtonList","UnorderedListOutlined","OrderedListOutlined","InfoCircleOutlined","AlignLeftOutlined","AlignCenterOutlined","AlignRightOutlined","Paragraph","IsBlock","AddMenu","EditMenu","Plugin","Link","Star","setIcon","setIconColor","iconColor","setCardType","cardType","setCard","iconMap","tag","TagOutlined","tags","TagsOutlined","sound","SoundOutlined","question","QuestionCircleOutlined","thunderbolt","ThunderboltOutlined","star","StarOutlined","setting","SettingOutlined","schedule","ScheduleOutlined","pushpin","PushpinOutlined","MessageOutlined","heart","HeartOutlined","edit","EditOutlined","snipets","SnippetsOutlined","aliwangwang","AliwangwangOutlined","wechat","WechatOutlined","weibo","WeiboOutlined","warning","WarningOutlined","careUP","CaretUpOutlined","careDown","CaretDownOutlined","smile","SmileOutlined","iconColorList","cardTypeList","CheckCircleOutlined","ExclamationCircleOutlined","CloseCircleOutlined","getCardTypeList","FontSizeOutlined","CreditCardOutlined","paddingTop","paddingBottom","Alert","showIcon","withCard","Card","setImage","src","insertImage","image","getInsertImageCallBack","setWidth","imageExtensions","isImageUrl","ext","URL","pathname","MinusCircleOutlined","PlusCircleOutlined","Popover","Props","placement","PictureOutlined","fallback","Image","withImage","files","onUploadImage","file","param","setTable","rows","cells","tableBlock","addRow","cellPath","isNext","table","getTableFromCell","tablePath","atRow","mergedCols","row","cellElement","rowSpan","_toConsumableArray","colSpan","col","cell","newCell","deleteRow","newRowSpan","addCol","getCellPathInTable","mergedRows","emptyCol","deleteCol","getRowFromCell","atCol","newColSpan","setColWidth","splitCells","nodeEntry","cellInTable","tableElement","mergeCells","tableSelection","startInTable","endInTable","startElement","cellMerged","clearTableSelection","getAllSpanCells","mergedCellRowCols","rowElement","getTableSelection","level","anchorPathInTable","focusPathInTable","minRow","maxRow","minCol","maxCol","_getCuerrentSelection2","getCuerrentSelection","minR","minC","maxR","maxC","change","isCellInTableSelection","atInTable","_current","ir","isLineCrossAnyCells","ar","ic","ac","_step2","_iterator2","isLineCrossCell","_line","lineStart","lineEnd","_cell","cellStart","cellEnd","rowPath","len","TableInput","_loop2","rowGrids","sColor","nColor","margin","onMouseOver","resetRowCol","cLength","grids","rowLength","colLength","normalColor","selectedColor","setRow","_useState4","setCol","rLength","onMouseLeave","settitle","TableOutlined","tr0","marginBottom","overflow","borderCollapse","RowElement","rowPathInTable","colEditor","cellSort","InsertRowLeftOutlined","DeleteColumnOutlined","InsertRowRightOutlined","RowEditor","InsertRowAboveOutlined","DeleteRowOutlined","InsertRowBelowOutlined","CellElement","verticalAlign","tdProps","MergedElement","withTable","startEl","endEl","hasTable","_editor$tableSelectio","_getCellPathInTable2","startRow","startCol","_getCellPathInTable4","endRow","endCol","newFagment","withTableRow","withTableCell","withTableCellMerged","MergeCellsOutlined","SplitCellsOutlined","Table","Level","TableRow","TableCell","TableCellMerged","setDivider","MinusSquareOutlined","Divider","orientation","withDivider","setHr","withHr","Hr","hover","setHover","tabSize","codeStringArr","success","CopyOutlined","language","CodeLineElement","fontFamily","setLanguage","setCode","_self","lang","uniqueId","Prism","EXTENSIONS","STATUS_ATTR","SELECTOR","logged","WorkerGlobalScope","self","plainTextGrammar","manual","disableWorkerMessageHandler","util","encode","tokens","Token","alias","objId","clone","deepClone","getLanguage","exec","className","classList","currentScript","stack","scripts","getElementsByTagName","isActive","defaultActivation","no","languages","plain","plaintext","txt","extend","redef","insertBefore","inside","token","grammar","newToken","old","DFS","property","propertyType","plugins","highlightAll","async","highlightAllUnder","container","selector","hooks","run","highlightElement","nodeName","insertHighlightedCode","highlightedCode","Worker","worker","filename","onmessage","evt","postMessage","immediateClose","highlight","tokenize","tokenList","LinkedList","addAfter","head","matchGrammar","startPos","rematch","patterns","cause","flags","patternObj","lookbehind","greedy","pattern","global","pos","tail","reach","removeCount","matchPattern","matchStr","removeFrom","wrapped","removeRange","nestedRematch","all","callbacks","classes","aliases","script","readyState","defer","highlightAutomaticallyCallback","close","matchedStr","lastIndex","lookbehindLength","count","module","markup","comment","prolog","doctype","internal-subset","punctuation","doctype-tag","cdata","namespace","special-attr","attr-value","attr-name","entity","includedCdataInside","included-cdata","def","attrName","html","mathml","svg","xml","ssml","atom","rss","css","atrule","rule","selector-function-argument","keyword","function","important","addInlined","addAttribute","clike","class-name","boolean","operator","javascript","regex","regex-source","regex-delimiter","regex-flags","function-variable","parameter","constant","hashbang","template-string","template-punctuation","interpolation","interpolation-punctuation","string-property","literal-property","js","msMatchesSelector","webkitMatchesSelector","py","rb","ps1","psm1","sh","bat","tex","xhr","pre","extension","autoloader","loadLanguages","lines","comma","XMLHttpRequest","onreadystatechange","status","responseText","statusText","send","fileHighlight","warn","Option","sql","variable","identifier","go","builtin","python","string-interpolation","format-spec","conversion-option","triple-quoted-string","decorator","typescript","typeInside","generic-function","string_interpolation","php","delimiter","package","class-name-definition","function-definition","argument-name","attribute","attribute-content","attribute-class-name","buildPlaceholders","tokenizePlaceholders","macro","macro-name","directive","directive-hash","expression","keywords","classNamePrefix","java","annotation","generics","import","static","ruby","double-colon","percentExpression","symbolName","regex-literal","symbol","method-definition","string-literal","command-literal","json","null","webmanifest","inner","createInline","tableCell","tableRow","tableLine","tagPattern","markdown","front-matter-block","front-matter","yaml","blockquote","table-data-rows","table-data","table-line","table-header-row","table-header","code-block","code-language","hr","url-reference","strike","code-snippet","walkTokens","codeLang","codeBlock","cls","KNOWN_ENTITY_NAMES","Date","valueOf","random","ele","getElementById","amp","lt","gt","quot","fromCharCode","md","showSearch","optionFilterProp","filterOption","filterSort","optionA","optionB","localeCompare","CodepenOutlined","withCode","codePath","withCodeLine","codeArr","tabArr","CodeDcorate","linePath","ranges","lineOrder","calculate","childrenTokens","childrenType","accu","codeType","cs","codeColorConfig","Code","Decorate","CodeLine","setVideo","VideoCameraOutlined","scrolling","frameBorder","framespacing","allowFullScreen","withVideo","Video","deleteNode","getFromNodeEntry","insertNextEmptyNode","insertPreviousEmptyNode","EditIcon","LeftMenu","editMenu","addMenuList","UpCircleOutlined","DownCircleOutlined","isEdit","setIsEdit","defaultPlugins","withCommon","_onChange","SEditor","Toolbar","tools","newPlugins","reditor","Ele","renderElementReadOnly","Affix","offsetTop","background"],"mappings":"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B,UAAWwC,QAASuG,sBAAqBzyC,SAHzD,SAAA3B,GAChBorC,eAAahqC,EAAQyL,EAAS7M,CAAG,EAE2D,CAAE,CAmB7F,CAEJ,EAEMi0C,gBAAkB,CACvB,CACCj0C,IAAK,KACLotC,QAAS,KACTD,YAAa,iBACd,EACA,CACCntC,IAAK,KACLotC,QAAS,KACTD,YAAa,kBACd,EACA,CACCntC,IAAK,KACLotC,QAAS,KACTD,YAAa,mBACd,EACA,CACCntC,IAAK,KACLotC,QAAS,KACTD,YAAa,oBACd,EACA,CACCntC,IAAK,KACLotC,QAAS,KACTD,YAAa,qBACd,GAGK+G,eAAiB,CACtB,CACCl0C,IAAK,KACLotC,QAASpiB,MAAAC,cAACopB,0BAAuB,EACjClH,YAAa,sBACd,EACA,CACCntC,IAAK,KACLotC,QAASpiB,MAAAC,cAACqpB,wBAAqB,EAC/BnH,YAAa,mBACd,EACA,CACCntC,IAAK,WACLotC,QAASpiB,MAAAC,cAACojB,wBAAqB,EAC/BlB,YAAa,uBACd,GAGKgH,gBAAkB,CACvB,CACCn0C,IAAK,QACLotC,QAASpiB,MAAAC,cAACspB,uBAAoB,EAC9BpH,YAAa,gBACd,GAGKiH,sBAAsB,CAC3B,CACCp0C,IAAK,OACLotC,QAASpiB,MAAAC,cAACupB,sBAAmB,EAC7BrH,YAAa,KACd,EACA,CACCntC,IAAK,SACLotC,QAASpiB,MAAAC,cAACwpB,wBAAqB,EAC/BtH,YAAa,IACd,EACA,CACCntC,IAAK,QACLotC,QAASpiB,MAAAC,cAACypB,uBAAoB,EAC9BvH,YAAa,KACd,GCjIKwH,UAAY,CACd1xC,KAAM,YACN2xC,QAAS,CAAA,EACTC,QAASd,OACTe,SAAUf,OACV/uC,QAAAA,UACAynB,KAAAA,OACA2kB,QAAAA,UACA2D,OAAQzC,aACZ,EAEM0C,KAAO,CACT/xC,KAAM,OACN2xC,QAAS,CAAA,EACT5vC,QAAS4pC,YACTmG,OAAQ7B,SACR9B,QAASU,OACb,EAEMmD,KAAO,CACThyC,KAAM,OACN2xC,QAAS,CAAA,EACT5vC,QAASuqC,YACTwF,O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AC,EAErD,EAGM8zC,YAAc,SAAC53C,EAAQ23C,GACzB,IAAM1pC,EAAQxN,OAAOsL,MAAM/L,EAAQ,CAC/BmC,MAAO,SAAAlN,GAAC,OAAIwL,OAAOsM,QAAQ/M,EAAQ/K,CAAC,CAAC,CACzC,CAAC,EACKgZ,IACKxC,EAAP++B,eAAkBv8B,EAAK,CAAA,EAAT,GACR4pC,EAAQ,CACVh2C,KAAM,QACNogB,MAAO,IACP01B,IAAAA,EACA13C,SAAU,CAAC,CAAEwD,KAAM,MAGnBzD,EAAO0N,QAAQjC,CAAO,EACtB9J,WAAWO,SAASlC,EAAQ63C,CAAK,EAEjCl2C,WAAW4B,YAAYvD,EAAQ63C,CAAK,EAGhD,EAGMC,uBAAyB,SAAC93C,EAAQyL,GACpC,OAAO,SAACksC,GACJC,YAAY53C,EAAQ23C,CAAG,EAE/B,EAEM3N,eAAe,SAAChqC,EAAQyL,EAASw+B,GACnCP,aAAW1pC,EAAQyL,EAAS,YAAaw+B,CAAS,CACtD,EAEM8N,WAAW,SAAC/3C,EAAQyL,EAASwW,GAC3BA,EAAQ,IAAc,IAARA,GAIlBynB,aAAW1pC,EAAQyL,EAAS,QAASwW,CAAK,CAC9C,ECxEe+1B,gBAAA,CACd,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,OACA,MACA,OACA,MACA,MACA,MACA,OACA,MACA,MACA,MACA,OACA,MACA,OACA,MACA,MACA,MACA,MACA,OACA,MACA,MACA,OACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,OACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,MACA,OACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,MACA,MACA,MACA,MACA,OACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,OACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,OACA,O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"}